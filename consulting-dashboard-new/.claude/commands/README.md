# Claude Code スラッシュコマンド集

このプロジェクトで利用可能な文字化け対策コマンドの一覧です。

## 文字化け対策コマンド

### `/fix-encoding` - 完全修正
**用途**: 文字化け問題の恒久的な解決
**所要時間**: 1-2分
**効果**: 恒久的（次回ログイン時から有効）

- 環境変数の恒久設定
- GitHub CLI・Git最適化
- 汚染ファイルのクリーンアップ
- 設定ファイル(.zshrc)への自動追記

### `/check-encoding` - 診断
**用途**: 現在の環境状態を詳細診断
**所要時間**: 30秒
**効果**: 診断のみ（変更なし）

- 環境変数の確認
- ファイル汚染チェック
- 問題レベルの判定
- 推奨対応の提示

### `/fix-encoding-now` - 緊急対応
**用途**: 現在セッションでの即座修正
**所要時間**: 10秒
**効果**: 一時的（現在セッションのみ）

- 環境変数の即座設定
- GitHub CLI緊急設定
- 設定ファイルは変更しない
- 最高速での文字化け解決

## 使用パターン

### 🔍 問題発生時の標準フロー
```
1. /check-encoding     ← 現状診断
2. /fix-encoding       ← 恒久修正
3. 新ターミナル起動    ← 設定確認
```

### 🚨 緊急時フロー
```
1. /fix-encoding-now   ← 即座対応
2. 作業継続           ← 一時的に解決
3. /fix-encoding       ← 後で恒久修正
```

### 🔧 定期メンテナンス
```
月1回: /check-encoding  ← 予防的診断
問題発見時: /fix-encoding
```

## コマンド実行方法

Claude Codeセッションで以下のように入力：

```
/check-encoding
```

```
/fix-encoding
```

```
/fix-encoding-now
```

## 期待される結果

### ❌ 修正前（問題のある出力）
```
[38;2;141;161;185m───────┬────[0m #135 [38;2;227;234;242mパラソル設計...[0m
```

### ✅ 修正後（正常な出力）
```
135	OPEN	パラソル設計の3層分離アーキテクチャ実装
133	OPEN	パラソル設計のMD形式完全統一とJSON形式廃止
132	OPEN	全ビジネスオペレーションのユースケースとページ定義を完成させる
```

## トラブルシューティング

### Q: コマンドが認識されない
A: `.claude/commands/`ディレクトリにファイルが正しく配置されているか確認

### Q: 修正しても文字化けが続く
A: 新しいターミナルセッションを開いて確認

### Q: 設定が消える
A: `/fix-encoding-now`は一時的です。恒久的には`/fix-encoding`を使用

### Q: .zshrcが汚染され続ける
A: ANSIカラー出力をコピーしないよう注意。`NO_COLOR=1`を設定

## 注意事項

- コマンドは何度実行しても安全
- 既存設定の重複追加を自動防止
- macOS環境で最適化済み
- 他のプロジェクトでも使用可能

## 作成日・更新日
- 作成: 2025-10-07
- 更新: 2025-10-07