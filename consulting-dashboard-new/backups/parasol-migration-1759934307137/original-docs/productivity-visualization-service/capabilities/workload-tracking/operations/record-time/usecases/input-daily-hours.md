# ユースケース: 日次工数を入力する

## 基本情報
- **ユースケースID**: UC-PRD-001-001
- **アクター**: コンサルタント、プロジェクトメンバー、チームリーダー
- **概要**: 日々の作業時間をプロジェクト・タスク別に正確に記録し、生産性分析と適切な工数管理を実現する

## 事前条件
- ユーザーがシステムにログインしている
- 対象プロジェクト・タスクが定義されている
- 工数入力期間（日付）が有効である
- 工数入力権限を持っている

## 事後条件
### 成功時
- 日次工数データが正確に記録されている
- 工数合計・分布が自動計算されている
- 関連するダッシュボード・レポートが更新されている
- 承認待ち状態として管理されている

### 失敗時
- 入力エラー・不備が特定・表示されている
- 未保存データの一時保存・復旧が可能になっている
- エラー原因・解決方法が明示されている

## 基本フロー
1. ユーザーが工数入力画面にアクセスする
2. システムが入力可能なプロジェクト・タスク一覧を表示する
3. ユーザーが対象日付・期間を選択する
4. ユーザーがプロジェクト・タスクを選択する
5. ユーザーが作業時間・内容・コメントを入力する
6. システムが入力内容の妥当性を検証する
7. ユーザーが入力内容を確認・修正する
8. ユーザーが工数データを保存・登録する
9. システムが工数データを記録・集計に反映する
10. システムが入力完了・次回入力案内を表示する

## 代替フロー
### 代替フロー1: 複数日一括入力
- 3a. 複数日・週間での一括入力を希望する場合
  - 3a1. ユーザーが期間範囲（開始日・終了日）を指定する
  - 3a2. システムが期間内の各日付用入力フォームを表示する
  - 3a3. ユーザーが各日の工数・作業内容を入力する
  - 3a4. 基本フロー6に戻る

### 代替フロー2: 前回データ複製
- 4a. 前回・類似日の工数データを活用したい場合
  - 4a1. ユーザーが「前回データ複製」機能を選択する
  - 4a2. システムが複製元日付・データを選択表示する
  - 4a3. ユーザーが複製・修正したいデータを選択する
  - 4a4. システムが選択データをコピー・編集可能状態で表示
  - 4a5. 基本フロー5に戻る

### 代替フロー3: 自動入力支援
- 5a. 定期的・定型的な作業の自動入力を利用する場合
  - 5a1. システムが過去パターン・定型作業を分析・提案する
  - 5a2. ユーザーが提案された自動入力パターンを確認する
  - 5a3. ユーザーが採用・調整・拒否を決定する
  - 5a4. 基本フロー6に戻る

## 例外フロー
### 例外1: 入力データ検証エラー
- 6a. 入力内容に不備・矛盾・制限違反がある場合
  - 6a1. システムが具体的なエラー内容・箇所を特定・表示する
  - 6a2. システムが修正方法・注意事項・ガイドを提示する
  - 6a3. ユーザーがエラー箇所を修正・調整する
  - 6a4. 基本フロー6から再実行

### 例外2: 工数上限・制限違反
- 6a. 入力工数が上限・制限・ルールに違反する場合
  - 6a1. システムが制限内容・違反理由を詳細表示する
  - 6a2. システムが調整案・代替手段・承認申請方法を提示
  - 6a3. ユーザーが調整・承認申請・入力変更を選択する
  - 6a4. 選択に応じて適切なフローに移行

### 例外3: システム・ネットワークエラー
- 8a. 保存・登録時にシステムエラーが発生した場合
  - 8a1. システムが入力データを一時保存・バックアップする
  - 8a2. システムがエラー内容・復旧見込み・対処方法を表示
  - 8a3. ユーザーが復旧後の再試行・データ確認を実行する
  - 8a4. データ復旧確認後、基本フロー8から再実行

## 特別要件
### 使いやすさ・効率性要件
- 入力操作：日常的な入力作業を5分以内で完了可能
- 自動化支援：前回データ・パターン学習による入力労力50%削減
- レスポンス：入力・保存・検証が1秒以内で応答
- モバイル対応：スマートフォン・タブレットでの快適入力

### 正確性・信頼性要件
- データ精度：入力ミス・不整合を自動検出・警告・修正支援
- 整合性：プロジェクト・タスク・期間・制限との論理的整合性確保
- 可用性：システム稼働率99.9%以上・データ損失ゼロ
- セキュリティ：個人工数情報の適切な保護・アクセス制御

### 柔軟性・拡張性要件
- 入力形式：多様な入力方法・形式・デバイス・環境への対応
- カスタマイズ：組織・プロジェクト・個人ニーズに応じた設定・調整
- 統合：他システム・ツール・プラットフォームとの連携・同期
- 成長対応：利用者・データ・機能拡大への対応・スケーラビリティ

## 関連ユースケース
### 包含関係
- 工数データ検証を実行する
- 自動計算・集計を実行する
- 一時保存・復旧を実行する
- 通知・アラートを送信する

### 拡張関係
- プロジェクト別工数を集計する（入力後の分析・集計）
- タイムシート承認を申請する（入力後の承認プロセス）
- 工数レポートを生成する（蓄積データの活用・報告）
- 生産性分析を実行する（データを活用した分析・改善）

### 汎化関係
- 業務データ入力・管理を実行する（上位概念）

## ビジネスルール
### 工数入力・記録ルール
- 入力単位：15分単位での入力・最小0.25時間から最大24時間
- 入力期間：当日から過去30日以内・未来7日以内の入力可能
- 必須項目：日付・プロジェクト・タスク・時間・作業内容
- 承認：日次入力完了後24時間以内の上司承認が必要

### データ品質・整合性ルール
- 工数合計：1日あたりの総工数が労働時間上限（12時間）以内
- プロジェクト整合：アサインされたプロジェクト・タスクのみ入力可能
- 重複防止：同一日時・プロジェクトでの重複入力の禁止・警告
- 修正制限：承認済み工数の修正には承認者の再承認が必要

### セキュリティ・プライバシールール
- アクセス制御：本人・直属上司・人事・PMのみアクセス可能
- データ保護：個人工数情報の暗号化・ログ記録・監査証跡
- 利用制限：分析・報告目的以外での個人情報利用禁止
- 保管期間：工数データの7年間保管・適切な廃棄・管理

## データ要件
### 入力データ
- 基本情報：日付・開始時刻・終了時刻・工数・作業場所
- プロジェクト情報：プロジェクトID・タスクID・フェーズ・役割
- 作業内容：作業内容・成果物・進捗・課題・コメント
- 分類情報：作業タイプ・スキル・ツール・技術・方法論

### 出力データ
- 工数記録：登録済み工数データ・履歴・集計・分析
- 検証結果：入力検証結果・エラー・警告・修正提案
- 通知情報：入力完了・承認依頼・期限・リマインダー
- 統計情報：個人・チーム・プロジェクト別工数統計・トレンド

## 成功指標
- 入力完了率：対象者の95%以上が期限内に工数入力完了
- 入力精度：入力ミス・修正要求が全体の5%以下
- 利用満足度：入力者の満足度4.0/5.0以上
- 処理効率：平均入力時間5分以内・システム応答1秒以内
- データ活用：入力工数データの分析・報告・改善活用率90%以上

## 工数入力・記録詳細

### 入力インターフェース設計
- **直感的操作**: ドラッグ&ドロップ・クリック・タッチによる簡単入力
- **リアルタイム計算**: 入力と同時の工数計算・合計・整合性確認
- **視覚的フィードバック**: 入力状況・エラー・完了の明確な表示
- **ショートカット**: 頻繁操作・定型入力のキーボード・ショートカット

### 自動化・効率化機能
- **パターン学習**: 個人の入力パターン・習慣からの自動提案
- **定型作業**: 定期・反復作業の自動入力・スケジュール設定
- **一括操作**: 複数日・プロジェクト・タスクの一括入力・編集
- **音声入力**: 音声認識による工数・作業内容の入力・変換

### 品質保証・検証
- **リアルタイム検証**: 入力と同時のデータ検証・エラー検知・修正提案
- **整合性チェック**: プロジェクト・スケジュール・制限との整合性確認
- **異常値検知**: 統計的異常値・不自然なパターンの自動検知・警告
- **品質スコア**: 入力データ品質の可視化・改善提案・ベストプラクティス

## 高度な入力支援機能

### AI・機械学習活用
- **予測入力**: 過去データ・行動パターンからの入力内容予測・提案
- **異常検知**: 機械学習による入力異常・不正・ミスの自動検知
- **最適化提案**: データ分析による入力プロセス・方法の最適化提案
- **自然言語処理**: 作業内容・コメントの自動分類・要約・構造化

### 統合・連携機能
- **カレンダー連携**: スケジュール・会議・イベント情報との自動連携・同期
- **プロジェクト管理連携**: プロジェクト・タスク・進捗情報との統合・更新
- **コミュニケーション連携**: チャット・メール・会議ツールとの情報連携
- **モバイル・クラウド同期**: 多デバイス・環境での一貫した入力・同期

### 高度分析・洞察
- **リアルタイム分析**: 入力と同時の生産性・効率・パターン分析
- **予測分析**: 将来の工数・生産性・プロジェクト進捗の予測・警告
- **比較分析**: 個人・チーム・組織・業界ベンチマークとの比較・評価
- **改善提案**: データ分析による作業方法・プロセス・配分の改善提案