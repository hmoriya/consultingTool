# ユースケース: タスク依存関係を定義する

## 基本情報
- **ユースケースID**: UC-PS-015
- **アクター**: PM, プロジェクトプランナー, コンサルタント
- **概要**: タスク間の論理的な依存関係を明確に定義し、実行順序とクリティカルパスを特定する

## 事前条件
- 全タスクが詳細定義され工数見積もりが完了している
- タスク依存関係の分析手法が定義されている
- スケジューリングツールが利用可能
- 業務フローの専門知識を持つメンバーが参加可能

## 事後条件
### 成功時
- 全タスクの依存関係が明確に定義される
- クリティカルパスが特定される
- 実行可能なスケジュールが作成される
- ボトルネックとリスクが明確になる

### 失敗時
- 実行順序の混乱が発生する
- スケジュール遅延が連鎖する
- リソース競合が見落とされる

## 基本フロー
1. PMがタスク間の論理的な依存関係を分析する
2. PMが各依存関係のタイプ（FS/SS/FF/SF）を特定する
3. プロジェクトプランナーがリードタイムとラグタイムを設定する
4. PMが外部依存関係（外部調達、承認等）を特定する
5. システムがネットワーク図を自動生成する
6. システムがクリティカルパスを自動計算する
7. PMが依存関係の妥当性とリスクをレビューする
8. システムが依存関係をプロジェクトスケジュールに反映する

## 代替フロー
### 代替フロー1: 複雑な依存関係の場合
- 2a. 複雑な業務フローで依存関係が多岐にわたる場合
  - 2a1. 段階的に依存関係を整理
  - 2a2. サブプロセス単位での依存関係定義
  - 2a3. 全体統合での整合性確認

### 代替フロー2: 並行実行可能な場合
- 1a. 複数のタスクが並行実行可能な場合
  - 1a1. 並行実行の条件と制約を明確化
  - 1a2. リソース競合の可能性を評価
  - 1a3. 最適な並行実行パターンを決定

### 代替フロー3: 条件付き依存の場合
- 2a. 特定条件下でのみ発生する依存関係の場合
  - 2a1. 条件と発生確率を明記
  - 2a2. 条件別のシナリオを作成
  - 2a3. 最も可能性の高いシナリオを基本とする

## 例外フロー
### 例外1: 循環依存の発見
- 5a. タスク間に循環依存が発見された場合
  - 5a1. 循環依存の原因を詳細分析
  - 5a2. タスク分割または統合による解決
  - 5a3. 解決後のネットワーク図再生成

### 例外2: クリティカルパス過長
- 6a. クリティカルパスがプロジェクト期限を超過する場合
  - 6a1. クリティカルパス上のタスクの短縮可能性検討
  - 6a2. 並行実行による期間短縮の検討
  - 6a3. スコープ調整による期間短縮の検討

### 例外3: 外部依存のリスク
- 4a. 外部依存関係にリスクがある場合
  - 4a1. 代替手段・代替パスの検討
  - 4a2. 外部リスクの軽減策策定
  - 4a3. コンティンジェンシープランの作成

## 特別要件
- **論理性**: 依存関係の論理的な整合性
- **完全性**: 全ての必要な依存関係の定義
- **最適性**: 最短パスでの目標達成
- **柔軟性**: 変更に対する適応可能性

## 関連ユースケース
- **包含**: タスク工数を見積もる
- **拡張**: タスクをメンバーに割り当てる（次オペレーション）
- **汎化**: なし