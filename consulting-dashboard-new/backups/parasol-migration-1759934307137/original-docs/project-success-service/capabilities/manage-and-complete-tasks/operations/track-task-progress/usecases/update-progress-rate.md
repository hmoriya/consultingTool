# ユースケース: 進捗率を更新する

## 基本情報
- **ユースケースID**: UC-PS-020
- **アクター**: コンサルタント, PM
- **概要**: タスクの現在の進捗状況を正確に把握し、進捗率を更新する

## 事前条件
- タスクが開始されている
- 進捗測定基準が明確に定義されている
- 作業実績が記録されている
- 進捗更新権限を持っている

## 事後条件
### 成功時
- 最新の進捗率が記録される
- 進捗履歴が保存される
- 関係者に進捗状況が共有される
- プロジェクト全体の進捗が自動更新される

### 失敗時
- 進捗状況の把握が困難になる
- 遅延の早期発見ができない
- リソース配分の最適化ができない

## 基本フロー
1. コンサルタントが現在の作業完了状況を評価する
2. コンサルタントが成果物の完成度を確認する
3. コンサルタントが進捗率（0-100%）を入力する
4. コンサルタントが進捗コメント・課題を記録する
5. システムが進捗率の妥当性をチェックする
6. システムが進捗履歴に記録を追加する
7. システムがタスクの予定完了日を再計算する
8. PMと関係者に進捗更新通知を送信する

## 代替フロー
### 代替フロー1: 進捗測定困難な場合
- 1a. 作業の完了度合いが測定困難な場合
  - 1a1. より具体的なマイルストーンに分解
  - 1a2. 中間成果物ベースでの進捗評価
  - 1a3. 工数ベースでの概算進捗算出

### 代替フロー2: 進捗率の大幅変更
- 3a. 前回から進捗率が大幅に変更（±20%以上）する場合
  - 3a1. 変更理由の詳細記録を要求
  - 3a2. PMによる確認・承認プロセス
  - 3a3. 必要に応じてスケジュール調整

### 代替フロー3: 逆進捗の場合
- 3a. 進捗率が前回より低下した場合
  - 3a1. 手戻り発生の原因分析
  - 3a2. 対策計画の立案
  - 3a3. 影響範囲の評価と調整

## 例外フロー
### 例外1: システム接続障害
- 6a. システムに接続できない場合
  - 6a1. オフラインでの記録作成
  - 6a2. 接続復旧後の一括更新
  - 6a3. データ整合性の確認

### 例外2: 権限不足
- 3a. 進捗更新権限がない場合
  - 3a1. 進捗情報を暫定記録
  - 3a2. 権限者に更新依頼
  - 3a3. 権限付与後の正式更新

### 例外3: データ不整合
- 5a. 進捗率に論理的矛盾がある場合
  - 5a1. エラー内容の詳細表示
  - 5a2. 修正方法のガイダンス提示
  - 5a3. 修正完了後の再処理

## 特別要件
- **精度**: 進捗率の正確な反映
- **リアルタイム性**: 更新の即座反映
- **一貫性**: 測定基準の統一
- **可視性**: 進捗状況の明確な表示

## 関連ユースケース
- **包含**: タスクを実行する
- **拡張**: 進捗ダッシュボードを表示する
- **汎化**: なし