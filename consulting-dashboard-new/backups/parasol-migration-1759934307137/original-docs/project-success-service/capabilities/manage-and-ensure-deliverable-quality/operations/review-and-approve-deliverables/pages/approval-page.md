# ページ定義: 成果物承認画面

## 画面の目的
レビューと修正を経た成果物の最終的な品質と完成度を確認し、正式承認による次工程への移行を決定する

## 利用者
- **承認者**: 成果物の最終承認判定を実施
- **PM**: 承認プロセスの管理と品質統制
- **クライアント**: 成果物の受け入れ可否判断

## 画面構成

### ヘッダー部
- 承認対象成果物の基本情報
- レビューフロー完了状況
- 承認期限と承認者権限レベル
- プロジェクト全体における位置づけ

### 承認判定サマリー部
- **品質評価サマリー**:
  - レビュー結果概要と評価スコア
  - 指摘事項対応状況（対応済み・保留・未対応）
  - 品質基準適合性の総合判定
- **修正履歴確認**:
  - 主要修正点の一覧表示
  - 修正前後の比較可能
  - レビュアーによる修正確認状況

### 承認検証部
- **最終確認チェックリスト**:
  - 必須要件の充足確認
  - 品質基準への適合確認
  - 契約・仕様への準拠確認
  - 配信準備完了確認
- **成果物最終プレビュー**:
  - 承認版としての最終表示
  - 全セクション・添付資料の確認
  - 書式・体裁の統一性確認

### 承認判定入力部
- **承認判定選択**:
  - 正式承認・条件付承認・差戻し・保留
  - 判定理由と根拠の記載
  - 条件付承認時の条件明示
- **承認コメント**:
  - 承認者からのフィードバック
  - 今後の改善提案
  - クライアントへの推奨事項

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 品質総合スコア | スコア表示 | ○ | レビュー結果の総合評価 |
| 指摘対応率 | パーセント表示 | ○ | 指摘事項の対応完了率 |
| 修正箇所数 | 数値表示 | ○ | 実施された修正の総数 |
| レビュー期間 | 日数表示 | ○ | レビュー開始から完了まで |
| 承認履歴 | タイムライン | × | 過去の承認・差戻し履歴 |
| 類似成果物比較 | 比較表 | × | 同種成果物との品質比較 |

### データの更新頻度
- **成果物情報**: 最新バージョンをリアルタイム反映
- **レビュー状況**: レビュー完了時に更新
- **承認履歴**: 承認判定時に即時更新

## 入力項目

### 承認判定入力
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 承認判定 | 4択選択 | ○ | 必須選択 | 正式承認・条件付承認・差戻し・保留 |
| 判定理由 | テキストエリア | ○ | 最大1000文字 | 判定に至った根拠説明 |
| 条件・指示事項 | テキストエリア | × | 最大800文字 | 条件付承認・差戻し時の具体的指示 |
| 次回期限設定 | 日付選択 | × | 未来日付のみ | 修正・再提出の期限 |

### 承認詳細設定
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 承認レベル | 単一選択 | ○ | 権限に応じた選択 | 最終承認・部分承認・仮承認 |
| 公開範囲 | 複数選択 | × | 事前定義リスト | 承認後の成果物アクセス範囲 |
| 配信指示 | チェックボックス | × | - | 承認後の自動配信実行 |
| 通知設定 | 複数選択 | × | 関係者リスト | 承認結果の通知先 |

## アクション・操作

### 主要アクション
- **正式承認実行**: 承認判定の確定と記録
- **条件付承認**: 軽微条件付きでの承認
- **差戻し実行**: 修正指示付きでの差戻し
- **承認保留**: 判定延期と保留理由記録

### 副次アクション
- **承認履歴確認**: 過去の承認・差戻し履歴参照
- **類似事例参照**: 同種成果物の承認事例確認
- **専門家相談**: 判断困難時の専門家意見聴取
- **承認会議設定**: 複数承認者での合議実施

## 画面の振る舞い

### ユーザー操作への反応
- **承認判定選択時**: 選択に応じた入力フィールドの動的表示
- **成果物確認時**: 確認済み箇所のマーキングと進捗表示
- **条件設定時**: 実現可能性とリスクの自動評価表示
- **差戻し選択時**: 過去の差戻し事例と効果的な指示例を提示

### 条件による表示変更
- **必須確認未完了の場合**: 承認ボタンを無効化し未確認項目を強調
- **重大問題残存の場合**: 警告表示と差戻し推奨メッセージ
- **高品質達成時**: 称賛メッセージと模範事例としての記録提案

## 画面遷移

### 遷移元画面
- レビュー完了通知: レビュープロセス完了後
- 承認待ち一覧画面: 承認待ち成果物からの選択時
- 修正確認画面: 修正内容確認後

### 遷移先画面
- 承認完了画面: 正式承認処理完了後
- 条件確認画面: 条件付承認時の詳細設定
- 差戻し指示画面: 差戻し時の具体的指示入力

## エラーハンドリング
- **権限不足エラー**: 承認権限不足時の上位承認者への転送機能
- **期限超過エラー**: 承認期限超過時の緊急承認プロセス案内
- **システムエラー**: 承認処理失敗時の一時保存と復旧機能

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動での承認フロー実行）
- スクリーンリーダー対応（承認判定と理由の音声案内）
- 高コントラストモード対応（承認状況の明確な視認性）

## レスポンシブ対応
- **デスクトップ**: 2カラムレイアウト（確認部・判定部の並列表示）
- **タブレット**: 縦並び表示でスクロールによる確認フロー
- **モバイル**: ステップ式の承認フローで段階的確認・判定