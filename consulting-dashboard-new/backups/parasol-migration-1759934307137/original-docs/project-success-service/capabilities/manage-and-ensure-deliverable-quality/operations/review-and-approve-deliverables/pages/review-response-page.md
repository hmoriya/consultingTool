# ページ定義: レビュー対応画面

## 画面の目的
レビューで指摘された事項を効率的に整理・対応し、品質向上に向けた修正作業を体系的に実施する

## 利用者
- **コンサルタント**: レビュー指摘事項への対応と修正実施
- **PM**: 修正作業の進捗管理と品質確認
- **レビュアー**: 修正内容の確認と追加指導

## 画面構成

### ヘッダー部
- レビュー対象成果物とバージョン情報
- レビュー完了日と対応期限
- 対応進捗インジケーター（対応済み/総指摘数）
- レビュアー情報と総合評価

### 左サイドパネル（指摘事項ナビ）
- **指摘事項分類表示**:
  - 重要度別（修正必須・推奨・質問・情報）
  - カテゴリー別（内容・構成・表現・形式）
  - 対応状況別（未着手・対応中・完了・保留）
- **進捗サマリー**:
  - 各分類の対応状況
  - 推定残り作業時間
  - 優先対応項目の強調表示

### メインワークスペース
- **指摘事項詳細表示**:
  - レビューコメントの全文表示
  - 対象箇所のハイライト表示
  - 関連する他の指摘事項との関連性
- **修正作業エリア**:
  - 成果物の直接編集機能
  - 修正前後の比較表示
  - 変更履歴・差分の可視化
- **対応記録入力**:
  - 対応方針と修正内容の記録
  - 対応完了の根拠説明
  - レビュアーへの質問・確認事項

### 右サイドパネル（対応支援）
- **修正支援情報**:
  - 類似指摘事項の対応事例
  - 修正の具体的提案・テンプレート
  - 業界標準・ベストプラクティス参照
- **コミュニケーション**:
  - レビュアーとの質疑応答
  - PM・関係者との相談履歴
  - 外部専門家への相談リンク

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 指摘事項総数 | 数値表示 | ○ | 重要度別の内訳表示 |
| 対応進捗率 | プログレスバー | ○ | 完了済み指摘の割合 |
| 対応所要時間 | 時間表示 | ○ | 実際の修正作業時間 |
| 修正箇所数 | 数値表示 | ○ | 変更を加えた箇所の数 |
| 質問・確認事項 | カウンター | × | 未解決の質問数 |
| 修正品質スコア | 点数表示 | × | 修正後の品質予測値 |

### データの更新頻度
- **対応状況**: リアルタイム更新
- **修正内容**: 自動保存（30秒間隔）
- **コミュニケーション**: リアルタイム更新

## 入力項目

### 対応記録入力
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 対応方針 | テキストエリア | ○ | 最大500文字 | 指摘への対応方法 |
| 修正内容 | リッチテキスト | ○ | 最大1000文字 | 具体的な修正内容 |
| 対応状況 | 単一選択 | ○ | 4択から選択 | 完了・一部完了・保留・不対応 |
| 完了根拠 | テキストエリア | × | 最大500文字 | 対応完了の説明・根拠 |

### 質問・確認事項
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 質問内容 | テキストエリア | ○ | 最大800文字 | レビュアーへの具体的質問 |
| 質問分類 | 単一選択 | ○ | 5択から選択 | 理解確認・方針相談・技術質問等 |
| 緊急度 | 3段階選択 | ○ | 高・中・低 | 回答の緊急性 |
| 関連指摘 | 複数選択 | × | 指摘事項リスト | 関連する他の指摘事項 |

## アクション・操作

### 主要アクション
- **対応完了登録**: 指摘事項への対応完了を記録
- **一括対応**: 類似指摘事項の一括修正
- **修正内容保存**: 途中経過の保存
- **レビュアー確認依頼**: 修正内容の確認要請

### 副次アクション
- **対応方針相談**: 難しい指摘への対応方針相談
- **修正履歴確認**: 過去の修正作業履歴参照
- **対応テンプレート保存**: 効果的な対応方法のテンプレート化
- **進捗レポート生成**: 対応状況の詳細レポート作成

## 画面の振る舞い

### ユーザー操作への反応
- **指摘事項選択時**: 該当箇所を成果物ビューでハイライト表示
- **修正実行時**: リアルタイムで変更差分を可視化
- **対応完了時**: 自動的に次の未対応項目に移動
- **質問投稿時**: レビュアーへの通知送信とステータス更新

### 条件による表示変更
- **必須項目未対応の場合**: 対応必須項目を優先表示し、完了ボタンを無効化
- **複雑な修正の場合**: 段階的対応の提案と中間確認ポイント表示
- **対応期限間近の場合**: 緊急度の高い項目を優先表示

## 画面遷移

### 遷移元画面
- レビュー結果通知: レビュー完了通知受信時
- 成果物一覧画面: レビュー対応作業開始時
- 修正作業画面: 具体的な修正実施時

### 遷移先画面
- 修正完了確認画面: 全対応完了後
- レビュアー確認依頼画面: 修正内容確認依頼時
- 成果物編集画面: 大幅修正が必要な場合

## エラーハンドリング
- **修正内容保存エラー**: ネットワーク問題時のローカル保存とアラート
- **レビュアー連絡エラー**: 質問・確認送信失敗時の代替連絡手段提示
- **対応記録エラー**: データ保存失敗時の復旧機能

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動での指摘事項巡回）
- スクリーンリーダー対応（指摘内容と対応状況の音声案内）
- 色覚障害対応（重要度・対応状況の色以外での表現）

## レスポンシブ対応
- **デスクトップ**: 3ペイン表示（指摘一覧・修正作業・支援情報）
- **タブレット**: 修正作業中心の表示で指摘一覧は切り替え表示
- **モバイル**: アコーディオン形式での指摘事項別対応画面