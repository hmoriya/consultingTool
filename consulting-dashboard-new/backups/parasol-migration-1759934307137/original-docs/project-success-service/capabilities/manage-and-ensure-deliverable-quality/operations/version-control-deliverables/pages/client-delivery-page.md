# ページ定義: クライアント配信画面

## 画面の目的
承認済み成果物をクライアントに安全かつ確実に配信し、配信状況を追跡・管理する

## 利用者
- **PM**: 成果物配信の管理と承認
- **コンサルタント**: 配信前の最終確認と配信実行
- **クライアント**: 配信された成果物の受領確認
- **配信管理者**: 配信プロセスの監督と技術的支援

## 画面構成

### ヘッダー部
- 配信対象成果物の基本情報
- 配信ステータス（準備中・配信中・完了・失敗）
- 配信予定日時と期限情報
- 緊急配信フラグ

### 配信設定部
- **配信先設定**:
  - プライマリ受信者（メイン担当者）
  - セカンダリ受信者（関係者・承認者）
  - 配信方法（メール・ポータル・FTP等）
  - アクセス権限設定（閲覧・ダウンロード・印刷）
- **配信オプション**:
  - 配信形式（PDF・原版・プレゼン用等）
  - パスワード保護設定
  - 有効期限設定
  - ダウンロード回数制限

### 成果物確認部
- **配信前チェックリスト**:
  - 最終承認完了確認
  - 機密情報マスキング確認
  - 配信形式・品質確認
  - クライアント要件適合確認
- **成果物プレビュー**:
  - 配信される状態での表示確認
  - 添付資料・補足資料の確認
  - メタデータ・属性情報の確認

### 配信履歴・トラッキング部
- **配信状況リアルタイム表示**:
  - 配信進捗インジケーター
  - 受信者別の受信状況
  - エラー・警告メッセージ
- **配信履歴**:
  - 過去の配信記録
  - 配信時刻・受信確認時刻
  - 配信方法と結果ステータス

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 配信対象成果物 | カード表示 | ○ | タイトル・バージョン・サイズ |
| 受信者一覧 | リスト表示 | ○ | 名前・所属・受信状況 |
| 配信進捗 | プログレスバー | ○ | リアルタイム配信状況 |
| 配信履歴 | タイムライン | ○ | 過去の配信記録 |
| セキュリティ設定 | ステータス表示 | ○ | 暗号化・アクセス制限状況 |
| 配信統計 | グラフ表示 | × | 配信成功率・受信率等 |

### データの更新頻度
- **配信状況**: リアルタイム更新（5秒間隔）
- **受信確認**: 受信者アクション時に即時更新
- **配信履歴**: 配信実行時に即時記録

## 入力項目

### 配信基本設定
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 配信先メールアドレス | 複数テキスト | ○ | メール形式チェック | 受信者のメールアドレス |
| 配信予定日時 | 日時選択 | ○ | 未来日時のみ | 配信を実行する日時 |
| 配信方法 | 単一選択 | ○ | 利用可能方法から | メール・ポータル・FTP等 |
| 配信形式 | 単一選択 | ○ | 対応形式から | PDF・Word・PPT等 |

### セキュリティ設定
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| パスワード保護 | チェックボックス | × | - | ファイルの暗号化 |
| アクセス有効期限 | 日付選択 | × | 未来日付のみ | アクセス可能期間 |
| ダウンロード制限 | 数値入力 | × | 1-100の範囲 | 最大ダウンロード回数 |
| IP制限 | テキスト入力 | × | IP形式チェック | アクセス許可IP範囲 |

## アクション・操作

### 主要アクション
- **配信実行**: 設定完了後の配信開始
- **配信停止**: 配信プロセスの緊急停止
- **再配信**: 失敗した配信の再実行
- **配信確認**: 受信者への確認依頼送信

### 副次アクション
- **配信テスト**: 実際の配信前のテスト実行
- **受信者追加**: 配信後の追加受信者設定
- **配信ログ出力**: 詳細な配信履歴のレポート生成
- **緊急回収**: 配信済み成果物の緊急回収

## 画面の振る舞い

### ユーザー操作への反応
- **配信先追加時**: 自動的にアドレス帳からの候補表示
- **配信実行時**: リアルタイム進捗表示と通知
- **エラー発生時**: 即座にエラー詳細表示と対処法提示
- **受信確認時**: 配信ステータスの自動更新

### 条件による表示変更
- **機密成果物の場合**: 追加セキュリティ設定の必須化
- **大容量ファイルの場合**: 分割配信オプションの表示
- **緊急配信の場合**: 優先配信ルートの自動選択

## 画面遷移

### 遷移元画面
- 成果物承認完了画面: 承認完了後の配信準備時
- 配信一覧画面: 既存配信の管理・再実行時
- プロジェクト管理画面: 成果物配信スケジュール管理時

### 遷移先画面
- 配信完了画面: 配信処理完了後
- 配信エラー詳細画面: 配信失敗時の詳細確認
- 受信確認状況画面: 受信者別の詳細状況確認時

## エラーハンドリング
- **ネットワークエラー**: 自動リトライと代替配信方法の提案
- **容量制限エラー**: ファイル分割や圧縮の提案
- **受信者エラー**: 無効なメールアドレスの検出と修正依頼
- **セキュリティエラー**: 権限不足や制限違反の詳細説明

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動での配信設定）
- スクリーンリーダー対応（配信状況の音声案内）
- 高コントラストモード対応（配信ステータスの明確な視認性）

## レスポンシブ対応
- **デスクトップ**: 2カラムレイアウト（設定部・状況確認部の並列）
- **タブレット**: 縦並び表示でスクロール対応
- **モバイル**: カード形式での段階的設定と状況確認