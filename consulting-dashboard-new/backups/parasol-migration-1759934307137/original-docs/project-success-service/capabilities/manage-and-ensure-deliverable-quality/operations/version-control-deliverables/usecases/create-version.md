# ユースケース: 成果物バージョンを作成する

## 基本情報
- **ユースケースID**: UC-PS-044
- **アクター**: コンサルタント, PM, 成果物作成者
- **概要**: 成果物の変更・更新時に新しいバージョンを適切に作成し、変更履歴と版管理を確実に行う

## 事前条件
- 既存の成果物が存在している
- 成果物に変更・更新が必要である
- バージョン作成権限を持っている
- 変更理由が明確になっている

## 事後条件
### 成功時
- 新しいバージョンが作成される
- 変更履歴が記録される
- 版番号が適切に設定される
- 関係者に新バージョン通知が送信される

### 失敗時
- バージョン管理の混乱が生じる
- 変更履歴の追跡が困難になる
- 成果物の信頼性が低下する

## 基本フロー
1. 作成者が成果物バージョン作成画面にアクセスする
2. 作成者が変更内容・変更理由を明確にする
3. 作成者が新バージョンの種類（メジャー・マイナー・パッチ）を選択する
4. 作成者が変更サマリー・リリースノートを作成する
5. システムが自動的に版番号を設定する
6. 作成者が新バージョンの作成を実行する
7. システムが新バージョンを作成し変更履歴を記録する
8. システムが関係者に新バージョン通知を送信する

## 代替フロー
### 代替フロー1: 緊急修正バージョンの場合
- 3a. 緊急性の高い修正でホットフィックスバージョンを作成する場合
  - 3a1. 緊急修正フラグの設定
  - 3a2. ホットフィックス版番号の適用
  - 3a3. 緊急レビュー・承認プロセスの実行

### 代替フロー2: 実験的バージョンの場合
- 3a. 試験的機能を含むアルファ・ベータバージョンを作成する場合
  - 3a1. 実験バージョンフラグの設定
  - 3a2. プレリリース版番号の適用
  - 3a3. 限定公開範囲の設定

### 代替フロー3: ブランチ分岐の場合
- 2a. 複数の変更ラインでブランチバージョンを作成する場合
  - 2a1. 分岐元バージョンの特定
  - 2a2. ブランチ名・識別子の設定
  - 2a3. ブランチ間の関係性記録

## 例外フロー
### 例外1: 版番号競合
- 5a. 他の作成者により同じ版番号が既に使用されている場合
  - 5a1. 版番号の自動調整
  - 5a2. 競合解決のための確認
  - 5a3. 適切な版番号での再作成

### 例外2: 変更内容不明確
- 2a. 変更内容が不明確で版管理が困難な場合
  - 2a1. 変更内容の詳細確認要求
  - 2a2. 変更差分の自動抽出・表示
  - 2a3. 明確化後のバージョン作成

### 例外3: 依存関係エラー
- 6a. 他の成果物との依存関係でバージョン作成が失敗する場合
  - 6a1. 依存関係の詳細分析
  - 6a2. 依存成果物の更新要求
  - 6a3. 依存関係解決後の再実行

## 特別要件
- **一意性**: 版番号の重複防止
- **追跡性**: 変更履歴の完全な記録
- **整合性**: 関連成果物との整合性維持
- **可読性**: 変更内容の理解しやすい記録

## 関連ユースケース
- **包含**: 成果物を承認する（review-and-approve-deliverables オペレーション）
- **拡張**: 成果物バージョンを比較する
- **汎化**: なし