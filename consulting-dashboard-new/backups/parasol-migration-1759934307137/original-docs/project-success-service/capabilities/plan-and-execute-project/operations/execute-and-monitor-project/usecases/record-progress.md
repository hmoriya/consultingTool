# ユースケース: 進捗を記録する

## 基本情報
- **ユースケースID**: UC-PS-005
- **アクター**: コンサルタント, PM
- **概要**: タスクの実行状況と進捗率を正確に記録し、プロジェクト全体の進捗を可視化する

## 事前条件
- タスクが開始されている
- 進捗記録システムにアクセス可能
- 進捗率の計算基準が明確に定義されている
- 記録権限が付与されている

## 事後条件
### 成功時
- タスクの進捗率が正確に記録される
- 実績工数と残作業時間が更新される
- プロジェクト全体の進捗が自動計算される
- 進捗情報が関係者に共有される

### 失敗時
- 進捗記録が不正確または不完全
- プロジェクト進捗の可視性が低下
- 意思決定に必要な情報が不足

## 基本フロー
1. コンサルタントが作業完了分の進捗率を算出する
2. コンサルタントが進捗記録システムにアクセスする
3. コンサルタントが該当タスクの進捗率を入力する
4. コンサルタントが実績工数と残作業時間を入力する
5. コンサルタントが作業内容のコメントを記録する
6. システムが進捗情報の妥当性をチェックする
7. システムがプロジェクト全体の進捗を自動計算する
8. システムが進捗情報をダッシュボードに反映する

## 代替フロー
### 代替フロー1: 部分完了の場合
- 1a. タスクが部分的に完了している場合
  - 1a1. コンサルタントが完了した作業項目を特定
  - 1a2. 項目別の進捗率を個別に算出
  - 1a3. 基本フロー3に戻る

### 代替フロー2: 見積もり修正の場合
- 4a. 当初見積もりと実績に大きな乖離がある場合
  - 4a1. コンサルタントが乖離理由を分析
  - 4a2. PMと見積もり修正の必要性を協議
  - 4a3. 修正承認後、新見積もりで基本フロー5に戻る

### 代替フロー3: 一括記録の場合
- 2a. 複数タスクを一括で記録する場合
  - 2a1. コンサルタントが一括記録機能を選択
  - 2a2. 複数タスクの進捗を同時入力
  - 2a3. 基本フロー6に戻る

## 例外フロー
### 例外1: 進捗率の論理エラー
- 6a. 進捗率が論理的に矛盾している場合
  - 6a1. システムがエラーメッセージを表示
  - 6a2. コンサルタントが進捗率を修正
  - 6a3. 基本フロー6に戻る

### 例外2: システム接続障害
- 2a. 進捗記録システムに接続できない場合
  - 2a1. コンサルタントがオフラインで記録保持
  - 2a2. システム復旧後に記録を同期
  - 2a3. 基本フロー3に戻る

### 例外3: 権限不足エラー
- 3a. 記録権限が不足している場合
  - 3a1. システムが権限エラーを表示
  - 3a2. PMに権限付与を依頼
  - 3a3. 権限取得後、基本フロー3に戻る

## 特別要件
- **性能**: 進捗記録の即座の反映（5秒以内）
- **可用性**: 進捗記録システムの高可用性（99%以上）
- **精度**: 進捗率計算の正確性
- **履歴**: 進捗変更履歴の完全な追跡可能性

## 関連ユースケース
- **包含**: なし
- **拡張**: 進捗レポートを作成する
- **汎化**: なし