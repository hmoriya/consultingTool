# ページ定義: セキュリティポリシー設定ページ

## 基本情報

- **ページID**: PG-SEC-026
- **ページ名**: セキュリティポリシー設定ページ
- **URL**: `/admin/security-policies`
- **アクセス権限**: セキュリティ管理者, システム管理者, コンプライアンス担当者
- **関連ユースケース**: UC-SEC-026 (セキュリティポリシーを強制する)

## ページ概要

組織のセキュリティポリシーを包括的に設定・管理するための管理者向けページ。複雑なポリシー設定を直感的に行え、ポリシーの効果測定と継続的改善を支援する統合管理インターフェース。

## レイアウト構成

### ヘッダーセクション
- **ページタイトル**: "セキュリティポリシー設定"
- **現在のポリシーセット**: 適用中のポリシーバージョン表示
- **最終更新情報**: 更新者・更新日時・承認状況

### メインコンテンツエリア

#### 1. ポリシーカテゴリ選択タブ
```
┌─ ポリシーカテゴリ ─────────────────────────┐
│                                           │
│ [🔐 認証ポリシー] [🔒 アクセス制御] [📋 パスワード] │
│ [⏰ セッション] [🌐 ネットワーク] [📱 デバイス]   │
│ [🚨 セキュリティ監視] [📊 監査・コンプライアンス] │
└───────────────────────────────────────┘
```

#### 2. 認証ポリシー設定（例：認証ポリシータブ選択時）
```
┌─ 認証ポリシー設定 ─────────────────────────┐
│                                           │
│ 🔐 基本認証設定                            │
│                                           │
│ ユーザーID形式:                            │
│ ● メールアドレス ○ 社員番号 ○ 自由形式     │
│                                           │
│ 認証強度要件:                              │
│ ├ 📋 一般ユーザー                         │
│ │  ● パスワードのみ                       │
│ │  ○ パスワード + SMS                    │
│ │  ○ パスワード + 認証アプリ              │
│ │                                       │
│ ├ 👔 管理者                               │
│ │  ○ パスワードのみ                       │
│ │  ● パスワード + 多要素認証              │
│ │  ○ 生体認証必須                         │
│ │                                       │
│ └ 🏢 特権ユーザー                         │
│    ○ パスワード + 多要素認証              │
│    ● 生体認証 + ワンタイムトークン        │
│                                           │
│ 認証失敗対応:                              │
│ ├ 連続失敗許可回数: [5]回                  │
│ ├ ロック時間: [30]分                       │
│ ├ 段階的遅延: ☑ 有効                      │
│ └ CAPTCHA表示: [3]回失敗後                │
│                                           │
│ [💾 設定保存] [🔄 初期値に戻す] [👁 プレビュー] │
└───────────────────────────────────────┘
```

#### 3. パスワードポリシー設定
```
┌─ パスワードポリシー ───────────────────────┐
│                                           │
│ 🔑 パスワード要件                          │
│                                           │
│ 最小文字数: [8] 文字 (推奨: 12文字以上)    │
│                                           │
│ 必須文字種: (複数選択可)                   │
│ ☑ 英小文字 (a-z)                          │
│ ☑ 英大文字 (A-Z)                          │
│ ☑ 数字 (0-9)                              │
│ ☑ 記号 (!@#$%^&*)                         │
│                                           │
│ 禁止パターン:                              │
│ ☑ 辞書単語の使用禁止                       │
│ ☑ 個人情報の使用禁止 (名前、生年月日等)     │
│ ☑ 連続文字の禁止 (123, abc, 111等)         │
│ ☑ キーボード配列の禁止 (qwerty等)           │
│                                           │
│ 履歴・ローテーション:                       │
│ ├ 履歴保持数: [12] 回分                    │
│ ├ 変更間隔: [90] 日                        │
│ ├ 期限切れ警告: [14] 日前から               │
│ └ 強制変更: ☑ 初回ログイン時               │
│                                           │
│ 強度チェック:                              │
│ ├ リアルタイム強度表示: ☑ 有効             │
│ ├ 弱いパスワード拒否: ☑ 有効               │
│ └ 漏洩パスワードDB照合: ☑ 有効             │
│                                           │
│ [💾 設定保存] [🔄 初期値に戻す] [🧪 テスト実行] │
└───────────────────────────────────────┘
```

#### 4. アクセス制御ポリシー設定
```
┌─ アクセス制御ポリシー ─────────────────────┐
│                                           │
│ 🌐 IP アドレス制限                         │
│                                           │
│ 許可IPレンジ:                              │
│ ├ 社内ネットワーク: 192.168.1.0/24        │
│ ├ VPN接続: 10.0.0.0/16                    │
│ ├ モバイルキャリア: [設定する]             │
│ └ [+ 新規追加]                             │
│                                           │
│ 地理的制限:                                │
│ ├ 許可国・地域:                           │
│ │  ☑ 日本                                │
│ │  ☐ アメリカ                            │
│ │  ☐ ヨーロッパ諸国                      │
│ │  └ [地域を追加]                         │
│ │                                       │
│ └ 海外アクセス時の対応:                   │
│    ● 追加認証要求                         │
│    ○ 管理者承認必須                       │
│    ○ 完全ブロック                         │
│                                           │
│ ⏰ 時間制限:                               │
│ ├ 一般ユーザー:                           │
│ │  平日 [09:00] - [18:00]                │
│ │  休日 ☐ アクセス許可                   │
│ │                                       │
│ ├ 管理者:                                 │
│ │  平日 [08:00] - [20:00]                │
│ │  休日 ☑ アクセス許可                   │
│ │                                       │
│ └ 緊急時アクセス: ☑ 24時間許可            │
│                                           │
│ [💾 設定保存] [🔄 初期値に戻す] [🗺️ IP地図表示] │
└───────────────────────────────────────┘
```

#### 5. ポリシー適用状況・効果測定
```
┌─ ポリシー適用状況 ─────────────────────────┐
│                                           │
│ 📊 適用統計 (過去30日)                     │
│                                           │
│ ├ 📈 ポリシー遵守率: 94.2%                 │
│ ├ 🚫 違反検知件数: 23件                    │
│ ├ ⚠️ 警告表示回数: 156回                   │
│ └ 🔧 自動修正実行: 12回                    │
│                                           │
│ 違反内容内訳:                              │
│ ├ パスワード要件違反: 15件 (65%)           │
│ ├ 時間外アクセス: 5件 (22%)               │
│ ├ 地理的制限違反: 2件 (9%)                 │
│ └ 多要素認証未実施: 1件 (4%)               │
│                                           │
│ 📋 最近の違反ログ:                         │
│ ├ 2024-01-15 14:30 | user@example.com    │
│ │  └ 弱いパスワード使用試行                │
│ ├ 2024-01-15 12:45 | admin@example.com   │
│ │  └ 時間外アクセス試行                    │
│ └ [📜 全ログを表示]                        │
│                                           │
│ [📊 詳細レポート] [📧 レポート配信設定]    │
└───────────────────────────────────────┘
```

### サイドバー情報エリア
```
┌─ ポリシー管理 ─────────────────────────────┐
│                                           │
│ 📋 ポリシーバージョン管理                   │
│                                           │
│ 現在のバージョン: v2.3.1                   │
│ 最終更新: 2024-01-10                       │
│ 更新者: セキュリティ管理者                 │
│                                           │
│ バージョン履歴:                            │
│ ├ v2.3.1 (現在) - パスワード要件強化       │
│ ├ v2.3.0 - 地理的制限追加                 │
│ ├ v2.2.5 - 多要素認証拡張                 │
│ └ [全履歴表示]                             │
│                                           │
│ [📁 バックアップ作成]                      │
│ [🔄 バージョン復元]                        │
│ [📤 ポリシーエクスポート]                  │
│ [📥 ポリシーインポート]                    │
└───────────────────────────────────────┘

┌─ 承認・展開 ───────────────────────────────┐
│                                           │
│ 🔐 変更承認プロセス                        │
│                                           │
│ 承認状況: ⏳ 承認待ち                       │
│                                           │
│ 必要承認者:                                │
│ ├ ✅ セキュリティ責任者 (承認済み)         │
│ ├ ⏳ コンプライアンス責任者 (待機中)       │
│ └ ⏳ 情報システム責任者 (待機中)           │
│                                           │
│ 展開スケジュール:                          │
│ ├ テスト環境: 即座展開                     │
│ ├ ステージング環境: 承認後1日              │
│ └ 本番環境: 承認後3日                      │
│                                           │
│ [📋 承認申請] [⏸️ 展開一時停止]            │
│ [📧 承認者通知] [🚀 緊急展開]              │
└───────────────────────────────────────┘

┌─ ヘルプ・リソース ─────────────────────────┐
│                                           │
│ 📚 ポリシー設定ガイド                      │
│ ├ 📖 ベストプラクティス                   │
│ ├ 🎯 業界標準テンプレート                 │
│ ├ ⚖️ 法的要件チェックリスト               │
│ └ 🛡️ セキュリティフレームワーク           │
│                                           │
│ 🆘 サポート                                │
│ ├ 📞 専門家コンサルテーション              │
│ ├ 💬 ポリシー設定支援チャット              │
│ └ 📧 設定レビュー依頼                      │
└───────────────────────────────────────┘
```

## インタラクション仕様

### ポリシー設定インターフェース
- **段階的設定**: 基本→詳細→高度設定の段階的アプローチ
- **設定ウィザード**: 初回設定時のガイド付きセットアップ
- **テンプレート機能**: 業界標準・規制要件に基づくプリセット

### リアルタイム検証
- **設定妥当性チェック**: 入力時の即座検証とフィードバック
- **競合検出**: ポリシー間の矛盾や競合の自動検出
- **影響分析**: 設定変更による影響範囲の事前評価

### プレビュー・テスト機能
- **ポリシーシミュレーション**: 設定変更の効果を事前確認
- **A/Bテスト**: 段階的展開による効果測定
- **ロールバック機能**: 問題時の設定巻き戻し

## UI要件

### ビジュアルデザイン
- **カラーパレット**:
  - 設定完了: #10B981 (グリーン)
  - 設定推奨: #F59E0B (オレンジ)
  - 設定必須: #EF4444 (レッド)
  - 情報表示: #3B82F6 (ブルー)

### 設定項目表示
- **重要度表示**: 必須/推奨/オプションの明確な区分
- **説明ツールチップ**: 各設定項目の詳細説明
- **例示機能**: 設定値の具体例表示

### フォーム設計
- **グループ化**: 関連設定の論理的グループ化
- **依存関係表示**: 設定間の依存関係の視覚化
- **プログレス表示**: 設定完了率の表示

## レスポンシブ対応

### デスクトップ (1024px以上)
- 3カラムレイアウト: メイン60%、サイドバー40%
- 同時表示: 複数設定セクションの並列表示
- ドラッグ&ドロップ: 設定項目の直感的操作

### タブレット (768px-1023px)
- 2カラムレイアウト: 可変幅表示
- タブ切り替え: 設定カテゴリの効率的切り替え
- 折りたたみ表示: 詳細設定の段階的開示

### モバイル (767px以下)
- 1カラムレイアウト: 縦積み表示
- ウィザード形式: ステップバイステップ設定
- スワイプ操作: 設定項目間の直感的移動

## アクセシビリティ

### キーボードナビゲーション
- Tab順序: 論理的な設定項目順での移動
- ショートカット: 頻繁な操作のキーボードショートカット
- フォーカス管理: 現在の設定項目の明確な表示

### スクリーンリーダー対応
- セマンティクス: 設定項目の構造化された表現
- ラベリング: 詳細な設定説明とヘルプ情報
- 状態通知: 設定変更の結果通知

## セキュリティ要件

### 設定変更の保護
- **権限確認**: 重要設定変更時の追加認証
- **変更ログ**: 全設定変更の詳細記録
- **承認フロー**: 重要ポリシー変更の承認プロセス

### 設定データの保護
- **暗号化保存**: 設定情報の暗号化保存
- **アクセス制御**: 設定項目毎の詳細権限制御
- **監査証跡**: 設定アクセス・変更の完全記録

## パフォーマンス要件

### レスポンス時間
- 設定ページロード: 3秒以内
- 設定変更保存: 2秒以内
- 検証処理: 1秒以内

### データ処理
- 大量ポリシー処理: 1000ルール以上の管理
- リアルタイム更新: 100ms以内の反映
- バックアップ作成: 5分以内の完了

## 測定・改善指標

### 管理効率指標
- 設定完了時間短縮率（目標: 50%短縮）
- 設定エラー率（目標: 5%以下）
- ポリシー変更頻度（目標: 適切な更新サイクル維持）

### セキュリティ効果指標
- ポリシー違反削減率（目標: 前年比30%削減）
- セキュリティインシデント削減率（目標: 前年比40%削減）
- コンプライアンス準拠率（目標: 99%以上）