# ページ定義: セッション管理ページ

## 基本情報

- **ページID**: PG-SEC-025
- **ページ名**: セッション管理ページ
- **URL**: `/account/sessions`
- **アクセス権限**: 認証済みユーザー（本人のセッションのみ表示）
- **関連ユースケース**: UC-SEC-025 (ユーザーセッションを確立する)

## ページ概要

ユーザーが自身のアクティブセッションを確認・管理するためのページ。セッションの安全性確保と利便性向上を両立し、不正アクセスの早期発見と適切な対処を支援する。

## レイアウト構成

### ヘッダーセクション
- **ページタイトル**: "セッション管理"
- **ユーザー情報**: ログイン中ユーザーの名前とロール表示
- **最終更新時刻**: セッション情報の更新時刻表示

### メインコンテンツエリア

#### 1. 現在のセッション情報
```
┌─ 現在のセッション ─────────────────────────┐
│                                           │
│ 🟢 アクティブ - このセッション              │
│                                           │
│ 📱 デバイス: Windows PC - Chrome         │
│ 🌐 IPアドレス: 192.168.1.100              │
│ 📍 場所: 東京都, 日本                      │
│ 🕐 ログイン時刻: 2024-01-15 09:30:45      │
│ ⏱️ 最終アクセス: 2分前                     │
│ ⏰ セッション期限: 6時間20分後              │
│                                           │
│ [🔄 セッション延長] [📊 詳細情報]          │
└───────────────────────────────────────┘
```

#### 2. アクティブセッション一覧
```
┌─ その他のアクティブセッション ─────────────┐
│                                           │
│ セッション 1                               │
│ ├ 🟢 アクティブ                           │
│ ├ 📱 iPhone - Safari                      │
│ ├ 🌐 IP: 192.168.1.50                     │
│ ├ 📍 東京都, 日本                          │
│ ├ 🕐 開始: 2024-01-15 08:15:30            │
│ ├ ⏱️ 最終: 1時間前                         │
│ └ [❌ ログアウト] [📊 詳細]               │
│                                           │
│ セッション 2                               │
│ ├ 🟡 非アクティブ (15分)                   │
│ ├ 💻 MacBook - Firefox                    │
│ ├ 🌐 IP: 10.0.1.25                        │
│ ├ 📍 大阪府, 日本                          │
│ ├ 🕐 開始: 2024-01-14 16:45:12            │
│ ├ ⏱️ 最終: 15分前                          │
│ └ [❌ ログアウト] [📊 詳細]               │
│                                           │
│ セッション 3                               │
│ ├ 🔴 疑わしいアクティビティ                 │
│ ├ 🖥️ 不明なデバイス                       │
│ ├ 🌐 IP: 203.0.113.45                     │
│ ├ 📍 ニューヨーク, アメリカ                │
│ ├ 🕐 開始: 2024-01-15 02:30:18            │
│ ├ ⏱️ 最終: 3時間前                         │
│ └ [🚨 即座終了] [📊 詳細] [🚨 報告]      │
└───────────────────────────────────────┘
```

#### 3. セッション制御オプション
```
┌─ セッション制御 ───────────────────────────┐
│                                           │
│ 🔐 セキュリティ オプション                 │
│                                           │
│ [🚪 全セッション強制ログアウト]             │
│ ├ ⚠️ 現在のセッションを除く全てを終了       │
│                                           │
│ [🔒 新規ログイン無効化]                    │
│ ├ ⚠️ 24時間新規セッション作成を停止        │
│                                           │
│ [📧 セッション通知設定]                    │
│ ├ ☑ 新規ログイン時にメール通知             │
│ ├ ☑ 疑わしいアクセス時に即座通知           │
│ └ ☑ セッション期限切れ前の事前通知         │
│                                           │
│ [⚙️ セッション設定変更]                    │
└───────────────────────────────────────┘
```

#### 4. セッション履歴・統計
```
┌─ セッション履歴 ───────────────────────────┐
│                                           │
│ 📊 過去30日間の統計                        │
│                                           │
│ 📈 総ログイン回数: 45回                    │
│ ⏱️ 平均セッション時間: 4時間30分           │
│ 🔢 平均同時セッション数: 2.3個             │
│ 🌍 アクセス地域: 2箇所 (東京, 大阪)        │
│ 📱 使用デバイス: 3台                       │
│                                           │
│ 📅 最近のログイン履歴 (直近10件)           │
│ ├ 2024-01-15 09:30 | Windows PC | 成功    │
│ ├ 2024-01-14 16:45 | MacBook | 成功       │
│ ├ 2024-01-14 08:20 | iPhone | 成功        │
│ ├ 2024-01-13 14:15 | Windows PC | 失敗    │
│ └ [📜 全履歴を表示]                        │
│                                           │
│ [📊 詳細統計] [📁 レポートダウンロード]    │
└───────────────────────────────────────┘
```

### サイドバー情報エリア
```
┌─ セキュリティ状況 ─────────────────────────┐
│                                           │
│ 🛡️ セキュリティスコア: 85/100              │
│                                           │
│ ✅ 改善済み項目:                           │
│ ├ 多要素認証 有効                         │
│ ├ 強力なパスワード 設定済み               │
│ ├ セッション通知 有効                     │
│                                           │
│ ⚠️ 改善推奨項目:                           │
│ ├ 生体認証の設定                           │
│ ├ セッション期限の短縮                     │
│ └ VPN接続の利用                           │
│                                           │
│ [🔧 セキュリティ設定]                      │
└───────────────────────────────────────┘

┌─ ヘルプ・ガイド ───────────────────────────┐
│                                           │
│ 📚 よくある質問                            │
│ ├ ❓ セッションとは何ですか？               │
│ ├ ❓ なぜ複数セッションがあるのですか？     │
│ ├ ❓ 疑わしいセッションを発見した場合は？   │
│ └ [📖 全FAQ表示]                           │
│                                           │
│ 🆘 サポート                                │
│ ├ 📞 セキュリティホットライン              │
│ ├ 💬 チャットサポート                      │
│ └ 📧 メールサポート                        │
│                                           │
│ 🔗 関連ページ                              │
│ ├ パスワード変更                           │
│ ├ 多要素認証設定                           │
│ └ プライバシー設定                         │
└───────────────────────────────────────┘
```

## インタラクション仕様

### リアルタイム更新
- **自動リフレッシュ**: 30秒毎にセッション状況を自動更新
- **ライブステータス**: セッションの状態変化をリアルタイム表示
- **通知機能**: 新規セッション検出時のポップアップ通知

### セッション操作
- **即座ログアウト**: 選択したセッションの即座終了
- **一括操作**: 複数セッションの同時選択・操作
- **確認ダイアログ**: 重要な操作時の確認プロンプト

### 地理的情報表示
- **地図統合**: セッション発生地点の地図表示
- **異常検知**: 通常と異なる地域からのアクセス強調表示
- **履歴表示**: アクセス地域の時系列変化表示

## UI要件

### ビジュアルデザイン
- **カラーパレット**:
  - 安全: #10B981 (グリーン) - 正常セッション
  - 注意: #F59E0B (オレンジ) - 非アクティブセッション
  - 危険: #EF4444 (レッド) - 疑わしいセッション
  - 情報: #3B82F6 (ブルー) - 現在のセッション

### ステータス表示
- **アイコン**: 直感的な状態表示（🟢🟡🔴）
- **プログレスバー**: セッション残り時間の視覚化
- **バッジ**: 重要な状態の強調表示

### データ可視化
- **グラフ**: セッション時間、アクセス頻度の可視化
- **表形式**: 詳細情報の整理された表示
- **フィルタリング**: 期間、デバイス、地域での絞り込み

## レスポンシブ対応

### デスクトップ (1024px以上)
- 3カラムレイアウト: メイン70%、サイドバー30%
- 詳細情報の同時表示
- ドラッグ&ドロップでの操作

### タブレット (768px-1023px)
- 2カラムレイアウト: 可変幅表示
- タブ形式でのセクション切り替え
- スワイプ操作対応

### モバイル (767px以下)
- 1カラムレイアウト: 縦積み表示
- 折りたたみ式の詳細表示
- 大型ボタンでの操作性向上

## アクセシビリティ

### キーボードナビゲーション
- Tab順序: 論理的な順序での移動
- ショートカット: 主要操作のキーボードショートカット
- フォーカス表示: 現在位置の明確な表示

### スクリーンリーダー対応
- セマンティクス: 適切なHTML構造
- ラベリング: aria-label での詳細説明
- 動的更新: aria-live による変更通知

## セキュリティ要件

### アクセス制御
- **本人確認**: セッション操作前の追加認証
- **権限制御**: 本人のセッションのみ表示・操作可能
- **監査ログ**: 全操作の詳細記録

### データ保護
- **暗号化表示**: 機密情報の適切なマスキング
- **安全な通信**: HTTPS通信の強制
- **セッション保護**: セッション情報の安全な管理

## パフォーマンス要件

### レスポンス時間
- ページロード: 3秒以内
- セッション操作: 1秒以内
- リアルタイム更新: 100ms以内

### データ処理
- 大量セッション表示: 100セッションまで円滑表示
- 履歴検索: 1秒以内での結果表示
- 統計計算: リアルタイム更新

## 測定・改善指標

### セキュリティ指標
- 疑わしいセッション検出率（目標: 95%以上）
- 不正セッション早期発見率（目標: 90%以上）
- セッション関連インシデント数（目標: 月0件）

### ユーザビリティ指標
- セッション管理利用率（目標: 60%以上）
- 平均操作完了時間（目標: 2分以内）
- ユーザー満足度（目標: 4.2/5.0以上）