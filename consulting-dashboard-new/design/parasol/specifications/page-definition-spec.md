# ページ定義仕様書

**作成日**: 2025-01-26  
**更新日**: 2025-01-26  
**バージョン**: 1.0.0

## 1. 概要

ページ定義は、ユースケースを実現するための画面をビジネス視点で定義します。パラソル設計では実装技術（HTML、CSS、JavaScript等）に依存せず、利用者が達成したい目的と情報の流れを自然言語で記述します。

### 1.1 位置づけ

```
ユースケース（システム利用シナリオ）
    ↓
【ページ定義】← ここ（画面の目的と構成）
    ↓
UI実装（具体的なデザイン・コード）
```

### 1.2 目的
- 画面の目的とビジネス価値の明確化
- 情報の構造と流れの定義
- 利用者の操作フローの設計
- 実装非依存の画面仕様

### 1.3 パラソル設計原則
- **目的駆動**: 画面が達成すべき目的を中心に
- **情報中心**: UIコンポーネントではなく情報に焦点
- **自然言語**: 技術用語を使わない記述
- **ビジネス視点**: 利用者の業務に即した表現

## 2. 3要素記法の適用

ページ定義も3要素記法を使用します：

```
日本語名 [英語名] [SYSTEM_NAME]
```

例：
```
プロジェクト一覧画面 [ProjectListPage] [PROJECT_LIST_PAGE]
タスク詳細画面 [TaskDetailPage] [TASK_DETAIL_PAGE]
進捗レポート画面 [ProgressReportPage] [PROGRESS_REPORT_PAGE]
```

## 3. 文書構造

### 3.1 必須セクション

```markdown
# ページ定義: [ページ名]

## 画面の目的

## 利用者
### 主要利用者
### 利用シーン

## 画面構成
### 情報エリア
### 操作エリア

## 表示情報
### [情報グループ名]

## 利用者の操作
### 基本操作フロー
### 操作と結果

## 画面の振る舞い
### 初期表示
### 状態遷移
### ビジネスルール適用

## 画面遷移
### 遷移元
### 遷移先

## 情報の入出力
### 入力情報
### 出力情報

## エラーと通知
### エラーパターン
### 通知メッセージ
```

## 4. 記述規則

### 4.1 禁止事項
- ❌ HTML要素（div、button、input等）
- ❌ CSSクラスやスタイル
- ❌ JavaScriptイベント
- ❌ 具体的なレイアウト指定
- ❌ 技術的な実装詳細

### 4.2 推奨表現
- ✅ 情報の種類と目的
- ✅ 利用者の行動と意図
- ✅ ビジネス上の制約
- ✅ 業務の流れと判断

## 5. 画面の目的と利用者

### 5.1 目的の記述
```markdown
## 画面の目的
[この画面で利用者が達成したい主要な目的を1-2文で記述]
[ビジネス価値や成果を含める]
```

### 5.2 利用者の定義
```markdown
### 主要利用者
- [ロール名] [[Role]] [[ROLE]]
  - 利用頻度: [日次/週次/月次]
  - 主な関心事: [何を知りたい/したいか]

### 利用シーン
- [シーン1]: [どんな状況で使うか]
- [シーン2]: [どんな状況で使うか]
```

## 6. 画面構成の記述

### 6.1 情報エリア
```markdown
### 情報エリア
- **[エリア名]**: [表示する情報の概要]
  - 目的: [なぜこの情報が必要か]
  - 更新頻度: [リアルタイム/定期更新]
```

### 6.2 操作エリア
```markdown
### 操作エリア
- **[操作グループ名]**: [可能な操作の概要]
  - 目的: [何を実現するための操作か]
  - 対象: [何に対する操作か]
```

## 7. 表示情報の詳細

### 7.1 情報グループ
```markdown
### [情報グループ名] [[InfoGroup]] [[INFO_GROUP]]
- **含まれる情報**:
  - [情報項目1]: [説明]
  - [情報項目2]: [説明]
- **表示条件**: [常時表示/条件付き表示]
- **情報源**: [どこから取得するか]
- **更新タイミング**: [いつ更新されるか]
```

## 8. 利用者の操作

### 8.1 基本操作フロー
```markdown
### 基本操作フロー
1. 利用者が[最初の操作意図]を持つ
2. [必要な情報]を確認する
3. [判断/選択]を行う
4. [アクション]を実行する
5. [結果]を確認する
```

### 8.2 操作と結果
```markdown
### 操作と結果
- **[操作名]**: [操作の意図]
  - 実行条件: [いつ実行可能か]
  - 期待結果: [何が起こるか]
  - 完了確認: [どうやって完了を知るか]
```

## 9. 画面の振る舞い

### 9.1 初期表示
```markdown
### 初期表示
- 表示される情報: [初期状態で見える情報]
- 利用可能な操作: [初期状態で可能な操作]
- デフォルト値: [事前設定される値]
```

### 9.2 状態遷移
```markdown
### 状態遷移
[初期状態] → [操作後状態1] → [操作後状態2]
            ↓
        [別の状態]
```

### 9.3 ビジネスルール適用
```markdown
### ビジネスルール適用
- **[ルール名]**: [ルールの内容]
  - 適用場面: [いつ適用されるか]
  - 影響: [画面がどう変わるか]
```

## 10. 画面遷移

### 10.1 遷移の定義
```markdown
### 遷移元
- [画面名] [[ScreenName]] [[SCREEN_NAME]]
  - 遷移条件: [どんな操作/状態で遷移するか]

### 遷移先
- [画面名] [[ScreenName]] [[SCREEN_NAME]]
  - 遷移目的: [なぜその画面に移るか]
  - 引き継ぎ情報: [次画面に渡す情報]
```

## 11. エラーと通知

### 11.1 エラーパターン
```markdown
### エラーパターン
- **[エラー種別]**: [発生条件]
  - 利用者への説明: [理解しやすい説明]
  - 回復方法: [どうすれば解決するか]
```

### 11.2 通知メッセージ
```markdown
### 通知メッセージ
- **[通知種別]**: [発生条件]
  - メッセージ内容: [利用者に伝える内容]
  - 重要度: [情報/警告/重要]
```

## 12. 品質基準

### 12.1 完全性
- 画面の目的が明確
- すべての情報と操作が定義されている
- 遷移先が明確

### 12.2 一貫性
- 用語の統一
- 操作パターンの一貫性
- ビジネスルールとの整合性

### 12.3 理解可能性
- ビジネス用語での記述
- 利用者視点での表現
- 実装技術を含まない

## 13. アンチパターン

### 13.1 避けるべき記述例
```markdown
❌ 悪い例：
「submitボタンをクリックするとPOSTリクエストが送信される」
「divタグ内にテーブルを配置」
「JavaScriptでバリデーション」

✅ 良い例：
「利用者が登録を確定すると、入力内容が保存される」
「プロジェクト一覧が表形式で表示される」
「入力内容の妥当性が確認される」
```

### 13.2 よくある間違い
- UIコンポーネント名の使用
- レイアウトの詳細指定
- イベント処理の記述
- CSSクラス名の言及

## 14. 段階的詳細化

### 14.1 初期段階（Phase 1）
- 画面名と目的
- 主要な情報
- 基本的な操作

### 14.2 詳細化段階（Phase 2）
- 詳細な情報構造
- 操作フロー
- 画面遷移

### 14.3 完成段階（Phase 3）
- ビジネスルール
- エラーパターン
- 状態遷移

## 15. ページ種別ガイドライン

### 15.1 一覧系ページ
- 情報の絞り込み方法
- 並び替えの基準
- 一度に扱う情報量

### 15.2 詳細系ページ
- 表示する詳細レベル
- 関連情報の範囲
- 更新可能な項目

### 15.3 入力系ページ
- 入力支援の方法
- 確認のステップ
- エラー時の対応