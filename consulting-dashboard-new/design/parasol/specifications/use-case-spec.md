# ユースケース仕様書

**作成日**: 2025-01-26  
**更新日**: 2025-01-26  
**バージョン**: 1.0.0

## 1. 概要

ユースケースは、アクター（利用者）の視点からシステムとの相互作用を定義します。パラソル設計では実装技術に依存せず、「誰が」「何を」「どのように」達成するかをビジネス用語で記述します。

### 1.1 位置づけ

```
ビジネスオペレーション（業務プロセス）
    ↓
【ユースケース】← ここ（システム利用シナリオ）
    ↓
ページ定義・API仕様（実装要素）
```

### 1.2 目的
- アクター視点での要求の明確化
- システム境界の定義
- 機能要件の詳細化
- テスト可能な仕様の提供

### 1.3 パラソル設計原則
- **アクター中心**: 利用者の目的に焦点
- **実装非依存**: UIやAPIの詳細を含めない
- **シナリオベース**: 具体的な利用場面を記述
- **測定可能**: 成功条件が明確

## 2. 3要素記法の適用

ユースケースも3要素記法を使用します：

```
日本語名 [英語名] [SYSTEM_NAME]
```

例：
```
プロジェクト状況を把握する [GraspProjectStatus] [GRASP_PROJECT_STATUS]
成果物をレビューする [ReviewDeliverable] [REVIEW_DELIVERABLE]
工数を記録する [RecordWorkHours] [RECORD_WORK_HOURS]
```

## 3. 文書構造

### 3.1 必須セクション

```markdown
# ユースケース: [ユースケース名]

## ユースケース概要
### 目的
### アクター
### 事前条件
### 事後条件
### トリガー

## 基本フロー
### ステップ

## 代替フロー
### [代替フロー名]

## 例外フロー
### [例外フロー名]

## ビジネスルール

## 入出力情報
### 入力情報
### 出力情報

## 非機能要件

## 関連ユースケース

## ページ遷移概要

## テストシナリオ概要
```

## 4. 記述規則

### 4.1 命名規則
- **形式**: 「〜を（が）〜する」または「〜する」
- **視点**: アクターの行動として表現
- **粒度**: 1つの明確な目的

良い例：
- ✅ プロジェクト進捗を確認する
- ✅ タスクを完了報告する
- ✅ リスクを登録する

悪い例：
- ❌ データを更新する
- ❌ 画面を表示する
- ❌ ボタンをクリックする

### 4.2 アクターの定義
- ビジネスロールとして定義
- システムユーザーに限定しない
- 外部システムも含む

## 5. ユースケース概要の記述

### 5.1 目的
```markdown
### 目的
[アクターがこのユースケースで達成したいビジネス上の目的を1-2文で記述]
```

### 5.2 アクター
```markdown
### アクター
- **主アクター**: [ロール名] [[ActorName]] [[ACTOR_NAME]]
  - 説明: [役割の説明]
- **副アクター**: [ロール名] [[ActorName]] [[ACTOR_NAME]]
  - 説明: [役割の説明]
```

### 5.3 事前条件・事後条件
```markdown
### 事前条件
1. [実行前に真でなければならない条件]
2. [システムやデータの状態]

### 事後条件
1. [正常終了時に保証される状態]
2. [変更されたデータや状態]
```

## 6. フローの記述

### 6.1 基本フロー
```markdown
## 基本フロー
1. アクターが[行動]する
2. システムが[情報]を提示する
3. アクターが[選択/入力]する
4. システムが[処理]を実行する
5. システムが[結果]を表示する
```

### 6.2 代替フロー
```markdown
### 代替フロー: [条件による分岐]
- **分岐点**: 基本フロー ステップ[N]
- **条件**: [分岐条件]
1. [代替ステップ1]
2. [代替ステップ2]
3. 基本フロー ステップ[M]に戻る
```

### 6.3 例外フロー
```markdown
### 例外フロー: [異常系の名前]
- **発生点**: 基本フロー ステップ[N]
- **条件**: [異常条件]
1. システムが[エラー内容]を通知する
2. アクターが[対処行動]を選択する
3. [終了条件]
```

## 7. ビジネスルールの記述

### 7.1 形式
```markdown
## ビジネスルール
1. **[ルール名]**: [ルールの内容]
   - 適用タイミング: [いつ適用されるか]
   - 例: [具体例]

2. **[ルール名]**: [ルールの内容]
   - 適用タイミング: [いつ適用されるか]
   - 例: [具体例]
```

## 8. 入出力情報

### 8.1 入力情報
```markdown
### 入力情報
- [情報名] [[InfoName]] [[INFO_NAME]]
  - 内容: [含まれる項目]
  - 形式: [データの形式]
  - 必須/任意: [必須 or 任意]
```

### 8.2 出力情報
```markdown
### 出力情報
- [情報名] [[InfoName]] [[INFO_NAME]]
  - 内容: [含まれる項目]
  - 用途: [誰がどう使うか]
```

## 9. 非機能要件

### 9.1 記述項目
```markdown
## 非機能要件
- **応答性**: [期待される応答時間]
- **利用可能性**: [利用可能な時間帯・条件]
- **セキュリティ**: [アクセス制御要件]
- **使いやすさ**: [ユーザビリティ要件]
```

## 10. 関連性の定義

### 10.1 関連ユースケース
```markdown
## 関連ユースケース
- <<include>> [ユースケース名]: [常に含まれる]
- <<extend>> [ユースケース名]: [条件付きで拡張]
- 先行: [このUCの前に実行]
- 後続: [このUCの後に実行]
```

### 10.2 ページ遷移概要
```markdown
## ページ遷移概要
[開始ページ] → [中間ページ] → [完了ページ]
                    ↓
              [代替ページ]
```

## 11. テストシナリオ概要

### 11.1 主要テストケース
```markdown
## テストシナリオ概要
1. **正常系**: [基本フローの確認]
2. **代替系**: [代替フローの確認]
3. **異常系**: [例外フローの確認]
4. **境界値**: [限界値での動作確認]
```

## 12. 品質基準

### 12.1 完全性
- アクターの目的が明確
- すべてのフローが記述されている
- 事前・事後条件が明確

### 12.2 一貫性
- 3要素記法の統一使用
- フロー間の整合性
- ビジネスルールとの整合性

### 12.3 追跡可能性
- ビジネスオペレーションとの関連明確
- ページ定義への対応付け可能
- テスト可能な記述

## 13. アンチパターン

### 13.1 避けるべき記述
- ❌ UI要素の詳細（ボタン、フィールド名）
- ❌ 技術的な処理内容
- ❌ データベース操作
- ❌ API仕様の詳細

### 13.2 よくある間違い
- システムの内部処理を記述
- 画面レイアウトを説明
- 実装方法を指定
- アクター視点を失う

## 14. 段階的詳細化

### 14.1 初期段階（Phase 1）
- ユースケース名と目的
- 主アクター
- 基本フロー（5ステップ以内）

### 14.2 詳細化段階（Phase 2）
- 代替フロー追加
- ビジネスルール明確化
- 入出力情報の定義

### 14.3 完成段階（Phase 3）
- 例外フロー網羅
- 非機能要件定義
- テストシナリオ概要

## 15. ユースケース粒度の指針

### 15.1 適切な粒度
- 1回のセッションで完了
- 明確な開始と終了
- 測定可能な成果

### 15.2 分割の判断基準
- 異なるアクターが主導 → 分割
- 異なるタイミングで実行 → 分割
- 異なる目的 → 分割