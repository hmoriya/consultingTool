# テスト定義: [テスト名] [[Test Name]] [[TEST_NAME]]

## テストの目的

### 確認したい内容
[このテストで確認したいビジネス上の要求や品質を明確に記述]
[なぜこのテストが重要なのか、どんなリスクを防ぐのかを含める]

### 関連するユースケース
- [ユースケース名] [[UseCase]] [[USE_CASE]]
  - 確認観点: [このユースケースのどの部分を確認するか]
  - フロー: [基本フロー/代替フロー/例外フロー]

### 重要度
- **レベル**: [高/中/低]
- **理由**: [なぜこの重要度なのか、ビジネスへの影響度]

## テスト前提条件

### 環境条件
- **時期**: [業務のどのタイミングを想定するか（月初/月末/年度末等）]
- **状況**: [どのような業務状況を前提とするか]
- **同時利用**: [他の利用者の状況]

### データ条件
- **必要なデータ**:
  - [マスタデータ]: [どのような設定が必要か]
  - [トランザクションデータ]: [どのような業務データが存在するか]
  - [状態]: [データがどのような状態にあるか]

### 利用者条件
- **テスト実施者**: [ロール名] [[Role]] [[ROLE]]
- **権限**: [必要な権限レベル]
- **知識レベル**: [業務知識の前提]

## テストシナリオ

### シナリオ1: 正常系 - [基本的な成功パス]

#### 目的
[最も一般的な利用方法で、期待通りに動作することを確認]

#### 手順
1. **初期状態の確認**
   - [確認する内容]
   - 期待: [どうなっているべきか]

2. **[操作1の内容]**
   - 操作: [利用者が行う具体的な操作]
   - 入力: [入力する情報]

3. **[操作1の結果確認]**
   - 確認: [何を確認するか]
   - 期待: [どうなっているべきか]

4. **[操作2の内容]**
   - 操作: [利用者が行う具体的な操作]
   - 選択: [選択する項目]

5. **[最終結果の確認]**
   - 確認: [業務の完了状態]
   - 期待: [最終的な状態]

#### 期待される結果
- **業務の完了**: [どの業務が完了しているか]
- **データの状態**: [データがどう変化しているか]
- **通知の発生**: [誰に何が通知されるか]
- **次の操作**: [次に何ができる状態か]

#### 判定基準
- すべての手順が問題なく完了すること
- 期待される結果がすべて確認できること
- エラーメッセージが表示されないこと

### シナリオ2: 代替系 - [別ルートでの成功]

#### 目的
[通常とは異なる方法でも、同じ目的が達成できることを確認]

#### 手順
1. **[代替の開始方法]**
   - 操作: [通常とは異なる開始方法]
   - 理由: [なぜこの方法を使うか]

2. **[代替ルート特有の操作]**
   - 操作: [追加で必要な操作]
   - 確認: [追加の確認項目]

3. **[通常ルートへの合流]**
   - 操作: [どこで通常の流れに戻るか]
   - 確認: [合流後の状態]

#### 期待される結果
- 正常系と同じ最終結果が得られること
- 代替ルート特有の記録が残ること

### シナリオ3: 異常系 - [エラー処理の確認]

#### 目的
[問題が発生した場合に、適切に対処できることを確認]

#### 手順
1. **[エラーを発生させる操作]**
   - 操作: [意図的に問題を起こす操作]
   - 入力: [不正な値やタイミング]

2. **[エラーメッセージの確認]**
   - 表示: [どのようなメッセージが出るか]
   - 内容: [利用者が理解できる内容か]

3. **[回復操作]**
   - 操作: [エラーから回復する方法]
   - 確認: [正常な状態に戻ったか]

#### 期待される結果
- 適切なエラーメッセージが表示されること
- データが不正な状態にならないこと
- 回復操作により正常な処理が可能になること

### シナリオ4: 境界値 - [限界値での動作確認]

#### 目的
[システムの限界値付近で正しく動作することを確認]

#### 手順
1. **[最小値でのテスト]**
   - 入力: [項目の最小値]
   - 期待: [正常に処理される]

2. **[最大値でのテスト]**
   - 入力: [項目の最大値]
   - 期待: [正常に処理される]

3. **[範囲外でのテスト]**
   - 入力: [最小値-1 または 最大値+1]
   - 期待: [適切にエラーとなる]

## 期待結果

### 成功基準
| 確認項目 | 期待される状態 | 重要度 |
|---------|---------------|--------|
| 業務の完了 | [具体的な完了状態] | 高 |
| データの整合性 | [あるべきデータ状態] | 高 |
| 利用者への通知 | [通知内容と対象者] | 中 |
| 履歴の記録 | [記録される内容] | 中 |
| 画面の遷移 | [次に表示される画面] | 低 |

### 確認項目
- **機能面**
  - [ ] 要求された機能が実行できる
  - [ ] 結果が正しく保存される
  - [ ] 他の機能に影響がない

- **使いやすさ**
  - [ ] 操作の流れが自然である
  - [ ] 必要な情報が表示される
  - [ ] エラー時の案内が分かりやすい

- **業務ルール**
  - [ ] ビジネスルールが守られる
  - [ ] 権限に応じた制御が働く
  - [ ] 不正な操作が防げる

## テストデータ

### 入力データ
- **[基本情報]**
  - 項目1: `[具体的な値]`
    - 選定理由: [なぜこの値を使うか]
  - 項目2: `[具体的な値]`
    - 選定理由: [代表的な値/境界値/特殊ケース]

- **[詳細情報]**
  - 項目3: `[具体的な値]`
    - 選定理由: [業務でよく使われる値]
  - 項目4: `[具体的な値]`
    - 選定理由: [エラーになりやすい値]

### マスタデータ
- **[組織マスタ]**
  - 設定内容: [必要な組織構造]
  - 特記事項: [特別な設定]

- **[権限マスタ]**
  - 設定内容: [テストに必要な権限]
  - 割当: [誰にどの権限を付与するか]

### 期待される出力
- **[一覧表示]**
  - 件数: [表示される件数]
  - 内容: [含まれるべき項目]
  - 順序: [並び順]

- **[詳細表示]**
  - 項目: [表示される全項目]
  - 形式: [日付形式、数値形式等]

## エラーケース

### エラーパターン
- **必須入力エラー**
  - 発生条件: 必須項目を空欄にする
  - 確認内容: 分かりやすいエラーメッセージ
  - 回復方法: 必須項目を入力すれば進める

- **権限エラー**
  - 発生条件: 権限のない操作を試みる
  - 確認内容: 権限不足の明確な通知
  - 回復方法: 適切な権限を持つ利用者で再実行

- **業務ルール違反**
  - 発生条件: ビジネスルールに反する操作
  - 確認内容: ルール違反の具体的な説明
  - 回復方法: ルールに従った値に修正

- **排他制御エラー**
  - 発生条件: 他者が編集中のデータを更新
  - 確認内容: 競合の発生を通知
  - 回復方法: 最新情報を取得して再操作

### 回復確認
- すべてのエラーから正常な状態に戻れること
- エラー発生前のデータが保護されること
- 適切な案内により利用者が対処できること

## 備考

### テスト実施時の注意事項
- [特に注意すべき点]
- [よく起こる間違い]
- [環境依存の事項]

### 関連テスト
- [前提となるテスト]: 先に実施すべきテスト
- [後続テスト]: このテスト後に実施するテスト
- [並行実施可能]: 同時に実施できるテスト

### 改善提案
- [テスト実施中に気づいた改善点]
- [利用者からのフィードバック]
- [効率化のアイデア]