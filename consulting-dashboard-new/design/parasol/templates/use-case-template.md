# ユースケース: [〜を〜する] [[Use Case Name]] [[USE_CASE_NAME]]

## ユースケース概要

### 目的
[アクターがこのユースケースで達成したいビジネス上の目的を1-2文で明確に記述]

### アクター
- **主アクター**: [ロール名] [[Primary Actor]] [[PRIMARY_ACTOR]]
  - 説明: [このユースケースを開始し、主な利益を得る役割]
- **副アクター**: [ロール名] [[Secondary Actor]] [[SECONDARY_ACTOR]]
  - 説明: [ユースケースの実行を支援する役割]

### 事前条件
1. [このユースケースを開始する前に真でなければならない条件]
2. [必要なデータや状態]
3. [アクターが持つべき権限や資格]

### 事後条件
1. [正常終了時にシステムが保証する状態]
2. [作成・更新されたデータ]
3. [ビジネス上の成果]

### トリガー
- **種別**: [時間駆動/イベント駆動/要求駆動]
- **詳細**: [具体的なトリガー条件]

## 基本フロー

1. アクターが[最初の行動]を開始する
2. システムが[必要な情報]を提示する
3. アクターが[情報を確認し、選択/入力]する
4. システムが[入力を検証]する
5. システムが[ビジネスルールに基づいて処理]を実行する
6. システムが[処理結果]を表示する
7. アクターが[結果を確認]する
8. システムが[完了状態]を記録する

## 代替フロー

### 代替フロー1: [条件による別ルート]
- **分岐点**: 基本フロー ステップ3
- **条件**: [アクターが特定の選択をした場合]
1. アクターが[別の選択]をする
2. システムが[異なる情報]を要求する
3. アクターが[追加情報]を入力する
4. 基本フロー ステップ5に戻る

### 代替フロー2: [オプション処理]
- **分岐点**: 基本フロー ステップ6
- **条件**: [特定の条件を満たす場合]
1. システムが[追加オプション]を提示する
2. アクターが[オプションを選択]する
3. システムが[追加処理]を実行する
4. 基本フロー ステップ7に進む

## 例外フロー

### 例外フロー1: [入力エラー]
- **発生点**: 基本フロー ステップ4
- **条件**: [入力値が不正な場合]
1. システムが[エラー内容]を明確に通知する
2. システムが[修正方法]を提示する
3. アクターが[入力を修正]する
4. 基本フロー ステップ4に戻る

### 例外フロー2: [権限不足]
- **発生点**: 基本フロー ステップ1
- **条件**: [アクターに必要な権限がない場合]
1. システムが[権限不足]を通知する
2. システムが[必要な権限と取得方法]を案内する
3. ユースケース終了

### 例外フロー3: [処理失敗]
- **発生点**: 基本フロー ステップ5
- **条件**: [ビジネスルール違反や外部要因による失敗]
1. システムが[失敗理由]を通知する
2. システムが[可能な対処方法]を提示する
3. アクターが[対処方法を選択]する
4. 選択に応じて適切なステップに遷移

## ビジネスルール

1. **[ルール名1]**: [ルールの内容]
   - 適用タイミング: 基本フロー ステップ5
   - 例: [具体的な適用例]
   
2. **[ルール名2]**: [ルールの内容]
   - 適用タイミング: 全体を通して適用
   - 例: [具体的な適用例]

3. **[ルール名3]**: [ルールの内容]
   - 適用タイミング: 事後条件の確認時
   - 例: [具体的な適用例]

## 入出力情報

### 入力情報
- [入力情報1] [[Input1]] [[INPUT_1]]
  - 内容: [項目1、項目2、項目3]
  - 形式: [テキスト/数値/選択肢/ファイル]
  - 必須/任意: 必須
  - 検証ルール: [入力値の制約]

- [入力情報2] [[Input2]] [[INPUT_2]]
  - 内容: [項目1、項目2]
  - 形式: [形式の説明]
  - 必須/任意: 任意
  - 初期値: [デフォルト値がある場合]

### 出力情報
- [出力情報1] [[Output1]] [[OUTPUT_1]]
  - 内容: [含まれる情報項目]
  - 用途: [誰がどのように使用するか]
  - 保存期間: [どのくらい保持されるか]

- [出力情報2] [[Output2]] [[OUTPUT_2]]
  - 内容: [含まれる情報項目]
  - 用途: [誰がどのように使用するか]
  - 形式: [表示形式やファイル形式]

## 非機能要件

- **応答性**: 
  - 通常時: 3秒以内に応答
  - ピーク時: 5秒以内に応答
  
- **利用可能性**: 
  - 利用時間: 平日8:00-20:00（必須）、その他の時間（ベストエフォート）
  - 計画停止: 月1回、日曜日深夜2時間以内
  
- **セキュリティ**: 
  - 認証: ログイン必須
  - 認可: [ロール]以上の権限が必要
  - 監査: すべての操作を記録
  
- **使いやすさ**: 
  - 操作手順: 最大5ステップ以内で完了
  - エラー復旧: 1操作で前の状態に戻れる

## 関連ユースケース

- <<include>> [共通認証を行う] [[Perform Authentication]] [[PERFORM_AUTHENTICATION]]
  - 説明: ユースケース開始時に必ず実行
  
- <<extend>> [詳細分析を実行する] [[Execute Detailed Analysis]] [[EXECUTE_DETAILED_ANALYSIS]]
  - 説明: アクターが要求した場合のみ実行
  
- 先行: [前準備を完了する] [[Complete Preparation]] [[COMPLETE_PREPARATION]]
  - 説明: このユースケースの前に完了している必要がある
  
- 後続: [後処理を実行する] [[Execute Post Processing]] [[EXECUTE_POST_PROCESSING]]
  - 説明: このユースケースの後に通常実行される

## ページ遷移概要

```
[開始ページ：一覧] → [入力ページ：詳細入力] → [確認ページ：入力確認] → [完了ページ：結果表示]
                            ↓                        ↓
                      [ヘルプページ]            [修正ページ]
```

## テストシナリオ概要

1. **正常系テスト**: 
   - 基本フローを最初から最後まで実行
   - すべての必須項目を正しく入力
   - 期待される結果が得られることを確認

2. **代替系テスト**: 
   - 各代替フローを個別に実行
   - 代替フローから基本フローへの復帰を確認

3. **異常系テスト**: 
   - 各例外フローを意図的に発生させる
   - エラーメッセージの適切性を確認
   - エラーからの復旧手順を確認

4. **境界値テスト**: 
   - 最小値/最大値での動作確認
   - 制限値での正常動作確認
   - 制限超過時のエラー処理確認

5. **権限テスト**: 
   - 各ロールでのアクセス可否確認
   - 権限不足時の適切な動作確認