# Issue #116: ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»ãƒšãƒ¼ã‚¸å®šç¾©ã‚’ä½œæˆ

**ä½œæˆæ—¥**: 2025-10-01
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸš§ é€²è¡Œä¸­
**å„ªå…ˆåº¦**: é«˜
**æ‹…å½“**: Claude Code

## æ¦‚è¦

ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·ç‚¹ã¨ã—ã¦ã€ãã®é…ä¸‹ã«ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨ãƒšãƒ¼ã‚¸å®šç¾©ã‚’éšå±¤çš„ã«ä½œæˆã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã€‚

## ç›®çš„

ãƒ‘ãƒ©ã‚½ãƒ«è¨­è¨ˆæ‰‹æ³•ã«ãŠã„ã¦ã€ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒã‚¤ãƒ¬ãƒ™ãƒ«ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼‰ã‚’è©³ç´°åŒ–ã—ã€å…·ä½“çš„ãªã‚·ã‚¹ãƒ†ãƒ æ“ä½œãƒ¬ãƒ™ãƒ«ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨UIå®šç¾©ï¼ˆãƒšãƒ¼ã‚¸å®šç¾©ï¼‰ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã§ã€è¨­è¨ˆã®ç²’åº¦ã‚’æ®µéšçš„ã«è©³ç´°åŒ–ã™ã‚‹ã€‚

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
docs/parasol/services/[service-name]/
â””â”€â”€ capabilities/
    â””â”€â”€ [capability-name]/
        â””â”€â”€ operations/
            â””â”€â”€ [operation-name]/
                â”œâ”€â”€ operation.md                    # ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©
                â”œâ”€â”€ usecases/                       # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ç¾¤
                â”‚   â”œâ”€â”€ [usecase-1-name]/
                â”‚   â”‚   â”œâ”€â”€ usecase.md             # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®šç¾©
                â”‚   â”‚   â”œâ”€â”€ robustness.md          # ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³å®šç¾©ï¼ˆNEWï¼‰
                â”‚   â”‚   â””â”€â”€ pages/                 # ãƒšãƒ¼ã‚¸å®šç¾©ç¾¤
                â”‚   â”‚       â”œâ”€â”€ [page-1-name].md
                â”‚   â”‚       â””â”€â”€ [page-2-name].md
                â”‚   â”œâ”€â”€ [usecase-2-name]/
                â”‚   â”‚   â”œâ”€â”€ usecase.md
                â”‚   â”‚   â”œâ”€â”€ robustness.md          # ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³å®šç¾©ï¼ˆNEWï¼‰
                â”‚   â”‚   â””â”€â”€ pages/
                â”‚   â”‚       â””â”€â”€ [page-3-name].md
                â”‚   â””â”€â”€ [usecase-3-name]/
                â”‚       â”œâ”€â”€ usecase.md
                â”‚       â”œâ”€â”€ robustness.md          # ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³å®šç¾©ï¼ˆNEWï¼‰
                â”‚       â””â”€â”€ pages/
                â”‚           â”œâ”€â”€ [page-4-name].md
                â”‚           â””â”€â”€ [page-5-name].md
                â””â”€â”€ tests/                          # ãƒ†ã‚¹ãƒˆå®šç¾©ç¾¤ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
                    â”œâ”€â”€ [test-1-name].md
                    â””â”€â”€ [test-2-name].md
```

## æ©Ÿèƒ½è¦ä»¶

### 1. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä½œæˆæ©Ÿèƒ½

#### å…¥åŠ›
- **è¦ªãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: operation.mdã®å†…å®¹
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹æ•°**: 3-5å€‹ã‚’æ¨å¥¨
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å**: ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰ç”Ÿæˆ

#### å‡ºåŠ›
- **ãƒ•ã‚¡ã‚¤ãƒ«**:
  - `operations/[operation-name]/usecases/[usecase-name]/usecase.md` - ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®šç¾©
  - `operations/[operation-name]/usecases/[usecase-name]/robustness.md` - ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³å®šç¾©
- **å†…å®¹**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«åŸºã¥ãè©³ç´°å®šç¾©

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‘½åè¦å‰‡
- å½¢å¼: ã€Œã€œã‚’ï¼ˆãŒï¼‰ã€œã™ã‚‹ã€ã¾ãŸã¯ã€Œã€œã™ã‚‹ã€
- è¦–ç‚¹: ã‚·ã‚¹ãƒ†ãƒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆã‚¢ã‚¯ã‚¿ãƒ¼ï¼‰è¦–ç‚¹
- ç²’åº¦: 1ã¤ã®æ˜ç¢ºãªç›®çš„ã‚’é”æˆã™ã‚‹å˜ä½
- ä¾‹:
  - âœ… ã€ŒçŸ¥è­˜ã‚’è¨˜éŒ²ã™ã‚‹ã€
  - âœ… ã€Œãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä¾é ¼ã™ã‚‹ã€
  - âœ… ã€Œæ‰¿èªã‚’å¾—ã‚‹ã€
  - âŒ ã€Œãƒ‡ãƒ¼ã‚¿ç™»éŒ²ã€ï¼ˆCRUDçš„ï¼‰
  - âŒ ã€Œç”»é¢è¡¨ç¤ºã€ï¼ˆå®Ÿè£…å¯„ã‚Šï¼‰

### 2. ãƒšãƒ¼ã‚¸å®šç¾©ä½œæˆæ©Ÿèƒ½

#### å…¥åŠ›
- **è¦ªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: usecase.mdã®å†…å®¹
- **ãƒšãƒ¼ã‚¸æ•°**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ãƒ•ãƒ­ãƒ¼ã«å¿œã˜ã¦1-3å€‹
- **ãƒšãƒ¼ã‚¸å**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®UIã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰ç”Ÿæˆ

#### å‡ºåŠ›
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `operations/[operation-name]/usecases/[usecase-name]/pages/[page-name].md`
- **å†…å®¹**: ãƒšãƒ¼ã‚¸å®šç¾©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«åŸºã¥ãè©³ç´°å®šç¾©

#### ãƒšãƒ¼ã‚¸å‘½åè¦å‰‡
- å½¢å¼: ã€Œ[æ©Ÿèƒ½å]-pageã€ã¾ãŸã¯ã€Œ[ç›®çš„]-viewã€
- ä¾‹:
  - âœ… ã€Œknowledge-entry-pageã€ï¼ˆçŸ¥è­˜å…¥åŠ›ãƒšãƒ¼ã‚¸ï¼‰
  - âœ… ã€Œreview-request-modalã€ï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰
  - âœ… ã€Œapproval-confirmation-pageã€ï¼ˆæ‰¿èªç¢ºèªãƒšãƒ¼ã‚¸ï¼‰

### 3. ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ä½œæˆæ©Ÿèƒ½

#### å…¥åŠ›
- **è¦ªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: usecase.mdã®å†…å®¹
- **åŸºæœ¬ãƒ•ãƒ­ãƒ¼**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼ã‚¹ãƒ†ãƒƒãƒ—

#### å‡ºåŠ›
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `operations/[operation-name]/usecases/[usecase-name]/robustness.md`
- **å†…å®¹**: ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«åŸºã¥ãBCEè¦ç´ ã®å®šç¾©

#### ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ã®è¦ç´ 
- **Boundary Objectsï¼ˆå¢ƒç•Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰**: UIè¦ç´ ï¼ˆç”»é¢ã€ãƒ•ã‚©ãƒ¼ãƒ ã€ãƒœã‚¿ãƒ³ï¼‰
- **Control Objectsï¼ˆåˆ¶å¾¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆControllerã€Serviceã€Validatorï¼‰
- **Entity Objectsï¼ˆå®Ÿä½“ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰**: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ï¼ˆEntityã€ValueObjectï¼‰

### 4. è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½

#### ãƒˆãƒªã‚¬ãƒ¼
- ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è‡ªå‹•ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä½œæˆæ™‚ã«ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ã¨ãƒšãƒ¼ã‚¸å®šç¾©ã‚’è‡ªå‹•ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
1. **ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ†æ**
   - ãƒ—ãƒ­ã‚»ã‚¹ãƒ•ãƒ­ãƒ¼ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æŠ½å‡º
   - å„ã‚¹ãƒ†ãƒƒãƒ—ã‚’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å€™è£œã¨ã—ã¦è­˜åˆ¥
   - ã‚¢ã‚¯ã‚¿ãƒ¼ã”ã¨ã«ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–

2. **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ç”Ÿæˆ**
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«åŸºã¥ã„ãŸåˆæœŸå€¤ã®è¨­å®š
   - ã‚¢ã‚¯ã‚¿ãƒ¼ã€äº‹å‰æ¡ä»¶ã€åŸºæœ¬ãƒ•ãƒ­ãƒ¼ã®è‡ªå‹•æ¨è«–
   - ä»£æ›¿ãƒ•ãƒ­ãƒ¼ãƒ»ä¾‹å¤–ãƒ•ãƒ­ãƒ¼ã®é››å½¢ç”Ÿæˆ

3. **ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ã®ç”Ÿæˆ**
   - åŸºæœ¬ãƒ•ãƒ­ãƒ¼ã‹ã‚‰Boundary/Control/Entityã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŠ½å‡º
   - Mermaidãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã®è‡ªå‹•ç”Ÿæˆ
   - ç›¸äº’ä½œç”¨ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®é››å½¢ä½œæˆ

4. **ãƒšãƒ¼ã‚¸å®šç¾©ã®ç”Ÿæˆ**
   - ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ãƒ•ãƒ­ãƒ¼ã‹ã‚‰ç”»é¢é·ç§»ã‚’æ¨è«–
   - å…¥åŠ›é …ç›®ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿ã®æŠ½å‡º
   - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ç”»é¢æ§‹æˆã®é››å½¢ç”Ÿæˆ

## UIè¦ä»¶

### ãƒ‘ãƒ©ã‚½ãƒ«è¨­è¨ˆç®¡ç†ç”»é¢ã®æ‹¡å¼µ

#### 1. ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è©³ç´°ç”»é¢

**æ–°è¦è¿½åŠ è¦ç´ **:
```
â”Œâ”€ ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: [ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚ [ã‚¿ãƒ–] ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¦‚è¦ | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | ãƒ†ã‚¹ãƒˆ    â”‚
â”‚                                                      â”‚
â”‚ [ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚¿ãƒ–]                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœ… ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¸€è¦§ (3ä»¶)                      â”‚ â”‚
â”‚ â”‚                                                â”‚ â”‚
â”‚ â”‚ ğŸ“„ çŸ¥è­˜ã‚’è¨˜éŒ²ã™ã‚‹                    [ç·¨é›†] [å‰Šé™¤] â”‚ â”‚
â”‚ â”‚    â”œâ”€ ğŸ“„ knowledge-entry-page                â”‚ â”‚
â”‚ â”‚    â””â”€ ğŸ“„ draft-save-confirmation             â”‚ â”‚
â”‚ â”‚                                                â”‚ â”‚
â”‚ â”‚ ğŸ“„ ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä¾é ¼ã™ã‚‹                [ç·¨é›†] [å‰Šé™¤] â”‚ â”‚
â”‚ â”‚    â””â”€ ğŸ“„ review-request-modal                â”‚ â”‚
â”‚ â”‚                                                â”‚ â”‚
â”‚ â”‚ ğŸ“„ æ‰¿èªã‚’å¾—ã‚‹                        [ç·¨é›†] [å‰Šé™¤] â”‚ â”‚
â”‚ â”‚    â”œâ”€ ğŸ“„ approval-confirmation-page          â”‚ â”‚
â”‚ â”‚    â””â”€ ğŸ“„ approval-result-view                â”‚ â”‚
â”‚ â”‚                                                â”‚ â”‚
â”‚ â”‚ [+ æ–°è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä½œæˆ]                      â”‚ â”‚
â”‚ â”‚ [ğŸ¤– AIã§è‡ªå‹•ç”Ÿæˆ]                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°

**å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ **:
```
â”Œâ”€ æ–°è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä½œæˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                â”‚
â”‚ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å *                                â”‚
â”‚ [____________________________________]        â”‚
â”‚                                                â”‚
â”‚ ä¸»ã‚¢ã‚¯ã‚¿ãƒ¼ *                                   â”‚
â”‚ [â–¼ PM / Consultant / Client / System]        â”‚
â”‚                                                â”‚
â”‚ æ¦‚è¦                                           â”‚
â”‚ [____________________________________]        â”‚
â”‚ [____________________________________]        â”‚
â”‚                                                â”‚
â”‚ è‡ªå‹•ç”Ÿæˆã‚ªãƒ—ã‚·ãƒ§ãƒ³                              â”‚
â”‚ â˜‘ åŸºæœ¬ãƒ•ãƒ­ãƒ¼ã‚’è‡ªå‹•ç”Ÿæˆ                         â”‚
â”‚ â˜‘ ãƒšãƒ¼ã‚¸å®šç¾©ã‚’è‡ªå‹•ç”Ÿæˆ                         â”‚
â”‚                                                â”‚
â”‚ [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [ä½œæˆ]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. ãƒšãƒ¼ã‚¸å®šç¾©ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°

**å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ **:
```
â”Œâ”€ æ–°è¦ãƒšãƒ¼ã‚¸å®šç¾©ä½œæˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                â”‚
â”‚ ãƒšãƒ¼ã‚¸å *                                     â”‚
â”‚ [____________________________________]        â”‚
â”‚                                                â”‚
â”‚ ãƒšãƒ¼ã‚¸ç¨®åˆ¥ *                                   â”‚
â”‚ [â–¼ ä¸€è¦§ãƒšãƒ¼ã‚¸ / è©³ç´°ãƒšãƒ¼ã‚¸ / ãƒ•ã‚©ãƒ¼ãƒ  / ãƒ¢ãƒ¼ãƒ€ãƒ«]â”‚
â”‚                                                â”‚
â”‚ åˆ©ç”¨è€… *                                       â”‚
â”‚ [â–¼ PM / Consultant / Client / Admin]         â”‚
â”‚                                                â”‚
â”‚ ç›®çš„                                           â”‚
â”‚ [____________________________________]        â”‚
â”‚ [____________________________________]        â”‚
â”‚                                                â”‚
â”‚ è‡ªå‹•ç”Ÿæˆã‚ªãƒ—ã‚·ãƒ§ãƒ³                              â”‚
â”‚ â˜‘ ç”»é¢æ§‹æˆã‚’è‡ªå‹•ç”Ÿæˆ                           â”‚
â”‚ â˜‘ å…¥åŠ›é …ç›®ã‚’æ¨è«–                               â”‚
â”‚ â˜‘ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¨è«–                             â”‚
â”‚                                                â”‚
â”‚ [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [ä½œæˆ]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### æ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ‹¡å¼µ

#### UseCaseãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰
```prisma
model UseCase {
  id                    String   @id @default(cuid())
  businessOperationId   String   // FK to BusinessOperation
  name                  String   // ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å
  slug                  String   // URLãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªè­˜åˆ¥å­
  actor                 String   // ä¸»ã‚¢ã‚¯ã‚¿ãƒ¼
  summary               String?  // æ¦‚è¦
  content               String   // usecase.mdã®å†…å®¹
  preconditions         String?  // äº‹å‰æ¡ä»¶ï¼ˆJSONï¼‰
  postconditions        String?  // äº‹å¾Œæ¡ä»¶ï¼ˆJSONï¼‰
  basicFlow             String?  // åŸºæœ¬ãƒ•ãƒ­ãƒ¼ï¼ˆJSONï¼‰
  alternativeFlows      String?  // ä»£æ›¿ãƒ•ãƒ­ãƒ¼ï¼ˆJSONï¼‰
  exceptionFlows        String?  // ä¾‹å¤–ãƒ•ãƒ­ãƒ¼ï¼ˆJSONï¼‰
  order                 Int      @default(0)
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt

  businessOperation     BusinessOperation @relation(fields: [businessOperationId], references: [id], onDelete: Cascade)
  robustnessDiagram     RobustnessDiagram?  // 1å¯¾1ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆNEWï¼‰
  pageDefinitions       PageDefinition[]

  @@unique([businessOperationId, slug])
  @@index([businessOperationId])
}
```

#### RobustnessDiagramãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰
```prisma
model RobustnessDiagram {
  id                String   @id @default(cuid())
  useCaseId         String   @unique  // FK to UseCase (1å¯¾1)
  content           String   // robustness.mdã®å†…å®¹
  boundaryObjects   String?  // Boundary Objectså®šç¾©ï¼ˆJSONï¼‰
  controlObjects    String?  // Control Objectså®šç¾©ï¼ˆJSONï¼‰
  entityObjects     String?  // Entity Objectså®šç¾©ï¼ˆJSONï¼‰
  diagram           String?  // Mermaidãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚³ãƒ¼ãƒ‰
  interactions      String?  // ç›¸äº’ä½œç”¨ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼ˆJSONï¼‰
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  useCase           UseCase  @relation(fields: [useCaseId], references: [id], onDelete: Cascade)

  @@index([useCaseId])
}
```

#### PageDefinitionãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ‹¡å¼µï¼‰
```prisma
model PageDefinition {
  id          String   @id @default(cuid())
  useCaseId   String   // FK to UseCase (æ–°è¦è¿½åŠ )
  name        String
  slug        String
  pageType    String   // ä¸€è¦§/è©³ç´°/ãƒ•ã‚©ãƒ¼ãƒ /ãƒ¢ãƒ¼ãƒ€ãƒ«
  user        String   // åˆ©ç”¨è€…
  purpose     String?  // ç›®çš„
  content     String   // page.mdã®å†…å®¹
  layout      String?  // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæƒ…å ±ï¼ˆJSONï¼‰
  components  String?  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§ï¼ˆJSONï¼‰
  actions     String?  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§ï¼ˆJSONï¼‰
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  useCase     UseCase  @relation(fields: [useCaseId], references: [id], onDelete: Cascade)

  @@unique([useCaseId, slug])
  @@index([useCaseId])
}
```

## APIè¨­è¨ˆ

### 1. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹API

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¸€è¦§å–å¾—
```
GET /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases
```

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä½œæˆ
```
POST /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases
Body: {
  name: string,
  slug: string,
  actor: string,
  summary?: string,
  content: string,
  autoGeneratePages?: boolean
}
```

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å–å¾—
```
GET /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId
```

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹æ›´æ–°
```
PUT /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId
Body: { content: string }
```

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‰Šé™¤
```
DELETE /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId
```

### 2. ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³API

#### ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³å–å¾—
```
GET /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/robustness
```

#### ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ä½œæˆ
```
POST /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/robustness
Body: {
  content: string,
  boundaryObjects?: Array<{name, type, description}>,
  controlObjects?: Array<{name, role, description}>,
  entityObjects?: Array<{name, type, description}>
}
```

#### ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³æ›´æ–°
```
PUT /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/robustness
Body: { content: string }
```

#### ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³å‰Šé™¤
```
DELETE /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/robustness
```

### 3. ãƒšãƒ¼ã‚¸å®šç¾©API

#### ãƒšãƒ¼ã‚¸å®šç¾©ä¸€è¦§å–å¾—
```
GET /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/pages
```

#### ãƒšãƒ¼ã‚¸å®šç¾©ä½œæˆ
```
POST /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/pages
Body: {
  name: string,
  slug: string,
  pageType: string,
  user: string,
  purpose?: string,
  content: string
}
```

#### ãƒšãƒ¼ã‚¸å®šç¾©å–å¾—
```
GET /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/pages/:pageId
```

#### ãƒšãƒ¼ã‚¸å®šç¾©æ›´æ–°
```
PUT /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/pages/:pageId
Body: { content: string }
```

#### ãƒšãƒ¼ã‚¸å®šç¾©å‰Šé™¤
```
DELETE /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/pages/:pageId
```

### 4. è‡ªå‹•ç”ŸæˆAPI

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹è‡ªå‹•ç”Ÿæˆ
```
POST /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/generate
Body: {
  operationContent: string,  // operation.mdã®å†…å®¹
  count?: number            // ç”Ÿæˆã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3-5ï¼‰
}
Response: {
  usecases: Array<{
    name: string,
    actor: string,
    summary: string,
    suggestedContent: string
  }>
}
```

#### ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³è‡ªå‹•ç”Ÿæˆ
```
POST /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/robustness/generate
Body: {
  usecaseContent: string    // usecase.mdã®å†…å®¹
}
Response: {
  boundaryObjects: Array<{name, type, description}>,
  controlObjects: Array<{name, role, description}>,
  entityObjects: Array<{name, type, description}>,
  diagram: string,          // Mermaidãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚³ãƒ¼ãƒ‰
  interactions: Array<{step, description}>
}
```

#### ãƒšãƒ¼ã‚¸å®šç¾©è‡ªå‹•ç”Ÿæˆ
```
POST /api/parasol/services/:serviceId/capabilities/:capabilityId/operations/:operationId/usecases/:usecaseId/pages/generate
Body: {
  usecaseContent: string,   // usecase.mdã®å†…å®¹
  robustnessContent?: string // robustness.mdã®å†…å®¹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
}
Response: {
  pages: Array<{
    name: string,
    pageType: string,
    user: string,
    purpose: string,
    suggestedContent: string
  }>
}
```

## ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

`templates/parasol-usecase.md`:
```markdown
# ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹: [ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å]

## åŸºæœ¬æƒ…å ±
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ID**: UC-XXX
- **è¦ªãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: [ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å]
- **ã‚¢ã‚¯ã‚¿ãƒ¼**: [ä¸»ã‚¢ã‚¯ã‚¿ãƒ¼], [å‰¯ã‚¢ã‚¯ã‚¿ãƒ¼]
- **æ¦‚è¦**: [ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ç°¡æ½”ãªèª¬æ˜]

## äº‹å‰æ¡ä»¶
- [æ¡ä»¶1]
- [æ¡ä»¶2]
- [æ¡ä»¶3]

## äº‹å¾Œæ¡ä»¶
### æˆåŠŸæ™‚
- [æˆåŠŸæ™‚ã®çŠ¶æ…‹1]
- [æˆåŠŸæ™‚ã®çŠ¶æ…‹2]

### å¤±æ•—æ™‚
- [å¤±æ•—æ™‚ã®çŠ¶æ…‹1]
- [å¤±æ•—æ™‚ã®çŠ¶æ…‹2]

## åŸºæœ¬ãƒ•ãƒ­ãƒ¼
1. [ã‚¢ã‚¯ã‚¿ãƒ¼]ãŒ[ã‚¢ã‚¯ã‚·ãƒ§ãƒ³]ã‚’å®Ÿè¡Œã™ã‚‹
2. ã‚·ã‚¹ãƒ†ãƒ ãŒ[å‡¦ç†]ã‚’è¡Œã†
3. ã‚·ã‚¹ãƒ†ãƒ ãŒ[çµæœ]ã‚’è¡¨ç¤ºã™ã‚‹
4. [ã‚¢ã‚¯ã‚¿ãƒ¼]ãŒ[ç¢ºèª/æ‰¿èª]ã‚’è¡Œã†
5. ã‚·ã‚¹ãƒ†ãƒ ãŒ[æœ€çµ‚å‡¦ç†]ã‚’å®Œäº†ã™ã‚‹

## ä»£æ›¿ãƒ•ãƒ­ãƒ¼
### ä»£æ›¿ãƒ•ãƒ­ãƒ¼1: [æ¡ä»¶]
- 3a. [æ¡ä»¶]ã®å ´åˆ
  - 3a1. ã‚·ã‚¹ãƒ†ãƒ ãŒ[ä»£æ›¿å‡¦ç†]ã‚’å®Ÿè¡Œ
  - 3a2. åŸºæœ¬ãƒ•ãƒ­ãƒ¼4ã«æˆ»ã‚‹

## ä¾‹å¤–ãƒ•ãƒ­ãƒ¼
### ä¾‹å¤–1: [ã‚¨ãƒ©ãƒ¼æ¡ä»¶]
- *a. [ã‚¨ãƒ©ãƒ¼æ¡ä»¶]ãŒç™ºç”Ÿã—ãŸå ´åˆ
  - *a1. ã‚·ã‚¹ãƒ†ãƒ ãŒ[ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]ã‚’è¡¨ç¤º
  - *a2. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¸­æ–­

## ç‰¹åˆ¥è¦ä»¶
- **æ€§èƒ½**: [æ€§èƒ½è¦ä»¶]
- **å¯ç”¨æ€§**: [å¯ç”¨æ€§è¦ä»¶]
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶]

## é–¢é€£ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³
`robustness.md`ï¼ˆåˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’å‚ç…§

## é–¢é€£ãƒšãƒ¼ã‚¸å®šç¾©
- [ãƒšãƒ¼ã‚¸1å]
- [ãƒšãƒ¼ã‚¸2å]
- [ãƒšãƒ¼ã‚¸3å]

## é–¢é€£ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- **åŒ…å«**: [åŒ…å«ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹]
- **æ‹¡å¼µ**: [æ‹¡å¼µã•ã‚Œã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹]
```

### ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

`templates/parasol-robustness.md`:
```markdown
# ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³: [ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å]

## å›³ã®æ¦‚è¦
[ã“ã®ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ãŒè¡¨ç¾ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦]

## è¦ªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ID**: UC-XXX
**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å**: [ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å]

## è¦ç´ å®šç¾©

### Boundary Objectsï¼ˆå¢ƒç•Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚·ã‚¹ãƒ†ãƒ ã¨ç›¸äº’ä½œç”¨ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¦ç´ 

| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå | ç¨®é¡ | èª¬æ˜ |
|---------------|------|------|
| [UIè¦ç´ 1] | ç”»é¢ | [èª¬æ˜] |
| [UIè¦ç´ 2] | ãƒ•ã‚©ãƒ¼ãƒ  | [èª¬æ˜] |
| [UIè¦ç´ 3] | ãƒœã‚¿ãƒ³ | [èª¬æ˜] |
| [UIè¦ç´ 4] | ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | [èª¬æ˜] |

### Control Objectsï¼ˆåˆ¶å¾¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰
ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚„å‡¦ç†ã®æµã‚Œã‚’åˆ¶å¾¡ã™ã‚‹è¦ç´ 

| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå | å½¹å‰² | èª¬æ˜ |
|---------------|------|------|
| [Controller1] | åˆ¶å¾¡ | [å‡¦ç†å†…å®¹] |
| [Service1] | æ¥­å‹™å‡¦ç† | [å‡¦ç†å†…å®¹] |
| [Validator1] | æ¤œè¨¼ | [æ¤œè¨¼å†…å®¹] |
| [Adapter1] | å¤–éƒ¨é€£æº | [é€£æºå†…å®¹] |

### Entity Objectsï¼ˆå®Ÿä½“ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰
ã‚·ã‚¹ãƒ†ãƒ ãŒæ‰±ã†ãƒ‡ãƒ¼ã‚¿ã‚„æ¦‚å¿µã‚’è¡¨ç¾ã™ã‚‹è¦ç´ 

| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå | ç¨®é¡ | èª¬æ˜ |
|---------------|------|------|
| [Entity1] | ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ | [èª¬æ˜] |
| [Entity2] | ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« | [èª¬æ˜] |
| [ValueObject1] | å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ | [èª¬æ˜] |
| [Aggregate1] | é›†ç´„ | [èª¬æ˜] |

## ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³

```mermaid
graph LR
    %% Actors
    Actor[ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼]

    %% Boundary Objects (UI elements)
    UI1[ğŸ–¥ï¸ ç”»é¢1]
    UI2[ğŸ“ ãƒ•ã‚©ãƒ¼ãƒ 1]
    UI3[ğŸ”˜ ãƒœã‚¿ãƒ³1]

    %% Control Objects (Business Logic)
    Controller1[âš™ï¸ Controller1]
    Service1[ğŸ”§ Service1]
    Validator1[âœ… Validator1]

    %% Entity Objects (Data/Domain)
    Entity1[ğŸ“Š Entity1]
    Entity2[ğŸ—‚ï¸ Entity2]
    VO1[ğŸ’ ValueObject1]

    %% Relationships
    Actor --> UI1
    UI1 --> Controller1
    UI2 --> Controller1
    UI3 --> Controller1
    Controller1 --> Service1
    Service1 --> Validator1
    Service1 --> Entity1
    Entity1 --> Entity2
    Service1 --> VO1
```

## ç›¸äº’ä½œç”¨ã‚·ãƒ¼ã‚±ãƒ³ã‚¹

### åŸºæœ¬ãƒ•ãƒ­ãƒ¼
1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼** â†’ **[UIè¦ç´ ]**: [æ“ä½œå†…å®¹]
2. **[UIè¦ç´ ]** â†’ **[Controller]**: [ãƒ‡ãƒ¼ã‚¿é€ä¿¡]
3. **[Controller]** â†’ **[Service]**: [å‡¦ç†ä¾é ¼]
4. **[Service]** â†’ **[Validator]**: [æ¤œè¨¼å®Ÿè¡Œ]
5. **[Service]** â†’ **[Entity]**: [ãƒ‡ãƒ¼ã‚¿æ“ä½œ]
6. **[Entity]** â†’ **[Service]**: [çµæœè¿”å´]
7. **[Service]** â†’ **[Controller]**: [å‡¦ç†çµæœ]
8. **[Controller]** â†’ **[UIè¦ç´ ]**: [è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿]
9. **[UIè¦ç´ ]** â†’ **ãƒ¦ãƒ¼ã‚¶ãƒ¼**: [çµæœè¡¨ç¤º]

### ä»£æ›¿ãƒ•ãƒ­ãƒ¼
[æ¡ä»¶åˆ†å²ãŒã‚ã‚‹å ´åˆã®ç›¸äº’ä½œç”¨]

### ä¾‹å¤–ãƒ•ãƒ­ãƒ¼
[ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ç›¸äº’ä½œç”¨]

## ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è²¬å‹™

### Boundary Objectè²¬å‹™
- [UIè¦ç´ 1]: [è²¬å‹™ã®è©³ç´°èª¬æ˜]
- [UIè¦ç´ 2]: [è²¬å‹™ã®è©³ç´°èª¬æ˜]

### Control Objectè²¬å‹™
- [Controller1]: [è²¬å‹™ã®è©³ç´°èª¬æ˜]
- [Service1]: [è²¬å‹™ã®è©³ç´°èª¬æ˜]

### Entity Objectè²¬å‹™
- [Entity1]: [è²¬å‹™ã®è©³ç´°èª¬æ˜]
- [Entity2]: [è²¬å‹™ã®è©³ç´°èª¬æ˜]

## è¨­è¨ˆä¸Šã®æ³¨æ„ç‚¹
- [Boundaryã®è²¬å‹™ç¯„å›²ã¨åˆ¶ç´„]
- [Controlã®å‡¦ç†åˆ†å‰²æ–¹é‡]
- [Entityã®ã‚«ãƒ—ã‚»ãƒ«åŒ–ã¨ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡]
- [ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œ]
- [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ–¹é‡]
```

### ãƒšãƒ¼ã‚¸å®šç¾©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

`templates/parasol-page-definition.md`:
```markdown
# ãƒšãƒ¼ã‚¸å®šç¾©: [ãƒšãƒ¼ã‚¸å]

## ç”»é¢ã®ç›®çš„
[ã“ã®ç”»é¢ã§é”æˆã—ãŸã„ãƒ“ã‚¸ãƒã‚¹ç›®çš„ã‚’è¨˜è¿°]

## åˆ©ç”¨è€…
- **[ä¸»è¦åˆ©ç”¨è€…]**: [å½¹å‰²ã¨åˆ©ç”¨ç›®çš„]
- **[å‰¯æ¬¡åˆ©ç”¨è€…]**: [å½¹å‰²ã¨åˆ©ç”¨ç›®çš„]

## ç”»é¢æ§‹æˆ

### ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨
- [ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¡¨ç¤ºã™ã‚‹è¦ç´ ]
- [ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ ]

### ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„éƒ¨
- **[ã‚»ã‚¯ã‚·ãƒ§ãƒ³1å]**: [è¡¨ç¤ºå†…å®¹ã¨æ©Ÿèƒ½]
- **[ã‚»ã‚¯ã‚·ãƒ§ãƒ³2å]**: [è¡¨ç¤ºå†…å®¹ã¨æ©Ÿèƒ½]
- **[ã‚»ã‚¯ã‚·ãƒ§ãƒ³3å]**: [è¡¨ç¤ºå†…å®¹ã¨æ©Ÿèƒ½]

### ã‚µã‚¤ãƒ‰ãƒãƒ¼éƒ¨ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
- [ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®å†…å®¹]

## ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º

### è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿ä¸€è¦§
| ãƒ‡ãƒ¼ã‚¿é …ç›® | è¡¨ç¤ºå½¢å¼ | å¿…é ˆ | èª¬æ˜ |
|-----------|---------|------|------|
| [é …ç›®1] | [å½¢å¼] | â—‹/Ã— | [èª¬æ˜] |
| [é …ç›®2] | [å½¢å¼] | â—‹/Ã— | [èª¬æ˜] |

## å…¥åŠ›é …ç›®

### ãƒ•ã‚©ãƒ¼ãƒ ä¸€è¦§
| å…¥åŠ›é …ç›® | å…¥åŠ›å½¢å¼ | å¿…é ˆ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|---------|---------|------|---------------|------|
| [é …ç›®1] | [å½¢å¼] | â—‹/Ã— | [ãƒ«ãƒ¼ãƒ«] | [èª¬æ˜] |
| [é …ç›®2] | [å½¢å¼] | â—‹/Ã— | [ãƒ«ãƒ¼ãƒ«] | [èª¬æ˜] |

## ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»æ“ä½œ

### ä¸»è¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- **[ã‚¢ã‚¯ã‚·ãƒ§ãƒ³1]**: [èª¬æ˜ã¨å®Ÿè¡Œæ¡ä»¶]
- **[ã‚¢ã‚¯ã‚·ãƒ§ãƒ³2]**: [èª¬æ˜ã¨å®Ÿè¡Œæ¡ä»¶]

## ç”»é¢ã®æŒ¯ã‚‹èˆã„

### ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã¸ã®åå¿œ
- **[æ“ä½œ1]**æ™‚: [ç”»é¢ã®åå¿œ]
- **[æ“ä½œ2]**æ™‚: [ç”»é¢ã®åå¿œ]

## ç”»é¢é·ç§»

### é·ç§»å…ƒç”»é¢
- [é·ç§»å…ƒç”»é¢1]: [é·ç§»æ¡ä»¶]

### é·ç§»å…ˆç”»é¢
- [é·ç§»å…ˆç”»é¢1]: [é·ç§»æ¡ä»¶]

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **[ã‚¨ãƒ©ãƒ¼1]**: [è¡¨ç¤ºæ–¹æ³•ã¨å¯¾å‡¦æ³•]
- **[ã‚¨ãƒ©ãƒ¼2]**: [è¡¨ç¤ºæ–¹æ³•ã¨å¯¾å‡¦æ³•]

## ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—**: [è¡¨ç¤ºæ–¹æ³•]
- **ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ**: [è¡¨ç¤ºæ–¹æ³•]
- **ãƒ¢ãƒã‚¤ãƒ«**: [è¡¨ç¤ºæ–¹æ³•]
```

## å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

### Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã¨APIå®Ÿè£…
- [ ] Prismaã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µï¼ˆUseCase, RobustnessDiagram, PageDefinitionæ›´æ–°ï¼‰
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- [ ] CRUD APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
  - [ ] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹API
  - [ ] ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³APIï¼ˆNEWï¼‰
  - [ ] ãƒšãƒ¼ã‚¸å®šç¾©API

### Phase 2: UIå®Ÿè£…
- [ ] ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è©³ç´°ç”»é¢ã®æ‹¡å¼µ
  - [ ] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚¿ãƒ–ã®è¿½åŠ 
  - [ ] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¸€è¦§è¡¨ç¤º
  - [ ] ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³è¡¨ç¤ºï¼ˆNEWï¼‰
  - [ ] ãƒšãƒ¼ã‚¸å®šç¾©ãƒ„ãƒªãƒ¼è¡¨ç¤º
- [ ] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- [ ] ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ä½œæˆãƒ»ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆNEWï¼‰
- [ ] ãƒšãƒ¼ã‚¸å®šç¾©ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- [ ] ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½

### Phase 3: è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½
- [ ] ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åˆ†æãƒ­ã‚¸ãƒƒã‚¯
- [ ] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹è‡ªå‹•ç”ŸæˆAPI
- [ ] ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³è‡ªå‹•ç”ŸæˆAPIï¼ˆNEWï¼‰
- [ ] ãƒšãƒ¼ã‚¸å®šç¾©è‡ªå‹•ç”ŸæˆAPI
- [ ] AIé€£æºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### Phase 4: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
- [ ] ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆNEWï¼‰
- [ ] ãƒšãƒ¼ã‚¸å®šç¾©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
- [ ] ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ä½œæˆ
- [ ] åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ä½œæˆ

## ãƒ†ã‚¹ãƒˆè¨ˆç”»

### å˜ä½“ãƒ†ã‚¹ãƒˆ
- [ ] API CRUDæ“ä½œã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ
- [ ] éšå±¤æ§‹é€ ã®æ•´åˆæ€§ãƒ†ã‚¹ãƒˆ

### çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ â†’ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ â†’ ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ â†’ ãƒšãƒ¼ã‚¸å®šç¾©ã®ä½œæˆãƒ•ãƒ­ãƒ¼
- [ ] å‰Šé™¤æ™‚ã®ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰å‡¦ç†ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‰Šé™¤æ™‚ã«ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ã‚‚å‰Šé™¤ï¼‰
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨DBã®åŒæœŸ

### E2Eãƒ†ã‚¹ãƒˆ
- [ ] UIæ“ä½œã«ã‚ˆã‚‹ä½œæˆãƒ•ãƒ­ãƒ¼
- [ ] ç·¨é›†ãƒ»å‰Šé™¤ãƒ•ãƒ­ãƒ¼
- [ ] è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ

## æˆåŠŸåŸºæº–

- [ ] ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰3-5å€‹ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ä½œæˆã§ãã‚‹
- [ ] å„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾ã—ã¦ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³ã‚’ä½œæˆã§ãã‚‹
- [ ] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‹ã‚‰1-3å€‹ã®ãƒšãƒ¼ã‚¸å®šç¾©ã‚’ä½œæˆã§ãã‚‹
- [ ] éšå±¤æ§‹é€ ï¼ˆã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³â†’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹â†’ãƒ­ãƒã‚¹ãƒˆãƒã‚¹å›³â†’ãƒšãƒ¼ã‚¸ï¼‰ãŒUIä¸Šã§æ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒåŒæœŸã—ã¦ã„ã‚‹
- [ ] è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ãŒé©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã™ã‚‹ï¼ˆ70%ä»¥ä¸Šã®åˆ©ç”¨å¯èƒ½æ€§ï¼‰
- [ ] Mermaidãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹

## å®Ÿè£…å¯èƒ½æ€§èª¿æŸ»çµæœ

### ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³

âœ… **æ—¢ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹åŸºç›¤**:
- `TreeNode`å‹ã§`useCase`ã¨`page`ãŒå®šç¾©æ¸ˆã¿ (`app/types/parasol.ts:8`)
- `UnifiedTreeView`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒéšå±¤è¡¨ç¤ºã«å¯¾å¿œæ¸ˆã¿
- `BusinessOperation`å‹ã«`useCases`, `uiDefinitions`, `testCases`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨
- ãƒãƒ¼ãƒ‰ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆ`FileText`ï¼‰ã¨ã‚«ãƒ©ãƒ¼å®šç¾©ãŒæº–å‚™æ¸ˆã¿

### å®Ÿè£…ã®é›£æ˜“åº¦è©•ä¾¡

| ãƒ•ã‚§ãƒ¼ã‚º | é›£æ˜“åº¦ | ç†ç”± |
|---------|--------|------|
| **Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ** | â­â­â­ | Prismaã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãŒå¿…è¦ |
| **Phase 2: ãƒ„ãƒªãƒ¼ãƒ“ãƒ«ãƒ‰ä¿®æ­£** | â­ | ãƒ„ãƒªãƒ¼æ§‹é€ ã¯æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¸è¥² |
| **Phase 3: APIå®Ÿè£…** | â­â­ | CRUDã®APIã¯æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚Š |
| **Phase 4: UIæ‹¡å¼µ** | â­â­ | UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ—¢ã«ç”¨æ„æ¸ˆã¿ |

### å®Ÿè£…æ–¹é‡

**å®Œå…¨ã«å®Ÿè£…å¯èƒ½**ã€‚æ—¢å­˜ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«é©åˆã—ã¦ãŠã‚Šã€ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ã€å‹å®šç¾©ã€ã‚¢ã‚¤ã‚³ãƒ³ãªã©ã®åŸºç›¤ã¯æ•´ã£ã¦ã„ã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆPrismaï¼‰ã¨APIå±¤ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§å®Ÿç¾å¯èƒ½ã€‚

## å‚è€ƒè³‡æ–™

- ãƒ‘ãƒ©ã‚½ãƒ«è¨­è¨ˆæ‰‹æ³•ã‚¬ã‚¤ãƒ‰: `docs/parasol/PARASOL_STRUCTURE.md`
- ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‘½åè¦å‰‡: `CLAUDE.md`ï¼ˆãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®éšå±¤æ§‹é€ ï¼‰
- ãƒšãƒ¼ã‚¸å®šç¾©ä»•æ§˜: `CLAUDE.md`ï¼ˆãƒšãƒ¼ã‚¸å®šç¾©ã¨ãƒ†ã‚¹ãƒˆå®šç¾©ã®è¨­è¨ˆåŸå‰‡ï¼‰
- æ—¢å­˜ã®ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼å®Ÿè£…: `app/components/parasol/UnifiedTreeView.tsx`
- å‹å®šç¾©: `app/types/parasol.ts`
