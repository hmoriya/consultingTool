# BC-003: Access Control & Security

**ä½œæˆæ—¥**: 2025-10-31
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0 (v3.0)
**ç§»è¡Œå…ƒ**: secure-access-service (V2) - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£æ©Ÿèƒ½ã®ã¿

---

## ğŸ¯ Why: ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤

ã“ã®BCãŒè§£æ±ºã™ã‚‹ãƒ“ã‚¸ãƒã‚¹èª²é¡Œ:
- ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã«ã‚ˆã‚‹æ©Ÿå¯†æƒ…å ±æ¼æ´©ã®ãƒªã‚¹ã‚¯
- æ¨©é™ç®¡ç†ã®ä¸å‚™ã«ã‚ˆã‚‹ä¸é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®æ¤œçŸ¥é…å»¶
- ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹è¦ä»¶ã¸ã®å¯¾å¿œä¸è¶³
- ç›£æŸ»è¨¼è·¡ã®ä¸è¶³ã«ã‚ˆã‚‹èª¬æ˜è²¬ä»»ã®æ¬ å¦‚

æä¾›ã™ã‚‹ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤:
- **ã‚»ã‚­ãƒ¥ã‚¢ã‚¢ã‚¯ã‚»ã‚¹**: å¤šè¦ç´ èªè¨¼ã«ã‚ˆã‚Šã€ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã‚’é˜²æ­¢
- **é©åˆ‡ãªæ¨©é™ç®¡ç†**: ãã‚ç´°ã‹ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã«ã‚ˆã‚Šã€æƒ…å ±æ¼æ´©ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–
- **æ—©æœŸè„…å¨æ¤œçŸ¥**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–ã«ã‚ˆã‚Šã€ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã‚’æ—©æœŸç™ºè¦‹
- **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹æº–æ‹ **: æ¥­ç•Œæ¨™æº–ã«æº–æ‹ ã—ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä½“åˆ¶ã®æ§‹ç¯‰
- **å®Œå…¨ãªç›£æŸ»è¨¼è·¡**: å…¨ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®è¨˜éŒ²ã«ã‚ˆã‚Šã€èª¬æ˜è²¬ä»»ã‚’æœãŸã™

---

## ğŸ“‹ What: æ©Ÿèƒ½ï¼ˆL3èƒ½åŠ›ï¼‰

ã“ã®BCãŒæä¾›ã™ã‚‹èƒ½åŠ›:

### L3-001: Identity & Authentication
**èƒ½åŠ›**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èº«å…ƒã‚’ç¢ºèªã—ã€èªè¨¼ã™ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¨ç®¡ç†
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†
- å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰
- ã‚·ãƒ³ã‚°ãƒ«ã‚µã‚¤ãƒ³ã‚ªãƒ³ï¼ˆSSOï¼‰
- è©³ç´°: [capabilities/L3-001-identity-and-authentication/](capabilities/L3-001-identity-and-authentication/)

### L3-002: Authorization & Access Control
**èƒ½åŠ›**: ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã™ã‚‹
- ãƒ­ãƒ¼ãƒ«ã¨æ¨©é™ã®å®šç¾©
- æ¨©é™ã®ä»˜ä¸ã¨ç®¡ç†
- ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®ç›£æŸ»ã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼
- è©³ç´°: [capabilities/L3-002-authorization-and-access-control/](capabilities/L3-002-authorization-and-access-control/)

### L3-003: Audit, Compliance & Governance
**èƒ½åŠ›**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ç›£æŸ»ã—ã€ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã‚’ä¿è¨¼ã™ã‚‹
- ç›£æŸ»ãƒ­ã‚°ã®ç®¡ç†
- ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã®æ¤œçŸ¥
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ
- è©³ç´°: [capabilities/L3-003-audit-compliance-and-governance/](capabilities/L3-003-audit-compliance-and-governance/)

---

## ğŸ—ï¸ How: è¨­è¨ˆæ–¹é‡

### ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­è¨ˆ
- [domain/README.md](domain/README.md)
- **ä¸»è¦é›†ç´„**: User Aggregate, Permission Aggregate, AuditLog Aggregate
- **ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: User, Role, Permission, Session, AuditLog, SecurityEvent
- **ä¸»è¦å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**: Credential, AccessToken, SecurityPolicy

**V2ã‹ã‚‰ã®ç§»è¡Œ**:
- `services/secure-access-service/domain-language.md` â†’ `domain/`ã¸åˆ†å‰²æ•´ç†
- çµ„ç¹”æ§‹é€ ç®¡ç†æ©Ÿèƒ½ã¯BC-004ã¸åˆ†é›¢

### APIè¨­è¨ˆ
- [api/README.md](api/README.md)
- **APIä»•æ§˜**: [api/api-specification.md](api/api-specification.md) â† Issue #146å¯¾å¿œæ¸ˆã¿
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: [api/endpoints/](api/endpoints/)
- **ã‚¹ã‚­ãƒ¼ãƒ**: [api/schemas/](api/schemas/)

**V2ã‹ã‚‰ã®ç§»è¡Œ**:
- `services/secure-access-service/api/api-specification.md` â†’ `api/api-specification.md`
- Issue #146ã®WHAT/HOWåˆ†é›¢æ§‹é€ ã‚’ç¶­æŒ

### ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ
- [data/README.md](data/README.md)
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ**: [data/database-design.md](data/database-design.md)
- **ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«**: users, roles, permissions, role_permissions, sessions, audit_logs, security_events
- **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼**: [data/data-flow.md](data/data-flow.md)

**V2ã‹ã‚‰ã®ç§»è¡Œ**:
- `services/secure-access-service/database-design.md` â†’ `data/database-design.md`
- çµ„ç¹”æ§‹é€ ãƒ†ãƒ¼ãƒ–ãƒ«ã¯BC-004ã¸ç§»è¡Œ

---

## ğŸ“¦ BCå¢ƒç•Œ

### ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œ
- **BCå†…ã®L3/Operationé–“**: å¼·æ•´åˆæ€§
  - User â†’ Session ã®ä¸€è²«æ€§ä¿è¨¼
  - Role â†’ Permission ã®é–¢é€£æ€§ç¶­æŒ
  - AuditLog ã®å®Œå…¨æ€§ä¿è¨¼
- **BCé–“**: çµæœæ•´åˆæ€§ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ï¼‰
  - å…¨BC ã¸ã®èªè¨¼ãƒ»èªå¯ã‚µãƒ¼ãƒ“ã‚¹æä¾›

### ä»–BCã¨ã®é€£æº

#### å…¨BCå…±é€šï¼ˆBC-001, BC-002, BC-004, BC-005, BC-006, BC-007ï¼‰
- **é€£æºå†…å®¹**: èªè¨¼ãƒ»èªå¯ãƒ»ç›£æŸ»æ©Ÿèƒ½ã®æä¾›
- **é€£æºæ–¹å‘**: å…¨BC â†’ BC-003ï¼ˆèªè¨¼ãƒ»èªå¯è¦æ±‚ï¼‰
- **é€£æºæ–¹å¼**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‘¼ã³å‡ºã—å‹ï¼ˆèªè¨¼APIã€æ¨©é™æ¤œè¨¼APIï¼‰

#### BC-004: Organizational Structure & Governance
- **é€£æºå†…å®¹**: çµ„ç¹”æ§‹é€ æƒ…å ±ã®å‚ç…§
- **é€£æºæ–¹å‘**: BC-003 â†’ BC-004ï¼ˆçµ„ç¹”æƒ…å ±ç…§ä¼šï¼‰
- **é€£æºæ–¹å¼**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‘¼ã³å‡ºã—å‹ï¼ˆçµ„ç¹”æ§‹é€ APIï¼‰

#### BC-007: Team Communication & Collaboration
- **é€£æºå†…å®¹**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ©ãƒ¼ãƒˆã€ç›£æŸ»é€šçŸ¥
- **é€£æºæ–¹å‘**: BC-003 â†’ BC-007ï¼ˆé€šçŸ¥ã‚¤ãƒ™ãƒ³ãƒˆï¼‰
- **é€£æºæ–¹å¼**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ï¼ˆSecurityAlertRaised, AuditReportGeneratedï¼‰

---

## ğŸ“Š çµ±è¨ˆæƒ…å ±

### V2ã‹ã‚‰ã®ç§»è¡Œçµ±è¨ˆ
- **V2 Capabilities**: 4å€‹ï¼ˆsecure-access-serviceå…¨ä½“ï¼‰
- **V3 L3 Capabilities**: 3å€‹ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã®ã¿ï¼‰
- **Operationsæ•°**: 9å€‹
- **çµ±åˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
  - âœ… çµ„ç¹”æ§‹é€ ç®¡ç†ã‚’BC-004ã«åˆ†é›¢
  - âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã«ç‰¹åŒ–

### è¦æ¨¡
- **L3 Capabilities**: 3å€‹ï¼ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æº–æ‹ ï¼‰
- **1 L3ã‚ãŸã‚ŠOperationæ•°**: 3.0å€‹ï¼ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æº–æ‹ ï¼‰
- **æ¨å®šUseCaseæ•°**: 12-15å€‹

---

## ğŸ”— V2æ§‹é€ ã¸ã®å‚ç…§

> âš ï¸ **ç§»è¡Œã®ãŠçŸ¥ã‚‰ã›**: ã“ã®BCã¯V2æ§‹é€ ã‹ã‚‰ç§»è¡Œä¸­ã§ã™ã€‚
>
> **V2å‚ç…§å…ˆï¼ˆå‚ç…§ã®ã¿ï¼‰**:
> - [services/secure-access-service/](../../services/secure-access-service/) - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã®ã¿
>
> V2æ§‹é€ ã¯2026å¹´1æœˆã¾ã§å‚ç…§å¯èƒ½ã§ã™ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰ã€‚

### V2 Capabilityãƒãƒƒãƒ”ãƒ³ã‚°

| V2 Capability | V3 L3 Capability | å‚™è€ƒ |
|--------------|------------------|------|
| authenticate-and-manage-users | L3-001: Identity & Authentication | ç§»è¡Œå®Œäº† |
| control-access-permissions | L3-002: Authorization & Access Control | ç§»è¡Œå®Œäº† |
| audit-and-assure-security | L3-003: Audit, Compliance & Governance | ç§»è¡Œå®Œäº† |
| manage-organizational-structure | BC-004ã«ç§»è¡Œ | æˆ¦ç•¥çš„åˆ†é›¢ |

---

## âœ… å“è³ªåŸºæº–

### æˆåŠŸæŒ‡æ¨™
- [ ] èªè¨¼æˆåŠŸç‡ â‰¥ 99.9%
- [ ] MFAæœ‰åŠ¹åŒ–ç‡ â‰¥ 90%
- [ ] ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹æ¤œçŸ¥ç‡ â‰¥ 95%
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œæ™‚é–“ â‰¤ 30åˆ†
- [ ] ç›£æŸ»ãƒ­ã‚°å®Œå…¨æ€§ = 100%

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å“è³ª
- [x] L3 Capabilityæ•°ãŒ3-5å€‹ã®ç¯„å›²ï¼ˆ3å€‹ï¼‰
- [x] å„L3ã®Operationæ•°ãŒ2-4å€‹ã®ç¯„å›²
- [x] BCé–“ä¾å­˜ãŒé©åˆ‡ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [x] Issue #146ï¼ˆAPI WHAT/HOWåˆ†é›¢ï¼‰ã«æº–æ‹ 

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### å¿…é ˆå‚ç…§
- [V2_V3_MAPPING.md](../../V2_V3_MAPPING.md) - V2â†’V3è©³ç´°ãƒãƒƒãƒ”ãƒ³ã‚°
- [MIGRATION_STATUS.md](../../MIGRATION_STATUS.md) - ç§»è¡Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- [V2_V3_COEXISTENCE_STRATEGY.md](../../V2_V3_COEXISTENCE_STRATEGY.md) - å…±å­˜æˆ¦ç•¥

### è¨­è¨ˆã‚¬ã‚¤ãƒ‰
- [parasol-design-process-guide.md](../../parasol-design-process-guide.md) - v3.0å¯¾å¿œãƒ—ãƒ­ã‚»ã‚¹

### Issue #146é–¢é€£
- API WHAT/HOWåˆ†é›¢ã‚¬ã‚¤ãƒ‰ï¼ˆIssue #146å¯¾å¿œï¼‰

---

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | æ›´æ–°å†…å®¹ | æ›´æ–°è€… |
|------|---------|--------|
| 2025-10-31 | BC-003 READMEåˆç‰ˆä½œæˆï¼ˆPhase 0ï¼‰ | Claude |

---

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 0 - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¬ãƒ“ãƒ¥ãƒ¼æº–å‚™å®Œäº†
**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: L3 Capabilityãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ
