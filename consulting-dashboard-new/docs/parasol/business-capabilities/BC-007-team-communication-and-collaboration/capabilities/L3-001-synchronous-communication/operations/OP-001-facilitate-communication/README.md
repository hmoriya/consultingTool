# OP-001: ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿ƒé€²ã™ã‚‹

**ä½œæˆæ—¥**: 2025-10-31
**æ‰€å±L3**: L3-001-synchronous-communication: Synchronous Communication
**æ‰€å±BC**: BC-007: Team Communication & Collaboration
**V2ç§»è¡Œå…ƒ**: services/collaboration-facilitation-service/capabilities/communication-delivery/operations/facilitate-communication

---

## ğŸ“‹ How: ã“ã®æ“ä½œã®å®šç¾©

### æ“ä½œã®æ¦‚è¦
ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿ƒé€²ã™ã‚‹ã‚’å®Ÿè¡Œã—ã€ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã‚’å‰µå‡ºã™ã‚‹ã€‚

### å®Ÿç¾ã™ã‚‹æ©Ÿèƒ½
- ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿ƒé€²ã™ã‚‹ã«å¿…è¦ãªæƒ…å ±ã®å…¥åŠ›ã¨æ¤œè¨¼
- ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿ƒé€²ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã®å®Ÿè¡Œã¨é€²æ—ç®¡ç†
- çµæœã®è¨˜éŒ²ã¨é–¢ä¿‚è€…ã¸ã®é€šçŸ¥
- ç›£æŸ»è¨¼è·¡ã®è¨˜éŒ²

### å…¥åŠ›
- æ“ä½œå®Ÿè¡Œã«å¿…è¦ãªãƒ“ã‚¸ãƒã‚¹æƒ…å ±
- å®Ÿè¡Œè€…ã®èªè¨¼æƒ…å ±ã¨æ¨©é™
- é–¢é€£ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å‚ç…§æƒ…å ±

### å‡ºåŠ›
- æ“ä½œçµæœï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰
- æ›´æ–°ã•ã‚ŒãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æƒ…å ±
- ç›£æŸ»ãƒ­ã‚°ã¨å±¥æ­´æƒ…å ±
- æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¸ã®ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹

---

## ğŸ“¥ å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|-------------|-----|------|-----------|--------------|------|
| senderId | UUID | Yes | - | UUIDå½¢å¼ã€BC-003 Userå‚ç…§ | é€ä¿¡è€…ID |
| channelType | Enum | Yes | - | direct/channel/group | ãƒãƒ£ãƒãƒ«ã‚¿ã‚¤ãƒ— |
| recipientIds | Array<UUID> | Yes | - | UUIDé…åˆ—ã€1-100ä»¶ | å—ä¿¡è€…IDé…åˆ— |
| channelId | UUID | No | null | UUIDå½¢å¼ï¼ˆchannelæ™‚å¿…é ˆï¼‰ | ãƒãƒ£ãƒãƒ«ID |
| messageContent | Text | Yes | - | 1-10000æ–‡å­— | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ |
| contentType | Enum | No | 'text' | text/markdown/html | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ— |
| attachments | Array | No | [] | æœ€å¤§10ä»¶ã€åˆè¨ˆ100MB | æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«é…åˆ— |
| â”œâ”€ fileName | String | Yes | - | 1-255æ–‡å­— | ãƒ•ã‚¡ã‚¤ãƒ«å |
| â”œâ”€ fileSize | Integer | Yes | - | > 0ã€æœ€å¤§10MB | ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼ˆãƒã‚¤ãƒˆï¼‰ |
| â”œâ”€ mimeType | String | Yes | - | MIMEå½¢å¼ | MIMEã‚¿ã‚¤ãƒ— |
| â””â”€ fileUrl | String | Yes | - | URLå½¢å¼ | ãƒ•ã‚¡ã‚¤ãƒ«URLï¼ˆS3ç­‰ï¼‰ |
| mentions | Array<UUID> | No | [] | UUIDé…åˆ—ã€æœ€å¤§20ä»¶ | ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| priority | Enum | No | 'normal' | normal/high | å„ªå…ˆåº¦ |
| threadId | UUID | No | null | UUIDå½¢å¼ | è¿”ä¿¡ã‚¹ãƒ¬ãƒƒãƒ‰ID |

### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
1. **senderId**: BC-003ã®Userã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒå­˜åœ¨ã€ActiveçŠ¶æ…‹
2. **channelType=direct**: recipientIdså¿…é ˆï¼ˆ1ä»¶ã®ã¿ï¼‰
3. **channelType=channel**: channelIdå¿…é ˆã€recipientIdsã¯ç„¡è¦–
4. **channelType=group**: recipientIdså¿…é ˆï¼ˆ2-100ä»¶ï¼‰
5. **messageContent**: 1-10000æ–‡å­—ã€HTMLã‚¿ã‚°ã‚µãƒ‹ã‚¿ã‚¤ã‚ºï¼ˆcontentType=htmlæ™‚ï¼‰
6. **attachments**: å„ãƒ•ã‚¡ã‚¤ãƒ«æœ€å¤§10MBã€åˆè¨ˆ100MBã€ã‚¦ã‚¤ãƒ«ã‚¹ã‚¹ã‚­ãƒ£ãƒ³æ¸ˆã¿
7. **mentions**: recipientIdså†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿æŒ‡å®šå¯èƒ½
8. **threadId**: æŒ‡å®šæ™‚ã€åŒä¸€channel/groupå†…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚ã‚‹ã“ã¨

## ğŸ“¤ å‡ºåŠ›ä»•æ§˜

### æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹
**HTTP 201 Created**
```json
{
  "messageId": "uuid",
  "senderId": "uuid",
  "channelType": "group",
  "channelId": "uuid",
  "recipientIds": ["uuid1", "uuid2", "uuid3"],
  "messageContent": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—ã‚’å…±æœ‰ã—ã¾ã™",
  "status": "sent",
  "deliveredCount": 3,
  "readCount": 0,
  "sentAt": "2025-11-04T10:00:00Z",
  "attachments": [
    {
      "attachmentId": "uuid",
      "fileName": "progress-report.pdf",
      "fileSize": 2048576,
      "fileUrl": "https://s3.example.com/attachments/uuid"
    }
  ],
  "websocketDelivered": true
}
```

### WebSocketãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…ä¿¡
```json
{
  "event": "message.received",
  "messageId": "uuid",
  "senderId": "uuid",
  "senderName": "å±±ç”°å¤ªéƒ",
  "messageContent": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—ã‚’å…±æœ‰ã—ã¾ã™",
  "channelType": "group",
  "channelId": "uuid",
  "sentAt": "2025-11-04T10:00:00Z",
  "mentions": ["uuid1"],
  "priority": "normal"
}
```

### ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹

#### HTTP 400 Bad Request
- **ERR_BC007_L3001_OP001_001**: senderIdãŒä¸æ­£ï¼ˆUUIDå½¢å¼ã‚¨ãƒ©ãƒ¼ï¼‰
- **ERR_BC007_L3001_OP001_002**: channelTypeãŒä¸æ­£
- **ERR_BC007_L3001_OP001_003**: recipientIdsä»¶æ•°ã‚¨ãƒ©ãƒ¼ï¼ˆchannelTypeåˆ¥åˆ¶ç´„é•åï¼‰
- **ERR_BC007_L3001_OP001_004**: messageContenté•·ã•ã‚¨ãƒ©ãƒ¼ï¼ˆ1-10000æ–‡å­—ï¼‰
- **ERR_BC007_L3001_OP001_005**: æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºè¶…éï¼ˆ10MB/ãƒ•ã‚¡ã‚¤ãƒ«ã€100MB/åˆè¨ˆï¼‰
- **ERR_BC007_L3001_OP001_006**: mentionså¯¾è±¡ãŒå—ä¿¡è€…å¤–
- **ERR_BC007_L3001_OP001_007**: threadIdã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒåˆ¥channel

#### HTTP 403 Forbidden
- **ERR_BC007_L3001_OP001_403_01**: ãƒãƒ£ãƒãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- **ERR_BC007_L3001_OP001_403_02**: å—ä¿¡è€…ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡æ¨©é™ãªã—

#### HTTP 404 Not Found
- **ERR_BC007_L3001_OP001_404_01**: é€ä¿¡è€…ãŒå­˜åœ¨ã—ã¾ã›ã‚“
- **ERR_BC007_L3001_OP001_404_02**: ãƒãƒ£ãƒãƒ«ãŒå­˜åœ¨ã—ã¾ã›ã‚“
- **ERR_BC007_L3001_OP001_404_03**: å—ä¿¡è€…ãŒå­˜åœ¨ã—ã¾ã›ã‚“

#### HTTP 429 Too Many Requests
- **ERR_BC007_L3001_OP001_429**: ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¶…éï¼ˆ100ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸/åˆ†ï¼‰

#### HTTP 500 Internal Server Error
- **ERR_BC007_L3001_OP001_500**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ä¸­ã«ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ï¼ˆãƒ­ã‚°å‚ç…§ï¼‰

## ğŸ› ï¸ å®Ÿè£…ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹

### ä½¿ç”¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### Aggregate
- **Message Aggregate**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
  - å‚ç…§: [../../../../domain/README.md#message-aggregate](../../../../domain/README.md#message-aggregate)
  - é›†ç´„ãƒ«ãƒ¼ãƒˆ: Message
  - åŒ…å«ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: MessageThread, MessageReaction, MessageAttachment

- **Channel Aggregate**: ãƒãƒ£ãƒãƒ«ç®¡ç†
  - å‚ç…§: [../../../../domain/README.md#channel-aggregate](../../../../domain/README.md#channel-aggregate)
  - é›†ç´„ãƒ«ãƒ¼ãƒˆ: Channel
  - åŒ…å«ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: ChannelMember

#### ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰
```typescript
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ
const message = Message.create({
  senderId,
  channelType,
  recipientIds,
  messageContent,
  contentType
});

// æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ 
message.addAttachment(fileName, fileSize, fileUrl);

// ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³è¿½åŠ 
message.addMentions(mentionUserIds);

// é…ä¿¡
await message.deliver(deliveryService);
```

#### ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
- **MessageDeliveryService.deliverMessage()**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ï¼ˆWebSocket + Queueï¼‰
- **MessageDeliveryService.sendToWebSocket()**: WebSocketãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…ä¿¡
- **MessageDeliveryService.queueForOffline()**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å—ä¿¡è€…ã¸ã®ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°
- **MessageSecurityService.sanitizeContent()**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µãƒ‹ã‚¿ã‚¤ã‚º
- **MessageSecurityService.scanAttachments()**: æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒ£ãƒ³

### WebSocketé…ä¿¡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **æ¥ç¶šç®¡ç†**: Redis Pub/Subã€æœ€å¤§10,000æ¥ç¶š/ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
- **é…ä¿¡ä¿è¨¼**: WebSocketå¤±æ•—æ™‚ã¯RabbitMQã¸ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§**: <100msé…ä¿¡ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·

### ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œ
- **é–‹å§‹**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä¿¡æ™‚
- **ã‚³ãƒŸãƒƒãƒˆ**: Messageä½œæˆ + Attachmentä¿å­˜ + WebSocketé…ä¿¡é–‹å§‹å®Œäº†æ™‚
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã€æ¨©é™ã‚¨ãƒ©ãƒ¼ã€æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒ£ãƒ³NGæ™‚

### å‰¯ä½œç”¨
- **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ**:
  - `MessageSent` - å…¨å—ä¿¡è€…ã«é…ä¿¡
  - `MessageMentioned` - ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³å¯¾è±¡ã«é€šçŸ¥ï¼ˆBC-007 NotificationçµŒç”±ï¼‰
- **é€šçŸ¥**:
  - ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³: å³åº§é€šçŸ¥ï¼ˆpriority=highï¼‰
  - é€šå¸¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ãƒãƒ£ãƒãƒ«è³¼èª­è€…ã«é€šçŸ¥
- **å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº**:
  - S3: æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
  - RabbitMQ: éåŒæœŸé…ä¿¡ã‚­ãƒ¥ãƒ¼
  - Redis: WebSocketæ¥ç¶šç®¡ç†

### BCé–“é€£æº
- **BC-003ä¾å­˜**: Userã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å‚ç…§ã€ãƒãƒ£ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™æ¤œè¨¼
- **BC-001å‚ç…§**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ£ãƒãƒ«ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä»˜åŠ ï¼‰
- **BC-007 Notification**: ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³é€šçŸ¥ã€é‡è¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€šçŸ¥

### å®Ÿè£…æ‰‹é †
1. é€ä¿¡è€…å­˜åœ¨ãƒ»æ¨©é™ç¢ºèªï¼ˆBC-003ï¼‰
2. channelTypeåˆ¥ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
3. å—ä¿¡è€…å­˜åœ¨ç¢ºèªï¼ˆrecipientIdsï¼‰
4. ãƒãƒ£ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ç¢ºèªï¼ˆchannelType=channelæ™‚ï¼‰
5. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µãƒ‹ã‚¿ã‚¤ã‚º
6. æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚¦ã‚¤ãƒ«ã‚¹ã‚¹ã‚­ãƒ£ãƒ³
7. Message Aggregateä½œæˆ
8. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–‹å§‹
9. Messageä¿å­˜
10. Attachmentä¿å­˜ï¼ˆS3ï¼‰
11. WebSocketé…ä¿¡ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å—ä¿¡è€…ï¼‰
12. RabbitMQã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³å—ä¿¡è€…ï¼‰
13. MessageSentã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ
14. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒŸãƒƒãƒˆ
15. ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³é€šçŸ¥é…ä¿¡ï¼ˆBC-007 NotificationçµŒç”±ï¼‰

## âš ï¸ ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ—ãƒ­ãƒˆã‚³ãƒ«

### ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§

| ã‚³ãƒ¼ãƒ‰ | HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | èª¬æ˜ | ãƒªãƒˆãƒ©ã‚¤å¯å¦ |
|--------|---------------|------|-------------|
| ERR_BC007_L3001_OP001_001 | 400 | senderIdå½¢å¼ã‚¨ãƒ©ãƒ¼ | No |
| ERR_BC007_L3001_OP001_002 | 400 | channelTypeä¸æ­£ | No |
| ERR_BC007_L3001_OP001_003 | 400 | recipientIdsä»¶æ•°ã‚¨ãƒ©ãƒ¼ | No |
| ERR_BC007_L3001_OP001_004 | 400 | messageContenté•·ã•ã‚¨ãƒ©ãƒ¼ | No |
| ERR_BC007_L3001_OP001_005 | 400 | æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºè¶…é | No |
| ERR_BC007_L3001_OP001_006 | 400 | mentionså¯¾è±¡ã‚¨ãƒ©ãƒ¼ | No |
| ERR_BC007_L3001_OP001_007 | 400 | threadIdä¸æ•´åˆ | No |
| ERR_BC007_L3001_OP001_403_01 | 403 | ãƒãƒ£ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã— | No |
| ERR_BC007_L3001_OP001_403_02 | 403 | é€ä¿¡æ¨©é™ãªã— | No |
| ERR_BC007_L3001_OP001_404_01 | 404 | é€ä¿¡è€…ä¸å­˜åœ¨ | No |
| ERR_BC007_L3001_OP001_404_02 | 404 | ãƒãƒ£ãƒãƒ«ä¸å­˜åœ¨ | No |
| ERR_BC007_L3001_OP001_404_03 | 404 | å—ä¿¡è€…ä¸å­˜åœ¨ | No |
| ERR_BC007_L3001_OP001_429 | 429 | ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¶…é | Yesï¼ˆ1åˆ†å¾Œï¼‰ |
| ERR_BC007_L3001_OP001_500 | 500 | ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ | Yes |

### ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥
- **ãƒªãƒˆãƒ©ã‚¤å¯èƒ½ã‚¨ãƒ©ãƒ¼**: ERR_BC007_L3001_OP001_500ã€ERR_BC007_L3001_OP001_429
- **ãƒªãƒˆãƒ©ã‚¤å›æ•°**: 3å›
- **ãƒãƒƒã‚¯ã‚ªãƒ•**: Exponential (1s, 2s, 4s)ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§é‡è¦–ï¼‰
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ™‚**: 1åˆ†å¾…æ©Ÿå¾Œã«è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤

### WebSocketé…ä¿¡å¤±æ•—æ™‚ã®å‡¦ç†
1. WebSocketæ¥ç¶šæ–­æ¤œå‡º
2. RabbitMQã‚­ãƒ¥ãƒ¼ã¸è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼å†æ¥ç¶šæ™‚ã«æœªé…ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸€æ‹¬é…ä¿¡
4. æœ€å¤§24æ™‚é–“ã‚­ãƒ¥ãƒ¼ã«ä¿æŒ

### ãƒ­ã‚°è¨˜éŒ²è¦ä»¶
- **INFO**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡æˆåŠŸï¼ˆmessageId, senderId, å—ä¿¡è€…æ•°ã€é…ä¿¡æ–¹å¼è¨˜éŒ²ï¼‰
- **WARN**: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ç™ºå‹•ã€WebSocketé…ä¿¡å¤±æ•—ï¼ˆQueueä½¿ç”¨ï¼‰ã€å¤§å®¹é‡æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ5MBè¶…ï¼‰
- **ERROR**: ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ï¼ˆã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã€å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å…¨é‡è¨˜éŒ²ï¼‰
- **ç›£æŸ»ãƒ­ã‚°**: å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ï¼ˆæˆåŠŸ/å¤±æ•—å•ã‚ãšï¼‰ã‚’AuditLogã«è¨˜éŒ²ï¼ˆBC-003çµŒç”±ï¼‰

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
- **é…ä¿¡ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·**: 95ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ« < 100ms
- **WebSocketæˆåŠŸç‡**: > 95%
- **ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ**: 10,000ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸/ç§’
- **æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†**: < 500msï¼ˆã‚¦ã‚¤ãƒ«ã‚¹ã‚¹ã‚­ãƒ£ãƒ³å«ã‚€ï¼‰

---

## ğŸ”— è¨­è¨ˆå‚ç…§

### ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
å‚ç…§: [../../../../domain/README.md](../../../../domain/README.md)

ã“ã®æ“ä½œã«é–¢é€£ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€é›†ç´„ã®è©³ç´°å®šç¾©ã¯ã€ä¸Šè¨˜ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### APIä»•æ§˜
å‚ç…§: [../../../../api/README.md](../../../../api/README.md)

ã“ã®æ“ä½œã‚’å®Ÿç¾ã™ã‚‹APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã€èªè¨¼ãƒ»èªå¯è¦ä»¶ã¯ã€ä¸Šè¨˜APIä»•æ§˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
å‚ç…§: [../../../../data/README.md](../../../../data/README.md)

ã“ã®æ“ä½œãŒæ‰±ã†ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€æ°¸ç¶šåŒ–è¦ä»¶ã€ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§åˆ¶ç´„ã¯ã€ä¸Šè¨˜ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ¬ UseCases: ã“ã®æ“ä½œã‚’å®Ÿè£…ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

| UseCase | èª¬æ˜ | Page | V2ç§»è¡Œå…ƒ |
|---------|------|------|---------|
| (Phase 4ã§ä½œæˆ) | - | - | - |

è©³ç´°: [usecases/](usecases/)

> **æ³¨è¨˜**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯ Phase 4 ã®å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºã§ã€V2æ§‹é€ ã‹ã‚‰æ®µéšçš„ã«ç§»è¡Œãƒ»ä½œæˆã•ã‚Œã¾ã™ã€‚
> 
> **Phase 3 (ç¾åœ¨)**: Operationæ§‹é€ ã¨READMEä½œæˆ
> **Phase 4 (æ¬¡)**: UseCaseå®šç¾©ã¨ãƒšãƒ¼ã‚¸å®šç¾©ã®ç§»è¡Œ
> **Phase 5**: APIå®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰

---

## ğŸ”— V2æ§‹é€ ã¸ã®å‚ç…§

> âš ï¸ **ç§»è¡Œã®ãŠçŸ¥ã‚‰ã›**: ã“ã®æ“ä½œã¯V2æ§‹é€ ã‹ã‚‰ç§»è¡Œä¸­ã§ã™ã€‚
>
> **V2å‚ç…§å…ˆï¼ˆå‚ç…§ã®ã¿ï¼‰**:
> - [services/collaboration-facilitation-service/capabilities/communication-delivery/operations/facilitate-communication/](../../../../../../services/collaboration-facilitation-service/capabilities/communication-delivery/operations/facilitate-communication/)
>
> **ç§»è¡Œæ–¹é‡**:
> - V2ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯èª­ã¿å–ã‚Šå°‚ç”¨ã¨ã—ã¦ä¿æŒ
> - æ–°è¦é–‹ç™ºãƒ»æ›´æ–°ã¯ã™ã¹ã¦V3æ§‹é€ ã§å®Ÿæ–½
> - V2ã¸ã®å¤‰æ›´ã¯ç¦æ­¢ï¼ˆå‚ç…§ã®ã¿è¨±å¯ï¼‰

---

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | æ›´æ–°å†…å®¹ | æ›´æ–°è€… |
|------|---------|--------|
| 2025-10-31 | OP-001 READMEåˆç‰ˆä½œæˆï¼ˆPhase 3ï¼‰ | Migration Script |

---

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 3 - Operationæ§‹é€ ä½œæˆå®Œäº†
**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: UseCaseãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆã¨ç§»è¡Œï¼ˆPhase 4ï¼‰
**ç®¡ç†**: [MIGRATION_STATUS.md](../../../../MIGRATION_STATUS.md)
