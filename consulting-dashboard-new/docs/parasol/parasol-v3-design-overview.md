# パラソルV3設計 - 全体概要

**作成日**: 2025-10-31
**バージョン**: 1.1.0
**対象読者**: 全ての関係者

---

## 📖 このドキュメントについて

このドキュメントは、パラソル開発における**3層デザイン構造**の全体像を説明する入り口ドキュメントです。各層の詳細は、専用のドキュメントを参照してください。

> 🌍 **パラソルワールド**: このドキュメントはパラソルワールド（AI協働開発プラットフォーム）の設計プロセス部分を説明します。
>
> **パラソルワールドの全体像**については、まず [パラソルワールド - 概要](./parasol-world-overview.md) をお読みください。

---

## 🎯 パラソルV3の3層デザイン構造

パラソル開発は、以下の**3つの独立したデザインレイヤー**で構成されます。

```
┌─────────────────────────────────────────────────────────┐
│ Layer 1: パラソル価値デザイン                              │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│
│ ビジネス価値の定義                                        │
│                                                         │
│ 📄 詳細: parasol-v3-layer1-value-design.md             │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│ Layer 2: マイクロサービスデザイン                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│
│ サービス境界とドメインモデル                              │
│                                                         │
│ 📄 詳細: parasol-v3-layer2-microservice-design.md      │
└─────────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│ Layer 3: パラソル開発設計                                 │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│
│ 実装可能な詳細設計                                       │
│                                                         │
│ 📄 詳細: parasol-v3-layer3-development-design.md       │
└─────────────────────────────────────────────────────────┘

🔄 ドメイン言語進化: parasol-v3-domain-language-evolution.md
```

---

## 📐 各層の概要

### Layer 1: パラソル価値デザイン

**焦点**: ビジネス価値の定義

**担当者**:
- 経営層
- 事業部長
- 部門長
- ビジネスアナリスト

**主な成果物**:
- バリューストリーム定義
- バリューステージ定義（スイムレーン）
- ケーパビリティL1定義
- 初期ユビキタス言語

**期間**: 1-2週間

**ドメイン言語の状態**: 5-20%（初期概念のみ）

📄 **詳細ガイド**: [parasol-v3-layer1-value-design.md](./parasol-v3-layer1-value-design.md)

---

### Layer 2: マイクロサービスデザイン

**焦点**: サービス境界とドメインモデル

**担当者**:
- アーキテクト
- ドメインエキスパート
- データアーキテクト
- 部門長

**主な成果物**:
- ケーパビリティL2定義
- バウンデッドコンテキスト（BC）設計
- パラソルドメイン言語（BC単位）
- BC API設計
- BC DB設計
- BC間統合設計

**期間**: 3-4週間

**ドメイン言語の状態**: 60-80%（詳細モデル）

📄 **詳細ガイド**: [parasol-v3-layer2-microservice-design.md](./parasol-v3-layer2-microservice-design.md)

---

### Layer 3: パラソル開発設計

**焦点**: 実装可能な詳細設計

**担当者**:
- 開発リーダー
- エンジニア
- アーキテクト（レビュー）
- ドメインエキスパート（レビュー）

**主な成果物**:
- L3 Capability定義
- Operation定義
- UseCase定義
- Page定義
- API実装仕様
- テスト仕様

**期間**: 4-6週間（BC単位で並行実施可能）

**ドメイン言語の状態**: 95-100%（実装可能レベル）

📄 **詳細ガイド**: [parasol-v3-layer3-development-design.md](./parasol-v3-layer3-development-design.md)

---

## 🔄 パラソルドメイン言語の進化

パラソルドメイン言語は、3つの層を通じて段階的に詳細化されます：

```
Layer 1: 5-20%
├─ 初期ユビキタス言語
├─ ビジネス用語定義
└─ エンティティ候補

↓ 詳細化

Layer 2: 60-80%
├─ エンティティ定義（完全）
├─ 集約定義
├─ ビジネスルール
├─ ドメインイベント
└─ ドメインサービス

↓ 実装準備

Layer 3: 95-100%
├─ バリデーションルール
├─ 状態遷移
├─ エラーパターン
└─ API入出力スキーマ

↓ フィードバック

実装
└─ 実装からのフィードバック
    └─ Layer 2/3への反映
```

📄 **詳細ガイド**: [parasol-v3-domain-language-evolution.md](./parasol-v3-domain-language-evolution.md)

---

## 📊 層間の関係性

### ブレークダウンフロー

```
Layer 1 成果物
├─ バリューストリーム
├─ バリューステージ
└─ ケーパビリティL1
    ↓ Layer 2で分解

Layer 2 成果物
├─ ケーパビリティL2 ← BC抽出の基準
└─ バウンデッドコンテキスト（BC）
    ├─ パラソルドメイン言語
    ├─ API設計
    └─ DB設計
        ↓ Layer 3で分解

Layer 3 成果物
└─ L3 Capability
    └─ Operation
        └─ UseCase
            └─ Page/API
```

### フィードバックフロー

```
実装
↓ 発見・気づき
Layer 3
↓ ドメイン言語修正
Layer 2
↓ 必要に応じて
Layer 1
```

---

## 🚀 開始方法

### 初めてパラソル開発を行う場合

1. **このドキュメント（概要）を読む** ← いまここ
2. **Layer 1ガイドを読む**: [parasol-v3-layer1-value-design.md](./parasol-v3-layer1-value-design.md)
3. **Layer 1のワークショップを実施**
4. **Layer 2ガイドを読む**: [parasol-v3-layer2-microservice-design.md](./parasol-v3-layer2-microservice-design.md)
5. **Layer 2の設計作業を実施**
6. **Layer 3ガイドを読む**: [parasol-v3-layer3-development-design.md](./parasol-v3-layer3-development-design.md)
7. **Layer 3の設計作業を実施**
8. **実装開始**

### 既存プロジェクトで途中から導入する場合

1. **現在の設計がどの層に相当するか確認**
2. **不足している層のガイドを読む**
3. **必要な成果物を補完**

---

## 📅 標準的なタイムライン

```
Week 1-2: Layer 1（パラソル価値デザイン）
├─ バリューストリーム定義
├─ バリューステージ分解
└─ ケーパビリティL1特定

Week 3-6: Layer 2（マイクロサービスデザイン）
├─ ケーパビリティL2特定
├─ BC設計
├─ パラソルドメイン言語定義
└─ BC統合設計

Week 7-12: Layer 3（パラソル開発設計）
├─ L3/Operation設計
├─ UseCase分解
├─ Page/API詳細設計
└─ テスト仕様

Week 13-: 実装
└─ コーディング、テスト、デプロイ

継続: フィードバックと改善
```

---

## 🎓 各層で必要なスキル

### Layer 1
- ビジネス戦略理解
- バリューストリームマッピング
- ケーパビリティベース計画
- ファシリテーション

### Layer 2
- ドメイン駆動設計（DDD）
- マイクロサービスアーキテクチャ
- API設計
- データベース設計
- エンタープライズ統合パターン

### Layer 3
- ソフトウェア設計
- ユースケース駆動開発
- UI/UX設計
- API実装
- テスト設計

---

## 📚 関連ドキュメント

### 詳細ガイド
- [Layer 1: パラソル価値デザイン](./parasol-v3-layer1-value-design.md)
- [Layer 2: マイクロサービスデザイン](./parasol-v3-layer2-microservice-design.md)
- [Layer 3: パラソル開発設計](./parasol-v3-layer3-development-design.md)
- [ドメイン言語進化ガイド](./parasol-v3-domain-language-evolution.md)
- [サブドメイン・BC・マイクロサービスの整合性ガイド](./parasol-v3-subdomain-bc-ms-alignment.md)

### 既存ドキュメント
- [パラソル開発ガイド](./PARASOL_DEVELOPMENT_GUIDE.md)
- [パラソル設計プロセスガイド](./parasol-design-process-guide.md)
- [パラソルドメイン言語仕様](../design/parasol/specifications/domain-language-spec.md)

---

## ❓ よくある質問

### Q1: 3つの層を必ず順番に実施する必要がありますか？

**A**: 原則として順番に実施することを推奨します。各層が次の層の基盤となるためです。ただし、小規模プロジェクトや時間制約がある場合は、Layer 1を簡略化して進めることも可能です。

### Q2: 既にマイクロサービスを実装している場合はどうすればよいですか？

**A**: 既存の実装を分析し、Layer 2のBC設計に逆マッピングすることをお勧めします。その後、不足しているLayer 1（ビジネス価値）を補完してください。

### Q3: ドメイン言語は各層で別々に作成するのですか？

**A**: いいえ。ドメイン言語は1つですが、各層を通じて段階的に詳細化されます。Layer 1で概念を定義し、Layer 2で詳細化し、Layer 3で実装可能なレベルまで完成させます。

### Q4: Layer 2とLayer 3の境界が曖昧です。どう区別すればよいですか？

**A**:
- **Layer 2**: BC境界の確定、ドメインモデルの定義（実装非依存）
- **Layer 3**: BC内の具体的な操作、UseCaseへの分解（実装に向けた詳細化）

簡単に言うと、Layer 2は「何を作るか（What）」、Layer 3は「どう作るか（How）」です。

### Q5: 小規模プロジェクトでも3層すべて必要ですか？

**A**: 規模に応じて調整可能です。しかし、最低限でも：
- Layer 1: ビジネス価値の明確化（簡略化可能）
- Layer 2: ドメインモデルの定義（必須）
- Layer 3: 実装設計（必須）

は行うことを推奨します。

---

## 📝 改訂履歴

| バージョン | 日付 | 変更内容 |
|-----------|------|---------|
| 1.0.0 | 2025-10-31 | 初版作成 |

---

**次のステップ**:
- 新規プロジェクト: [Layer 1ガイド](./parasol-v3-layer1-value-design.md)を読む
- 既存プロジェクト: 現在の状態を確認し、該当するLayerのガイドを読む
