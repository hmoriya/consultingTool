# ページ定義: チーム連携活性化ページ（メッセージ作成）

## 画面の目的
チームメンバー間の知見共有と専門知識の流通を促進し、新しいメッセージを作成してチーム連携を活性化することで、組織の創造性と生産性を最大化する

## 利用者
- **チャネルメンバー**: 知見・アイデアを投稿する主要な利用者
- **専門家・エキスパート**: 専門知識を共有し、他メンバーの質問に回答
- **プロジェクトメンバー**: プロジェクト関連情報を共有・議論

## 画面構成

### ヘッダー部
- チャネル名表示（投稿先チャネルの明確化）
- アクティブメンバー数表示（リアルタイム参加状況）
- 下書き保存状況インジケーター
- メッセージテンプレート選択ボタン

### メインコンテンツ部
- **メッセージ作成エリア**: 知見・アイデア入力の中核機能
  - テキスト入力フィールド（マークダウン対応）
  - リッチテキストエディター（書式設定、リスト、リンク）
  - ライブプレビュー機能（入力内容のリアルタイム表示）
  - 文字数カウンター（制限: 10,000文字）
- **専門知識共有支援エリア**: 知識流通を促進する機能
  - 知識タグ入力（専門分野、スキル、プロジェクトタグ）
  - 関連知識提案（過去の関連投稿・ナレッジベース連携）
  - 専門用語辞書連携（用語説明の自動提案）
- **コラボレーション機能エリア**: チーム連携を強化する機能
  - メンション機能（@ユーザー名での呼び出し）
  - チーム・グループメンション（@team, @project）
  - メンション候補の自動表示（スキル・専門分野ベース）
  - スレッド返信設定（既存メッセージへの返信設定）

### サイドバー部
- **チーム専門知識マップ**: メンバーのスキル・専門分野表示
  - メンバー一覧（専門分野・スキルタグ付き）
  - オンライン状況とレスポンス予想時間
  - 過去の貢献度・専門性指標
- **関連リソース**: 知識共有を支援する情報
  - 関連プロジェクト・タスク一覧
  - 過去の議論スレッド（キーワード関連）
  - ナレッジベース関連記事

### フッター部
- ファイル添付エリア（ドラッグ&ドロップ対応）
- 送信予約設定（時間指定投稿）
- 下書き保存ボタン
- 送信前プレビューボタン

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| チーム専門知識 | タグ・アイコン表示 | ○ | メンバーのスキル・専門分野 |
| 関連知識提案 | カード形式 | × | 入力内容に関連する過去の知識 |
| メンション候補 | ドロップダウンリスト | × | 専門分野ベースの推奨メンション |
| 活用可能リソース | リンクリスト | × | 関連プロジェクト・ドキュメント |
| 入力支援情報 | ツールチップ | × | 効果的な知見共有のヒント |
| 下書き履歴 | タイムスタンプ付きリスト | × | 過去24時間の下書き |

### データの更新頻度
- **チーム専門知識**: メンバー情報変更時（即座更新）
- **関連知識提案**: 入力内容変更時（3秒遅延で更新）
- **メンション候補**: @入力時（即座表示）
- **活用可能リソース**: チャネル変更時（即座更新）

## 入力項目

### フォーム一覧
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| メッセージ本文 | テキストエリア | ○ | 1-10,000文字 | 知見・アイデアの主要内容 |
| 知識タグ | タグ入力 | × | 最大10個 | 専門分野・スキル・プロジェクトタグ |
| メンション | @入力 | × | 最大20人 | 専門家・関係者への呼びかけ |
| ファイル添付 | ファイル選択 | × | 最大100MB | 資料・図表・参考ファイル |
| 投稿先チャネル | ドロップダウン | ○ | アクセス権限確認 | メッセージの投稿先 |
| 知見レベル | ラジオボタン | × | 5段階評価 | 共有知識の専門度・重要度 |

## アクション・操作

### 主要アクション
- **知見・アイデア投稿**: メッセージをチャネルに投稿し、チーム知識を拡充
- **専門知識共有**: 専門分野の知識を体系的に共有し、組織能力を向上
- **コラボレーション促進**: メンション・スレッドを活用した議論の活性化

### 副次アクション
- **下書き保存**: 作成中内容の一時保存（24時間保持）
- **テンプレート適用**: 知識共有・議論・報告等の定型フォーマット適用
- **関連知識参照**: 過去の類似投稿・ナレッジベース記事の確認
- **専門家呼び出し**: スキルベースでの適切な専門家メンション

## 画面の振る舞い

### ユーザー操作への反応
- **テキスト入力**時:
  - ライブプレビューの即座更新
  - 関連知識・メンション候補の自動表示
  - 入力支援ヒントの文脈的表示
- **@入力**時:
  - 専門分野・スキルベースでのメンション候補表示
  - 各候補者の専門分野・レスポンス予想時間表示
- **知識タグ入力**時:
  - 関連プロジェクト・過去投稿の自動推奨
  - タグベースでの関連リソース表示更新

### 条件による表示変更
- **専門知識投稿モード**: より詳細な構造化入力フィールド表示
- **議論・質問モード**: 関連する過去の議論スレッド表示
- **緊急・重要情報**: 優先度設定とアラート配信オプション表示
- **クロスファンクション投稿**: 複数チーム・プロジェクトへの横断投稿設定

## 画面遷移

### 遷移元画面
- チャネル一覧ページ: 新規投稿ボタンクリック時
- メッセージ表示ページ: 返信・新規投稿ボタンクリック時
- ナレッジベースページ: 「チームで議論」ボタンクリック時
- プロジェクトページ: 知見共有ボタンクリック時

### 遷移先画面
- メッセージ送信確認ページ: 送信ボタンクリック時
- チャネル表示ページ: キャンセル時
- 下書き一覧ページ: 下書き保存時
- プレビューページ: プレビューボタンクリック時

## エラーハンドリング
- **知識タグエラー**: 無効・重複タグの警告と修正提案
- **メンション権限エラー**: アクセス不可メンバーへの説明と代替提案
- **ファイル添付エラー**: 容量・形式制限の説明と最適化提案
- **チャネル権限エラー**: 投稿権限不足の説明と権限申請方法提示
- **ネットワークエラー**: 下書き自動保存とオフライン継続編集機能

## アクセシビリティ要件
- メッセージ作成のキーボードショートカット対応（Ctrl+Enter: 送信）
- スクリーンリーダーでの入力支援機能読み上げ対応
- 知識タグ・メンション候補の音声ナビゲーション
- 色覚障害への配慮（専門分野タグの形状・パターン区別）

## レスポンシブ対応
- **デスクトップ**: 3カラムレイアウト（作成・専門知識・リソース）
- **タブレット**: 2カラムレイアウト（作成メイン・サイドバー折りたたみ式）
- **モバイル**: シングルカラム（専門知識・リソースはタブ切り替え式）

## パフォーマンス要件
- **初期表示**: 500ms以内
- **関連知識検索**: 1秒以内
- **メンション候補表示**: 200ms以内
- **下書き自動保存**: 10秒間隔での自動実行

## 知識共有促進機能

### 専門知識流通支援
- **エキスパート識別**: 投稿内容からの専門分野自動判定
- **知識ギャップ発見**: チーム内の知識偏在の可視化
- **学習機会創出**: 専門知識共有を通じたチーム成長促進

### チーム連携強化
- **クロスファンクショナル連携**: 異なる専門分野間の知識交流
- **プロジェクト横断知見**: 複数プロジェクトでの知識活用
- **継続的学習文化**: 知識共有を通じた組織学習促進

---
*このページ定義は新仕様v2.0のユースケース・ページ分解指向設計およびパラソルドメイン言語連携に基づいています*