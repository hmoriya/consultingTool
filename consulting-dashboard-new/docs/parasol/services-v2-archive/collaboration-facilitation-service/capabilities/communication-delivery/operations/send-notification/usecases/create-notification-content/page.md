# ページ定義: 通知コンテンツ作成ページ

**ページID**: PAGE-NOTIFY-01
**バージョン**: 2.0.0
**更新日**: 2025-10-10
**対応ユースケース**: UC-NOTIFY-01（通知コンテンツを作成する）
**設計方針**: 直感的コンテンツ作成 + リアルタイムプレビュー + 効率的配信設定

## 🎯 画面の目的
通知作成者が効果的な通知メッセージを作成し、配信準備を完了するための包括的な作成環境を提供する。テンプレート活用とリアルタイムプレビューにより、高品質な通知コンテンツの効率的な作成を実現する。

## 👥 利用者
- **主要利用者**: システム管理者、通知作成者
  - 通知コンテンツの作成・編集・配信設定
  - テンプレート活用・カスタマイズ
  - 品質検証・承認要求の実行

- **副次利用者**: 承認者（重要通知の場合）
  - 通知内容のレビュー・承認
  - 配信設定の確認・調整

## 🖥️ 画面構成

### ヘッダー部
- **通知作成ステータス** - 作成進捗・保存状況・品質検証状況
- **作成支援ナビ** - 手順ガイド・ヘルプ・ベストプラクティス
- **プレビューモード切替** - デスクトップ・モバイル・メール形式の表示切替
- **保存・公開状況** - 下書き保存・公開準備・承認ステータス

### メインコンテンツ部

#### 📝 コンテンツ作成セクション
- **通知基本情報** - タイトル・カテゴリ・緊急度・重要度の設定
- **メッセージ本文** - リッチテキストエディタ・マークダウン対応・文字数カウンタ
- **添付コンテンツ** - 画像・ファイル・リンク・動画の追加・管理
- **表示形式設定** - レイアウト・フォント・色・強調表示の調整
- **多言語対応** - 日本語・英語・中国語での同時作成・翻訳支援

#### 🎯 配信設定セクション
- **対象者設定** - 個別選択・グループ選択・全体配信・条件フィルタ
- **配信タイミング** - 即時配信・予約配信・条件トリガー・繰り返し設定
- **配信チャネル** - メール・アプリ通知・SMS・Webプッシュ・チャット
- **優先度設定** - 通常・重要・緊急・メンテナンス情報の分類
- **配信制御** - 配信上限・頻度制限・重複除外・オプトアウト対応

#### 🔍 プレビュー・検証セクション
- **リアルタイムプレビュー** - 各デバイス・チャネル別の表示確認
- **品質検証結果** - 文字数・形式・リンク・画像・セキュリティチェック
- **配信影響分析** - 対象者数・配信コスト・予想反応率・類似通知との重複
- **A/Bテスト設定** - 複数バージョン作成・配信比率・効果測定設定
- **送信前確認** - 最終チェックリスト・承認要求・配信実行ボタン

### サイドバー部
- **テンプレートライブラリ** - カテゴリ別テンプレート・人気テンプレート・最近使用
- **過去通知履歴** - 成功事例・効果的文面・再利用可能コンテンツ
- **配信統計情報** - リアルタイム配信状況・開封率・クリック率
- **作成支援ツール** - 文章校正・読みやすさ分析・キーワード提案

### フッター部
- **下書き保存** - 自動保存・手動保存・バージョン管理
- **品質チェック実行** - 一括検証・問題検出・修正提案
- **承認申請** - 承認者選択・申請理由・期限設定
- **配信実行** - 最終確認・配信開始・配信状況監視

## 📊 データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 作成進捗状況 | プログレスバー | ○ | コンテンツ・設定・検証の完了率 |
| プレビュー表示 | マルチデバイス | ○ | 実際の受信者視点での表示確認 |
| 対象者統計 | 数値・グラフ | ○ | 配信対象数・セグメント分布 |
| 品質スコア | スコア表示 | ○ | 文章品質・効果予測・改善提案 |
| 配信コスト予測 | 金額表示 | × | SMS・外部サービス利用コスト |

### データの更新頻度
- **プレビュー**: 入力変更時にリアルタイム更新
- **品質検証**: コンテンツ変更後5秒で自動実行
- **対象者統計**: フィルタ変更時に即座更新

## 📝 入力項目

### フォーム一覧
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 通知タイトル | テキスト | ○ | 1-100文字 | 通知の件名・見出し |
| メッセージ本文 | リッチテキスト | ○ | 1-2000文字 | 通知の主要内容 |
| 配信対象者 | 複数選択 | ○ | 1名以上選択 | 通知を受信する対象者 |
| 配信日時 | 日時選択 | × | 現在時刻以降 | 予約配信の場合の配信タイミング |
| 緊急度 | 選択 | ○ | 通常/重要/緊急 | 通知の優先度・表示方法 |

## 🎛️ アクション・操作

### 主要アクション
- **テンプレート選択** - カテゴリ別・目的別テンプレートの選択・適用
- **コンテンツ作成** - リッチテキスト編集・添付ファイル追加・レイアウト調整
- **プレビュー表示** - マルチデバイス・マルチチャネルでの表示確認
- **品質検証実行** - 自動品質チェック・改善提案・問題修正
- **配信設定** - 対象者・タイミング・チャネルの詳細設定

### 副次アクション
- **下書き保存** - 作成途中での内容保存・復元
- **テンプレート保存** - 作成内容をテンプレートとして保存
- **承認申請** - 重要通知の上位者承認申請
- **A/Bテスト設定** - 複数バージョンの効果測定設定

## 📱 画面の振る舞い

### ユーザー操作への反応
- **テキスト入力時**: リアルタイムプレビュー更新・文字数カウント・品質スコア更新
- **対象者選択時**: 影響範囲表示・配信コスト更新・類似通知の重複警告
- **配信設定変更時**: プレビュー形式更新・配信影響再計算・制約事項の表示
- **品質チェック実行時**: 段階的検証結果表示・問題箇所のハイライト・修正提案

### 条件による表示変更
- **緊急通知選択時**: 優先度UI強調・承認フロー簡略化・即時配信推奨表示
- **大量配信時**: 配信影響警告・段階配信提案・負荷分散オプション表示
- **品質問題検出時**: 問題箇所ハイライト・修正ガイダンス・代替案提示
- **承認要求時**: 承認者選択・申請理由入力・期限設定フォーム表示

## 🚪 画面遷移

### 遷移元画面
- **通知管理ダッシュボード**: 新規通知作成のためのアクセス
- **通知履歴**: 過去通知の編集・再利用のためのアクセス

### 遷移先画面
- **配信実行ページ**: 作成完了後の配信実行・監視
- **承認待ちページ**: 承認申請後の承認状況確認
- **配信履歴ページ**: 配信完了後の結果確認・効果分析

## ⚠️ エラーハンドリング
- **品質検証エラー**: 問題箇所の詳細表示・修正手順・代替案の提示
- **配信設定エラー**: 設定不備の具体的説明・推奨設定・制約事項の案内
- **権限エラー**: 必要権限の説明・申請手順・代理作成者の提案
- **保存エラー**: データ復旧手順・手動バックアップ・サポート連絡先の表示

## ♿ アクセシビリティ要件
- **キーボードナビゲーション**: Tab順序・ショートカットキー・フォーカス表示
- **スクリーンリーダー**: 適切なラベル・状態説明・操作ガイダンス
- **色覚対応**: 色以外の区別方法・パターン・形状での状態表現
- **文字サイズ**: 拡大表示対応・高コントラスト・読みやすさ配慮

## 📱 レスポンシブ対応
- **デスクトップ**: 全機能・複数パネル・詳細プレビュー
- **タブレット**: 主要機能・タッチ操作・簡易プレビュー
- **モバイル**: 基本作成・文字入力・必要最小限の設定

## 🔗 システム連携

### API連携
- **POST /api/notifications/content** - 通知コンテンツ作成保存
- **PUT /api/notifications/content/{id}** - 通知コンテンツ更新
- **POST /api/notifications/validate** - 品質検証実行
- **POST /api/notifications/preview** - プレビュー生成

### 他サービス連携
- **secure-access-service**: 権限確認・承認フロー・ユーザー情報取得
- **knowledge-co-creation-service**: テンプレート提供・ベストプラクティス
- **collaboration-facilitation-service**: チーム通知・会議連携・プロジェクト通知

---
*このページ定義は、効果的な組織コミュニケーションと生産性向上を実現するパラソルv2.0設計指針に基づいています*
