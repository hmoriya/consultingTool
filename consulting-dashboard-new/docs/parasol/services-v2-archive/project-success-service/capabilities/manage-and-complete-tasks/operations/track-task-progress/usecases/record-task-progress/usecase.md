# ユースケース: タスク進捗を記録する

## 基本情報
- **ユースケースID**: UC-PROGRESS-01
- **アクター**: コンサルタント、PM、チームメンバー
- **概要**: プロジェクトタスクの実行状況・進捗率・実績工数・課題を正確に記録し、プロジェクト状況を可視化する

## 事前条件
- タスクが定義され割り当てられている（Task.status = "assigned"）
- 進捗記録権限が確認されている
- タスク実行が開始されている（Task.status ≥ "in_progress"）
- 必要な作業環境が整っている
- 進捗記録ツールが利用可能である

## 事後条件
### 成功時
- タスク進捗が正確に記録されている（TaskProgress.status = "recorded"）
- 進捗データが最新化されている（Task.progressRate = current）
- プロジェクト全体進捗が更新されている
- 関係者への進捗通知が配信されている
- 進捗ダッシュボードが最新情報を反映している

### 失敗時
- 進捗記録失敗の詳細がログに記録されている
- 未記録データが一時保存されている
- 記録失敗理由が担当者に通知されている
- 再記録のガイダンスが提供されている

## 基本フロー
1. **担当者が進捗記録を開始する**
   - タスク実行状況の確認・進捗率の算定
   - 実績工数の集計・課題・リスクの特定

2. **システムが進捗記録環境を提供する**
   - → UC-AUTH-02: 進捗記録権限を検証する
   - 進捗記録フォームの表示・過去記録の参照
   - 自動算定機能の提供

3. **担当者が詳細進捗データを入力する**
   - 作業完了率の入力・実績工数の記録
   - 課題・遅延要因の記録・次回計画の更新

4. **システムが進捗データを検証・処理する**
   - 入力データの妥当性確認・プロジェクト全体への影響計算
   - 進捗トレンドの分析・アラート条件の確認

5. **システムが進捗更新と通知を完了する**
   - 進捗データの保存・プロジェクト進捗の再計算
   - → UC-NOTIFY-01: 進捗更新通知を配信する
   - → UC-AUTH-03: 進捗記録ログを記録する

## 代替フロー
### 代替フロー1: 一括進捗更新
- 3a. 複数タスクの進捗を一括更新する場合
  - 3a1. 一括更新対象タスクの選択・一括入力フォームの利用
  - 3a2. 共通進捗情報の入力・個別調整事項の記録
  - 3a3. 基本フロー4（進捗データ検証）に進む

### 代替フロー2: 自動進捗検出
- 3b. システム統合により自動的に進捗が検出される場合
  - 3b1. 自動検出データの確認・補正が必要な項目の特定
  - 3b2. 手動補正・追加情報の入力
  - 3b3. 基本フロー4に戻る

## 例外フロー
### 例外1: 進捗データ不整合
- *a. 入力された進捗データに不整合がある場合
  - *a1. → UC-AUTH-03: データ不整合ログを記録する
  - *a2. 不整合箇所の特定・修正支援機能の提供
  - *a3. データ修正完了後、基本フロー4に復帰

### 例外2: 大幅遅延検出
- *b. 進捗記録により大幅な遅延が検出された場合
  - *b1. 遅延アラートの発生・影響分析の実行
  - *b2. PM・ステークホルダーへの緊急通知
  - *b3. 対策検討支援・進捗記録の継続
  - *b4. 基本フロー5に進む

### 例外3: システム障害
- *c. 進捗記録システムに障害が発生した場合
  - *c1. オフライン記録モードへの切替・一時記録の実行
  - *c2. システム復旧後の自動同期・データ整合性確認
  - *c3. 復旧完了後、基本フロー4に復帰

## 特別要件
- **性能**: 進捗記録保存1秒以内、全体進捗計算5秒以内
- **可用性**: 進捗記録システム稼働率99.9%以上
- **セキュリティ**: 進捗データ暗号化、アクセス権限制御、変更履歴保存
- **精度**: 進捗計算精度99%以上、データ整合性100%
- **ユーザビリティ**: 直感的な入力インターフェース、モバイル対応

## 関連ユースケース
- **包含**: UC-AUTH-02（権限検証）、UC-AUTH-03（ログ記録）、UC-NOTIFY-01（通知配信）
- **前提**: タスク定義・アサイン完了必須
- **後続**: 進捗分析、リスク評価、リソース再配分

---
*このユースケースは パラソル設計v2.0仕様 に基づいて作成されました*
