# ユースケース: 包括的プロジェクト計画を策定する

**ユースケースID**: UC-LAUNCH-02
**バージョン**: 2.0.0
**更新日**: 2025-10-10
**設計方針**: パラソルv2.0仕様 + DX最適化プランニング

## 📋 基本情報
- **主アクター**: PM（プロジェクトマネージャー）
- **副アクター**: システム（スケジュール最適化AI）、コンサルタント（計画レビュー）
- **概要**: 承認された提案書を基に、実行可能で最適化された包括的プロジェクト計画を策定する

## 🎯 事前条件
- UC1（プロジェクト提案書作成）が完了し、Project.status="Proposal"
- 提案書品質スコアが80点以上を達成
- クライアント・ステークホルダー情報が整備済み
- 組織リソース状況・スキル情報が最新化されている

## ✅ 事後条件

### 成功時
- Project エンティティが詳細更新され、status="Planning"
- Milestone エンティティが複数作成（3-7個の戦略的マイルストーン）
- 計画精度が目標基準（予算・スケジュール誤差10%以内）を達成
- UC3（最適なプロジェクトチーム編成）の実行準備完了

### 失敗時
- Project は Proposal 状態を維持
- 計画修正要求が生成（制約・リスク・実現性の問題）
- 代替計画案の検討が必要

## 🔄 基本フロー

1. **PMがプロジェクト計画策定を開始する**
   - UC1で作成された提案書内容の確認
   - 計画策定フォームへのアクセス・基本情報自動入力

2. **システムがリソース制約を分析する**
   - 内部処理: ProjectPlanningCoordinator.coordinateResourceAllocation()
   - 組織内リソース状況・スキル可用性の分析
   - 外部パートナー要求・調達可能性の評価

3. **PMが詳細スケジュールを設定する**
   - フェーズ分割・マイルストーン定義
   - タスク分解・依存関係設定
   - クリティカルパス分析・バッファ設定

4. **システムがスケジュール最適化を実行する**
   - 内部処理: ProjectPlanningCoordinator.optimizeScheduleConstraints()
   - AI によるスケジュール最適化・リスク評価
   - リソース平準化・効率性最大化

5. **PMが予算詳細を計画する**
   - 人件費・外注費・設備費の詳細見積もり
   - フェーズ別予算配分・予備費設定
   - ROI・回収期間の精緻化

6. **システムが計画実現性を検証する**
   - 内部処理: ProjectPlanningCoordinator.validateTechnicalFeasibility()
   - 技術的制約・組織制約の総合評価
   - リスク軽減策の自動提案

7. **PMが計画を最終調整・確定する**
   - AI推奨事項の確認・採用判断
   - ステークホルダー要求との整合性確認
   - Project・Milestone エンティティの詳細更新

## 🔀 代替フロー

### 代替フロー1: リソース制約による計画調整
- **分岐点**: 基本フロー ステップ4
- **条件**: 必要リソースが組織内で確保困難
- **代替処理**:
  1. システムが代替リソース調達案を提示
  2. PMが外部パートナー・期間延長・スコープ調整を検討
  3. 調整された計画で基本フロー ステップ5に進む

### 代替フロー2: クライアント制約による計画修正
- **分岐点**: 基本フロー ステップ3
- **条件**: クライアントから期限・予算制約の追加要求
- **代替処理**:
  1. PMがクライアント制約を分析・影響評価
  2. スコープ調整・優先度変更・段階実行の検討
  3. 修正された計画で基本フロー ステップ4に進む

## ⚠️ 例外フロー

### 例外1: 技術的実現困難
- **発生点**: 基本フロー ステップ6
- **条件**: 技術的制約により計画実現が困難
- **処理**:
  1. システムが技術的課題・代替手法を特定
  2. 技術検証・概念実証の追加計画を提示
  3. UC1（提案書修正）への戻りまたは計画中止

### 例外2: 予算制約超過
- **発生点**: 基本フロー ステップ5
- **条件**: 詳細見積もりが承認予算を大幅超過
- **処理**:
  1. システムがコスト削減案・スコープ調整案を提示
  2. 段階実行・MVP（最小実行可能プロダクト）アプローチの検討
  3. 予算再申請または計画見直し

## 🏗️ パラソルドメイン連携

### 操作エンティティ
- **Project**: 詳細更新（status="Planning", 詳細予算, 詳細期間, technicalRequirements）
- **Milestone**: 複数作成（name, targetDate, deliverables, successCriteria）
- **ProjectPhase**: フェーズ定義（phases, dependencies, riskMitigation）

### 集約操作
- **ProjectAggregate**: 計画情報の統合・整合性検証
- **不変条件確認**: 予算制約、期間制約、リソース制約の総合確認

### ドメインサービス利用
- **ProjectPlanningCoordinator**:
  - `coordinateResourceAllocation()`: リソース配分調整
  - `optimizeScheduleConstraints()`: スケジュール制約最適化
  - `validateTechnicalFeasibility()`: 技術実現性検証
- **ProjectSuccessCoordinator**:
  - `establishSuccessTrajectory()`: 成功軌道の詳細確立

## 🔗 他サービス連携（ユースケース利用型）

### 必須連携
- **[talent-optimization-service]**:
  - `UC-RESOURCE-01: 最適なチームを編成する` → リソース要求分析
  - `UC-SKILL-01: スキルマッチングを実行する` → 必要スキル詳細化
- **[knowledge-co-creation-service]**:
  - `UC-PRACTICE-01: ベストプラクティスを適用する` → 計画最適化事例

### オプション連携
- **[collaboration-facilitation-service]**:
  - `UC-NOTIFY-01: プロジェクト通知を配信する` → 計画更新通知
- **[revenue-optimization-service]**:
  - `UC-BUDGET-01: 予算を最適化する` → 予算配分最適化

## 📊 成功指標・KPI
- **計画精度**: 予算・スケジュール誤差10%以内（目標: 5%以内）
- **計画策定時間**: 平均4時間以内（AI最適化により40%短縮）
- **マイルストーン達成率**: 90%以上（計画品質の指標）
- **リソース利用効率**: 85%以上（最適化効果の測定）

## 📝 特別要件

### パフォーマンス要件
- スケジュール最適化: 2分以内
- リソース分析: 30秒以内
- 計画保存: 5秒以内

### セキュリティ要件
- 計画情報の機密性保護
- 変更履歴の完全追跡
- アクセス権限の詳細制御

### 品質要件
- 計画の整合性自動検証
- リスク評価の定量化
- ベストプラクティス適用

## 🔄 関連ユースケース
- **前提**: UC1（プロジェクト提案書作成）の正常完了
- **後続**: UC3（最適なプロジェクトチーム編成）への遷移
- **代替**: UC2-Alt（プロジェクト計画修正・再策定）
- **例外**: UC1（提案書見直し）への戻り

---
*このユースケースは、AI支援による計画最適化とパラソルv2.0設計指針に基づいています*