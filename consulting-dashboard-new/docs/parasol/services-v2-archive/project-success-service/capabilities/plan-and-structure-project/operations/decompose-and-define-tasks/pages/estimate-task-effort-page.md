# ページ定義: 工数見積もり画面

## 画面の目的
定義されたタスクに対する工数・期間・リソース要件を正確に見積もり、実行可能で現実的なプロジェクト計画・スケジュール・予算の基盤を構築する

## 利用者
- **プロジェクトマネージャー**: 全体工数見積もり・予算計画・リソース計画・スケジュール調整
- **上級コンサルタント**: 専門領域の詳細見積もり・技術的複雑性評価・品質要件設定
- **チームリーダー**: 担当領域の工数見積もり・チーム能力評価・実行可能性検証
- **見積もり専門家**: 見積もり手法適用・精度向上・リスク評価・ベンチマーク比較

## 画面構成

### ヘッダー部
- 対象プロジェクトの基本情報（名称・規模・複雑度・制約条件）
- 見積もり進捗状況・完了率・精度レベル・信頼度・検証状況
- 見積もり手法・基準・前提条件・制約事項・品質目標
- 重要な警告・リスク・不確実性・確認事項・承認状況

### タスク構造表示部
- **WBS階層表示**:
  - プロジェクト全体の作業分解構造・階層・分類
  - 各タスクの詳細・複雑度・依存関係・制約条件
  - フェーズ・ワークパッケージ・アクティビティの分類
- **見積もり対象選択**:
  - 見積もり対象タスクの選択・絞り込み・優先度設定
  - 複雑度・リスク・重要度による分類・条件指定
  - 類似タスク・過去実績・ベンチマークとの比較参照

### 見積もり手法選択部
- **基本手法**:
  - ボトムアップ・トップダウン・類推・パラメトリック見積もり
  - 3点見積もり（楽観・悲観・最頻値）・PERT法
  - 機能ポイント・ストーリーポイント・時間ベース見積もり
- **詳細手法**:
  - 専門知識ベース・経験則・業界標準・ツール支援
  - モンテカルロシミュレーション・リスク調整・感度分析
  - 段階的詳細化・ローリングウェーブ・アジャイル見積もり

### 工数見積もり入力部
- **基本見積もり**:
  - 工数（人時・人日・人月）・期間・開始/終了日
  - 必要スキル・経験レベル・専門性・認定資格
  - 作業場所・設備・ツール・環境・インフラ要件
- **詳細見積もり**:
  - 設計・実装・テスト・レビュー・ドキュメント作成
  - 準備・学習・調査・調整・承認・手戻り時間
  - 移動・会議・報告・コミュニケーション・管理時間

### リスク・不確実性評価部
- **見積もりリスク**:
  - 技術的リスク・要件変更・スコープクリープ・品質問題
  - リソース可用性・スキル不足・経験不足・学習曲線
  - 外部依存・調達・承認・環境・インフラ・ツール制約
- **不確実性管理**:
  - 見積もり精度・信頼区間・変動範囲・感度分析
  - シナリオ分析・what-if分析・モンテカルロ分析
  - 段階的詳細化・適応的計画・継続的改善・学習反映

### 見積もり検証・調整部
- **妥当性検証**:
  - 過去実績・ベンチマーク・業界標準との比較検証
  - 専門家レビュー・チームレビュー・ステークホルダー確認
  - 独立見積もり・クロスチェック・三角測量・感度分析
- **調整・最適化**:
  - リソース制約・予算制約・スケジュール制約に基づく調整
  - 品質・スコープ・コスト・時間のトレードオフ検討
  - リスクバッファ・コンティンジェンシー・予備費設定

### 集計・分析結果表示部
- **工数集計**:
  - タスク別・フェーズ別・スキル別・リソース別集計
  - 総工数・総期間・クリティカルパス・リソース負荷
  - コスト積算・予算配分・収益性・ROI分析
- **分析・可視化**:
  - 工数分布・リスク分析・感度分析・シナリオ比較
  - ガントチャート・リソースヒストグラム・負荷平準化
  - ダッシュボード・KPI・メトリクス・トレンド分析

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| タスク詳細情報 | 階層ツリー表示 | ○ | WBS・複雑度・依存関係 |
| 見積もり値 | 表形式・グラフ表示 | ○ | 工数・期間・コスト |
| リスク評価 | リスクマトリクス表示 | ○ | 確率・影響度・対策 |
| 妥当性検証結果 | 比較分析表示 | ○ | 過去実績・ベンチマーク |
| 集計・分析結果 | ダッシュボード表示 | ○ | 総工数・コスト・期間 |
| 調整履歴 | タイムライン表示 | × | 見積もり変更履歴 |

### データの更新頻度
- **見積もり値**: 入力時にリアルタイム更新・再計算
- **集計結果**: 見積もり変更時に自動再集計・更新
- **リスク評価**: 週次レビューで評価・調整・更新

## 入力項目

### 基本見積もり情報
| 入力項目 | Parasol型 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|----------|---------|------|---------------|------|
| 見積もり工数 | DECIMAL | 数値入力 | ○ | 0より大きい数値 | 人時・人日・人月 |
| 見積もり期間 | DECIMAL | 数値入力 | ○ | 0より大きい数値 | 作業期間（日・週・月） |
| 必要スキルレベル | STRING_50 | 単一選択 | ○ | 初級・中級・上級・専門家 | 要求スキルレベル |
| 複雑度 | STRING_50 | 単一選択 | ○ | 低・中・高・非常に高い | タスクの複雑さ |

### リスク・不確実性情報
| 入力項目 | Parasol型 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|----------|---------|------|---------------|------|
| 楽観的見積もり | DECIMAL | 数値入力 | × | 0より大きい数値 | 最良シナリオの工数 |
| 悲観的見積もり | DECIMAL | 数値入力 | × | 0より大きい数値 | 最悪シナリオの工数 |
| 信頼度 | PERCENTAGE | 数値入力 | × | 0-100の範囲 | 見積もりの信頼性（%） |
| リスクバッファ | PERCENTAGE | 数値入力 | × | 0-50の範囲 | リスク対応の予備工数（%） |

## アクション・操作

### 主要アクション
- **見積もり実行**: 選択手法による工数・期間・コスト見積もり実行
- **妥当性検証**: 過去実績・ベンチマークとの比較・妥当性確認
- **リスク分析**: 不確実性・リスク要因の分析・影響度評価
- **最適化調整**: 制約条件・目標に基づく見積もり調整・最適化

### 副次アクション
- **テンプレート保存**: 見積もりパターン・手法のテンプレート化・再利用
- **ベンチマーク更新**: 実績データ・ベンチマークの更新・改善
- **レポート生成**: 見積もり書・根拠資料・分析レポートの作成
- **承認申請**: 見積もり結果の承認依頼・レビュー・確定処理

## 画面の振る舞い

### ユーザー操作への反応
- **タスク選択時**: 関連する過去実績・類似タスクの自動表示・参考提示
- **見積もり入力時**: リアルタイム集計・影響分析・制約チェック・警告表示
- **手法変更時**: 見積もり結果の再計算・比較・差異分析・推奨表示
- **検証実行時**: 妥当性チェック・偏差分析・改善提案・コメント生成

### 条件による表示変更
- **制約超過時**: 警告表示・調整案内・代替案・影響範囲の説明
- **精度不足時**: 詳細化要求・追加情報・確認項目・改善案の提示
- **リスク高時**: リスク表示・対策提案・バッファ追加・エスカレーション案内

## 画面遷移

### 遷移元画面
- タスク依存関係定義画面: 依存関係確定後の工数見積もり・計画精緻化時
- タスク詳細定義画面: タスク詳細確定後の工数見積もり・リソース計画時
- プロジェクト計画画面: 概算から詳細見積もりへの移行・精度向上時

### 遷移先画面
- スケジュール作成画面: 工数見積もり完了後のスケジューリング・計画確定時
- リソース計画画面: 工数確定後のリソース配分・チーム編成・調達計画時
- 予算計画画面: コスト見積もり完了後の予算策定・承認・管理時

## エラーハンドリング
- **見積もり精度エラー**: 精度不足・根拠不明確時の詳細化要求・ガイダンス
- **制約違反エラー**: 予算・期間・リソース制約違反時の調整案内・代替案
- **妥当性エラー**: ベンチマークからの大幅乖離時の確認・修正・根拠説明要求
- **集計エラー**: 工数集計・計算エラー時の再計算・データ修正・整合性確認

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動での見積もり入力・検証・調整）
- スクリーンリーダー対応（見積もり値・分析結果・警告の音声案内）
- 高コントラストモード対応（工数・リスク・警告の明確な視認性）

## レスポンシブ対応
- **デスクトップ**: 4ペイン表示（タスク選択・見積もり入力・検証・集計結果）
- **タブレット**: 3ペイン表示でタブ切り替え・スワイプ操作対応
- **モバイル**: ステップ式見積もりフローでの段階的入力・確認

## 見積もり品質の保証
- **精度確保**: 複数手法・検証・レビューによる見積もり精度向上
- **根拠明確化**: 見積もり根拠・前提条件・制約・リスクの文書化
- **継続改善**: 実績フィードバック・学習・手法改善・精度向上
- **標準化**: 見積もり手法・基準・プロセスの標準化・組織学習