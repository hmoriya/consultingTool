# ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å¼·åŒ–ã—èªè¨¼åŸºç›¤ã‚’ä¿è­·ã™ã‚‹

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0.0
**æ›´æ–°æ—¥**: 2025-10-21
**è¨­è¨ˆæ–¹é‡**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»ãƒšãƒ¼ã‚¸åˆ†è§£æŒ‡å‘ + ãƒ‘ãƒ©ã‚½ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³è¨€èªé€£æº

## ğŸ“‹ æ¦‚è¦
**ç›®çš„**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å¼·åŒ–ã—ã€çµ„ç¹”å…¨ä½“ã®èªè¨¼åŸºç›¤ã‚’è„…å¨ã‹ã‚‰ä¿è­·ã™ã‚‹
**ãƒ‘ã‚¿ãƒ¼ãƒ³**: Workflow + Security + Policy
**ã‚´ãƒ¼ãƒ«**: ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã‚ˆã‚‹å …ç‰¢ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†ç’°å¢ƒã®å®Ÿç¾

## ğŸ­ é–¢ä¿‚è€…ã¨ãƒ­ãƒ¼ãƒ«
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ãƒ»å¼·åº¦ç¢ºèªãƒ»è‡ªå·±ç®¡ç†
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç®¡ç†è€…**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ç­–å®šãƒ»å¼·åˆ¶é©ç”¨ãƒ»ç›£è¦–
- **ç®¡ç†è€…**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¾©æ—§ãƒ»ä¾‹å¤–å¯¾å¿œ
- **ã‚·ã‚¹ãƒ†ãƒ **: è‡ªå‹•æ¤œè¨¼ãƒ»æœŸé™ç›£è¦–ãƒ»è„…å¨æ¤œçŸ¥ãƒ»ç›£æŸ»ãƒ­ã‚°è¨˜éŒ²

## ğŸ—ï¸ ãƒ‘ãƒ©ã‚½ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³é€£æº

### ã‚µãƒ¼ãƒ“ã‚¹å¢ƒç•Œã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹é€£æº

> **âš¡ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆã®åŸºæœ¬åŸå‰‡ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ©ç”¨å‹ï¼‰**
> - **è‡ªã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†**: è‡ªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å…¨CRUD + è‡ªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å®Ÿè£…
> - **ä»–ã‚µãƒ¼ãƒ“ã‚¹é€£æº**: **ä»–ã‚µãƒ¼ãƒ“ã‚¹ã®å…¬é–‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’åˆ©ç”¨**ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯æ„è­˜ã—ãªã„ï¼‰

#### ğŸ“¦ è‡ªã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†ï¼ˆsecure-access-serviceï¼‰
**è²¬å‹™**: âœ… ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç† âœ… ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®Ÿè£… âœ… ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯

```
Entity: User - æ‹¡å¼µç®¡ç†
â”œâ”€â”€ passwordHash: STRING_255 - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥ï¼ˆbcryptï¼‰
â”œâ”€â”€ passwordChangedAt: TIMESTAMP - æœ€çµ‚å¤‰æ›´æ—¥æ™‚
â”œâ”€â”€ passwordExpiresAt: TIMESTAMP - æœ‰åŠ¹æœŸé™
â”œâ”€â”€ failedLoginAttempts: INTEGER - å¤±æ•—å›æ•°
â””â”€â”€ passwordResetToken: STRING_255 - ãƒªã‚»ãƒƒãƒˆãƒˆãƒ¼ã‚¯ãƒ³

ValueObject: Password - å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”œâ”€â”€ value: STRING_255 - ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸå€¤
â”œâ”€â”€ strength: ENUM - å¼·åº¦ãƒ¬ãƒ™ãƒ«ï¼ˆweak/medium/strong/excellentï¼‰
â”œâ”€â”€ createdAt: TIMESTAMP - ä½œæˆæ—¥æ™‚
â””â”€â”€ algorithm: STRING_50 - ãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

Entity: PasswordPolicy - é›†ç´„ãƒ«ãƒ¼ãƒˆ
â”œâ”€â”€ id: UUID - ãƒãƒªã‚·ãƒ¼ID
â”œâ”€â”€ organizationId: UUID - çµ„ç¹”ID
â”œâ”€â”€ minLength: INTEGER - æœ€å°æ–‡å­—æ•°
â”œâ”€â”€ requireUpperCase: BOOLEAN - å¤§æ–‡å­—å¿…é ˆ
â”œâ”€â”€ requireNumbers: BOOLEAN - æ•°å­—å¿…é ˆ
â”œâ”€â”€ requireSymbols: BOOLEAN - è¨˜å·å¿…é ˆ
â”œâ”€â”€ maxAge: INTEGER - æœ€å¤§æœ‰åŠ¹æœŸé–“ï¼ˆæ—¥ï¼‰
â”œâ”€â”€ historyCount: INTEGER - å±¥æ­´ä¿æŒæ•°
â””â”€â”€ complexityScore: INTEGER - æœ€å°è¤‡é›‘æ€§ã‚¹ã‚³ã‚¢

Aggregate: PasswordSecurityAggregate
â”œâ”€â”€ ãƒ«ãƒ¼ãƒˆ: PasswordPolicy
â”œâ”€â”€ åŒ…å«: PasswordHistoryï¼ˆ1å¯¾å¤šï¼‰
â”œâ”€â”€ ä¸å¤‰æ¡ä»¶: ãƒãƒªã‚·ãƒ¼æº–æ‹ å¿…é ˆã€å±¥æ­´é‡è¤‡ç¦æ­¢
â””â”€â”€ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶ç´„: ç®¡ç†è€…æ¨©é™å¿…é ˆã€ç›£æŸ»ãƒ­ã‚°è¨˜éŒ²
```

#### ğŸ”— ä»–ã‚µãƒ¼ãƒ“ã‚¹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ©ç”¨ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‘¼ã³å‡ºã—å‹ï¼‰
**è²¬å‹™**: âŒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£çŸ¥è­˜ä¸è¦ âœ… ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ©ç”¨ã®ã¿

```
[collaboration-facilitation-service] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ©ç”¨:
â”œâ”€â”€ UC-NOTIFY-01: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æœŸé™é€šçŸ¥ã‚’é…ä¿¡ã™ã‚‹ â†’ POST /api/notifications/password-expiry
â”œâ”€â”€ UC-NOTIFY-02: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ©ãƒ¼ãƒˆã‚’é€ä¿¡ã™ã‚‹ â†’ POST /api/security/alerts
â””â”€â”€ UC-NOTIFY-03: ãƒãƒªã‚·ãƒ¼å¤‰æ›´é€šçŸ¥ã‚’é…ä¿¡ã™ã‚‹ â†’ POST /api/notifications/policy-updates

[project-success-service] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ©ç”¨:
â”œâ”€â”€ UC-AUDIT-01: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ã‚’ç›£æŸ»è¨˜éŒ²ã™ã‚‹ â†’ POST /api/audit/password-changes
â”œâ”€â”€ UC-AUDIT-02: ãƒãƒªã‚·ãƒ¼é•åã‚’ç›£æŸ»è¨˜éŒ²ã™ã‚‹ â†’ POST /api/audit/policy-violations
â””â”€â”€ UC-AUDIT-03: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£æŸ»è¨˜éŒ²ã™ã‚‹ â†’ POST /api/audit/security-events

[knowledge-co-creation-service] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ©ç”¨:
â”œâ”€â”€ UC-KNOWLEDGE-01: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çŸ¥è­˜ã‚’è¨˜éŒ²ã™ã‚‹ â†’ POST /api/knowledge/security-practices
â””â”€â”€ UC-KNOWLEDGE-02: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ•™è‚²è³‡æ–™ã‚’è“„ç©ã™ã‚‹ â†’ POST /api/knowledge/education-content
```

### ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é€£æºå‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹

#### ğŸ¯ ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤é‡è¦–ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
```
DomainService: PasswordSecurityServiceï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚µãƒ¼ãƒ“ã‚¹ï¼‰
â”œâ”€â”€ strengthen[PasswordResilience]() - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è€æ€§ã®å¼·åŒ–
â”œâ”€â”€ prevent[SecurityBreaches]() - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¾µå®³ã®äºˆé˜²ï¼ˆâ†’ ç›£è¦–é€£æºï¼‰
â”œâ”€â”€ enforce[PolicyCompliance]() - ãƒãƒªã‚·ãƒ¼æº–æ‹ ã®å¼·åˆ¶
â””â”€â”€ enhance[UserExperience]() - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Šï¼ˆâ†’ é€šçŸ¥é€£æºï¼‰

DomainService: PasswordComplianceServiceï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æº–æ‹ ã‚µãƒ¼ãƒ“ã‚¹ï¼‰
â”œâ”€â”€ validate[PasswordComplexity]() - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¤‡é›‘æ€§ã®æ¤œè¨¼
â”œâ”€â”€ monitor[PolicyAdherence]() - ãƒãƒªã‚·ãƒ¼éµå®ˆã®ç›£è¦–ï¼ˆâ†’ ç›£æŸ»é€£æºï¼‰
â”œâ”€â”€ detect[WeakPasswords]() - è„†å¼±ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æ¤œçŸ¥
â””â”€â”€ coordinate[PolicyUpdates]() - ãƒãƒªã‚·ãƒ¼æ›´æ–°ã®èª¿æ•´ï¼ˆâ†’ çŸ¥è­˜é€£æºï¼‰
```

## ğŸ”„ ãƒ—ãƒ­ã‚»ã‚¹ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ†è§£æŒ‡å‘ï¼‰

> **é‡è¦**: å„ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€Œèª°ãŒä½•ã‚’ã™ã‚‹ã‹ã€ã‚’æ˜è¨˜ã—ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ†è§£ã®æ ¹æ‹ ã¨ã™ã‚‹

### åŸºæœ¬ãƒ•ãƒ­ãƒ¼
1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ã‚’å®Ÿè¡Œ** â†’ **UC1: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹**
   - **æ“ä½œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: Userï¼ˆpasswordHash, passwordChangedAt æ›´æ–°ï¼‰
   - **å¿…è¦ãƒšãƒ¼ã‚¸**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ãƒ•ã‚©ãƒ¼ãƒ  - ç¾åœ¨ã¨æ–°ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›

2. **ã‚·ã‚¹ãƒ†ãƒ ãŒãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ã‚’æ¤œè¨¼** â†’ **å†…éƒ¨å‡¦ç†ï¼ˆãƒšãƒ¼ã‚¸ãªã—ï¼‰**
   - **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹**: PasswordSecurityService.strengthen[PasswordResilience]()

3. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç®¡ç†è€…ãŒãƒãƒªã‚·ãƒ¼è¨­å®šã‚’å®Ÿè¡Œ** â†’ **UC2: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã™ã‚‹**
   - **æ“ä½œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: PasswordPolicyï¼ˆæ–°è¦ä½œæˆãƒ»æ›´æ–°ï¼‰
   - **å¿…è¦ãƒšãƒ¼ã‚¸**: ãƒãƒªã‚·ãƒ¼è¨­å®šãƒšãƒ¼ã‚¸ - è¤‡é›‘æ€§ãƒ»æœŸé™ãƒ»å±¥æ­´è¨­å®š

4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆã‚’å®Ÿè¡Œ** â†’ **UC3: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹**
   - **æ“ä½œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: Userï¼ˆpasswordResetToken, passwordHash æ›´æ–°ï¼‰
   - **å¿…è¦ãƒšãƒ¼ã‚¸**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¸ - ãƒ¡ãƒ¼ãƒ«å…¥åŠ›ãƒ»æ–°ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š

5. **ã‚·ã‚¹ãƒ†ãƒ ãŒå¼·åº¦æ¤œè¨¼ã‚’å®Ÿè¡Œ** â†’ **UC4: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ã‚’æ¤œè¨¼ã™ã‚‹**
   - **æ“ä½œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: Passwordï¼ˆå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ»æ¤œè¨¼ï¼‰
   - **å¿…è¦ãƒšãƒ¼ã‚¸**: å¼·åº¦ç¢ºèªãƒšãƒ¼ã‚¸ - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¼·åº¦è¡¨ç¤ºãƒ»æ”¹å–„ææ¡ˆ

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ†è§£åŸå‰‡
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚¹ãƒ†ãƒƒãƒ—** â†’ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ + ãƒšãƒ¼ã‚¸
- **ã‚·ã‚¹ãƒ†ãƒ å†…éƒ¨å‡¦ç†** â†’ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆãƒšãƒ¼ã‚¸ãªã—ï¼‰
- **1ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ = 1ã¤ã®æ˜ç¢ºãªç›®çš„ = 1ã¤ã®ãƒšãƒ¼ã‚¸**

## ğŸ“„ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»ãƒšãƒ¼ã‚¸è¨­è¨ˆãƒãƒˆãƒªãƒƒã‚¯ã‚¹

| UC# | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å | å¯¾å¿œãƒšãƒ¼ã‚¸ | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ | ã‚¢ã‚¯ã‚¿ãƒ¼ | è¨­è¨ˆæ–¹é‡ |
|-----|---------------|-----------|-------------|----------|----------|
| UC1 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ãƒ•ã‚©ãƒ¼ãƒ  | Userï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ›´æ–°ï¼‰ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ | å…¥åŠ›é‡è¦–ãƒ»å¼·åº¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèª |
| UC2 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã™ã‚‹ | ãƒãƒªã‚·ãƒ¼è¨­å®šãƒšãƒ¼ã‚¸ | PasswordPolicyï¼ˆä½œæˆãƒ»æ›´æ–°ï¼‰ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç®¡ç†è€… | è¨­å®šé‡è¦–ãƒ»å½±éŸ¿ç¯„å›²è¡¨ç¤º |
| UC3 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¸ | Userï¼ˆãƒªã‚»ãƒƒãƒˆå‡¦ç†ï¼‰ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ç®¡ç†è€… | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é‡è¦–ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ– |
| UC4 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ã‚’æ¤œè¨¼ã™ã‚‹ | å¼·åº¦ç¢ºèªãƒšãƒ¼ã‚¸ | Passwordï¼ˆå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ | å¯è¦–åŒ–é‡è¦–ãƒ»æ•™è‚²ãƒ»æ”¹å–„ææ¡ˆ |

## ğŸ”€ ä»£æ›¿ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ†å²æŒ‡å‘ï¼‰

### ä»£æ›¿ãƒ•ãƒ­ãƒ¼1: æœŸé™åˆ‡ã‚Œãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å¼·åˆ¶å¤‰æ›´
- **åˆ†å²å…ƒ**: åŸºæœ¬ãƒ•ãƒ­ãƒ¼ ã‚¹ãƒ†ãƒƒãƒ—1
- **æ¡ä»¶**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æœŸé™åˆ‡ã‚Œã‚’æ¤œçŸ¥
- **ä»£æ›¿ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: UC1-Alt: æœŸé™åˆ‡ã‚Œãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç·Šæ€¥å¤‰æ›´ã™ã‚‹
  - **å¿…è¦ãƒšãƒ¼ã‚¸**: ç·Šæ€¥å¤‰æ›´ãƒ•ã‚©ãƒ¼ãƒ  - æœŸé™åˆ‡ã‚Œè­¦å‘Šãƒ»ç·Šæ€¥å¤‰æ›´ã‚¬ã‚¤ãƒ‰
  - **æ“ä½œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: Userï¼ˆå¼·åˆ¶å¤‰æ›´ãƒ•ãƒ©ã‚°ã€passwordExpiresAt æ›´æ–°ï¼‰

### ä»£æ›¿ãƒ•ãƒ­ãƒ¼2: ç®¡ç†è€…ã«ã‚ˆã‚‹ãƒªã‚»ãƒƒãƒˆå®Ÿè¡Œ
- **åˆ†å²å…ƒ**: åŸºæœ¬ãƒ•ãƒ­ãƒ¼ ã‚¹ãƒ†ãƒƒãƒ—4
- **æ¡ä»¶**: ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã§ãƒªã‚»ãƒƒãƒˆãŒã§ããªã„å ´åˆ
- **ä»£æ›¿ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: UC3-Alt: ç®¡ç†è€…ãŒãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆã‚’ä»£è¡Œã™ã‚‹
  - **å¿…è¦ãƒšãƒ¼ã‚¸**: ç®¡ç†è€…ãƒªã‚»ãƒƒãƒˆãƒšãƒ¼ã‚¸ - ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠãƒ»ãƒªã‚»ãƒƒãƒˆå®Ÿè¡Œãƒ»é€šçŸ¥è¨­å®š
  - **æ“ä½œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: Userï¼ˆç®¡ç†è€…ã«ã‚ˆã‚‹å¼·åˆ¶ãƒªã‚»ãƒƒãƒˆï¼‰

## âš ï¸ ä¾‹å¤–ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸è¨­è¨ˆæŒ‡å‘ï¼‰

### ä¾‹å¤–1: ãƒãƒªã‚·ãƒ¼é•åã¨æ•™è‚²æ¡ˆå†…
- **ç™ºç”Ÿã‚¹ãƒ†ãƒƒãƒ—**: ã‚¹ãƒ†ãƒƒãƒ—2ï¼ˆå¼·åº¦æ¤œè¨¼ï¼‰
- **ã‚¨ãƒ©ãƒ¼ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: UC1-Error: ãƒãƒªã‚·ãƒ¼é•åã‚’æ¤œå‡ºã—æ•™è‚²ã‚’æä¾›ã™ã‚‹
  - **å¿…è¦ãƒšãƒ¼ã‚¸**: ãƒãƒªã‚·ãƒ¼é•åã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ - é•åè©³ç´°ãƒ»æ”¹å–„ã‚¬ã‚¤ãƒ‰ãƒ»æ•™è‚²ãƒªãƒ³ã‚¯
  - **è¡¨ç¤ºæƒ…å ±**: å…·ä½“çš„é•åäº‹é …ã€æ¨å¥¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¾‹ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ•™è‚²ãƒªãƒ³ã‚¯

### ä¾‹å¤–2: é »ç¹ãªãƒªã‚»ãƒƒãƒˆè¦æ±‚ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾å¿œ
- **ç™ºç”Ÿã‚¹ãƒ†ãƒƒãƒ—**: ã‚¹ãƒ†ãƒƒãƒ—4ï¼ˆãƒªã‚»ãƒƒãƒˆå®Ÿè¡Œï¼‰
- **ã‚¨ãƒ©ãƒ¼ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: UC3-Error: ç•°å¸¸ãªãƒªã‚»ãƒƒãƒˆè¦æ±‚ã‚’æ¤œçŸ¥ã—ä¿è­·ã‚’å¼·åŒ–ã™ã‚‹
  - **å¿…è¦ãƒšãƒ¼ã‚¸**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿è­·ãƒšãƒ¼ã‚¸ - ç•°å¸¸æ¤œçŸ¥é€šçŸ¥ãƒ»è¿½åŠ èªè¨¼ãƒ»ç®¡ç†è€…é€£çµ¡
  - **è¡¨ç¤ºæƒ…å ±**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Šã€è¿½åŠ èªè¨¼æ‰‹é †ã€ç®¡ç†è€…ã¸ã®é€£çµ¡æ–¹æ³•

## ğŸ“Š ãƒ“ã‚¸ãƒã‚¹çŠ¶æ…‹ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰

```mermaid
stateDiagram-v2
    [*] --> Active: UC1å®Ÿè¡Œï¼ˆæ–°ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šï¼‰
    Active --> Expiring: æœŸé™è¿‘ã—ï¼ˆã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ï¼‰
    Expiring --> Expired: æœŸé™åˆ‡ã‚Œï¼ˆã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ï¼‰
    Expired --> Active: UC1å®Ÿè¡Œï¼ˆå¼·åˆ¶æ›´æ–°ï¼‰
    Active --> ResetRequested: UC3å®Ÿè¡Œï¼ˆãƒªã‚»ãƒƒãƒˆè¦æ±‚ï¼‰
    ResetRequested --> Active: UC3å®Œäº†ï¼ˆãƒªã‚»ãƒƒãƒˆå®Œäº†ï¼‰
    Active --> PolicyViolation: UC4å®Ÿè¡Œï¼ˆå¼·åº¦ä¸è¶³æ¤œå‡ºï¼‰
    PolicyViolation --> Active: UC1å®Ÿè¡Œï¼ˆãƒãƒªã‚·ãƒ¼æº–æ‹ æ›´æ–°ï¼‰
    Active --> Compromised: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¾µå®³æ¤œçŸ¥
    Compromised --> Active: UC3-Altå®Ÿè¡Œï¼ˆç®¡ç†è€…ãƒªã‚»ãƒƒãƒˆï¼‰
    Active --> [*]: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤
```

**çŠ¶æ…‹ã¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å¯¾å¿œ**:
- **Active**: User.passwordChangedAt = recent, Password.strength â‰¥ medium
- **Expiring**: User.passwordExpiresAt - now() â‰¤ 7days
- **Expired**: User.passwordExpiresAt < now()
- **ResetRequested**: User.passwordResetToken â‰  null
- **PolicyViolation**: Password.strength = weak, Policy compliance = false
- **Compromised**: PasswordSecurityAggregate.securityEvent = detected

## ğŸ“ KPIï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥æˆåŠŸæŒ‡æ¨™ï¼‰

| ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | KPI | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|-------------|-----|--------|----------|
| UC1 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´æˆåŠŸç‡ | 95% | å¤‰æ›´è¦æ±‚â†’å®Œäº†ã®æˆåŠŸç‡ |
| UC2 | ãƒãƒªã‚·ãƒ¼æº–æ‹ ç‡ | 98% | æ–°è¦ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒªã‚·ãƒ¼æº–æ‹ ç‡ |
| UC3 | ãƒªã‚»ãƒƒãƒˆå®Œäº†æ™‚é–“ | 15åˆ†ä»¥å†… | è¦æ±‚â†’å®Œäº†ã®å¹³å‡æ™‚é–“ |
| UC4 | å¼·åº¦å‘ä¸Šç‡ | 80% | å¼±ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰â†’å¼·ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ç‡ |

**å…¨ä½“KPI**:
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„…å¨äºˆé˜²ç‡**: 99.5%ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èµ·å› ã®ä¾µå®³ã‚¼ãƒ­ï¼‰
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦**: 90%ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ãƒ—ãƒ­ã‚»ã‚¹ã®ä½¿ã„ã‚„ã™ã•ï¼‰
- **ãƒãƒªã‚·ãƒ¼é•åæ¤œçŸ¥ç‡**: 100%ï¼ˆå¼±ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å³åº§æ¤œçŸ¥ï¼‰

## ğŸ“œ ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¶ç´„ï¼‰

### ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£åˆ¶ç´„
- **PasswordPolicy**: æœ€å°é•·8æ–‡å­—ã€è¤‡é›‘æ€§ã‚¹ã‚³ã‚¢ â‰¥ 60 â†’ PasswordComplianceService.enforce[PolicyCompliance]()
- **Password**: éå»5ä¸–ä»£ã®å†åˆ©ç”¨ç¦æ­¢ â†’ PasswordSecurityService.prevent[PasswordReuse]()
- **User**: æœ€å¤§å¤±æ•—å›æ•°5å›ã§ãƒ­ãƒƒã‚¯ â†’ PasswordSecurityService.prevent[BruteForceAttacks]()

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¶ç´„
- **UC1**: ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèªå¿…é ˆ â†’ ãƒšãƒ¼ã‚¸ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿè£…
- **UC3**: ãƒªã‚»ãƒƒãƒˆè¦æ±‚ã¯24æ™‚é–“ã«3å›ã¾ã§ â†’ ãƒšãƒ¼ã‚¸ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿè£…
- **UC4**: å¼·åº¦ãƒã‚§ãƒƒã‚¯ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  â†’ ãƒšãƒ¼ã‚¸ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿè£…

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶ç´„
- **ã™ã¹ã¦ã®UC**: HTTPSé€šä¿¡å¿…é ˆã€TLS 1.3ä»¥ä¸Š
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥**: bcryptã€ã‚³ã‚¹ãƒˆä¿‚æ•°12ä»¥ä¸Š
- **ãƒªã‚»ãƒƒãƒˆãƒˆãƒ¼ã‚¯ãƒ³**: æš—å·åŒ–å¼·åº¦256bitã€æœ‰åŠ¹æœŸé™1æ™‚é–“

## ğŸ”— å…¥å‡ºåŠ›ä»•æ§˜ï¼ˆAPIãƒ»ãƒšãƒ¼ã‚¸é€£æºï¼‰

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥å…¥å‡ºåŠ›

#### UC1: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹
**å…¥åŠ›ï¼ˆãƒšãƒ¼ã‚¸ â†’ APIï¼‰**:
```json
{
  "passwordChangeRequest": {
    "userId": "UUID - ãƒ¦ãƒ¼ã‚¶ãƒ¼ID",
    "currentPassword": "string - ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
    "newPassword": "string - æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
    "confirmPassword": "string - ç¢ºèªç”¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
  }
}
```

**å‡ºåŠ›ï¼ˆAPI â†’ ãƒšãƒ¼ã‚¸ï¼‰**:
```json
{
  "result": "success/error",
  "passwordStrength": {
    "score": "integer - å¼·åº¦ã‚¹ã‚³ã‚¢ï¼ˆ0-100ï¼‰",
    "level": "weak/medium/strong/excellent",
    "recommendations": ["string - æ”¹å–„ææ¡ˆ"]
  },
  "nextAction": "UC4å®Ÿè¡Œå¯èƒ½ï¼ˆå¼·åº¦ç¢ºèªï¼‰ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šæ¨å¥¨"
}
```

#### UC2: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã™ã‚‹
**å…¥åŠ›ï¼ˆãƒšãƒ¼ã‚¸ â†’ APIï¼‰**:
```json
{
  "policyConfiguration": {
    "organizationId": "UUID - çµ„ç¹”ID",
    "minLength": "integer - æœ€å°æ–‡å­—æ•°",
    "complexityRequirements": {
      "requireUpperCase": "boolean",
      "requireLowerCase": "boolean",
      "requireNumbers": "boolean",
      "requireSymbols": "boolean"
    },
    "maxAge": "integer - æœ€å¤§æœ‰åŠ¹æœŸé–“ï¼ˆæ—¥ï¼‰",
    "historyCount": "integer - å±¥æ­´ä¿æŒæ•°"
  }
}
```

**å‡ºåŠ›ï¼ˆAPI â†’ ãƒšãƒ¼ã‚¸ï¼‰**:
```json
{
  "result": "success/error",
  "affectedUsers": "integer - å½±éŸ¿ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°",
  "complianceStatus": {
    "currentCompliance": "percentage - ç¾åœ¨ã®æº–æ‹ ç‡",
    "estimatedCompliance": "percentage - æ–°ãƒãƒªã‚·ãƒ¼é©ç”¨å¾Œã®æº–æ‹ ç‡"
  },
  "nextAction": "UC1å®Ÿè¡Œæ¨å¥¨ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘å¤‰æ›´æ¡ˆå†…ï¼‰ | é€šçŸ¥é…ä¿¡å®Ÿè¡Œ"
}
```

## ğŸš€ å®Ÿè£…æŒ‡é‡

### æ¨å¥¨å®Ÿè£…é †åº
1. **ãƒ‘ãƒ©ã‚½ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³è¨€èªå®šç¾©** - PasswordPolicyã€Passwordå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€PasswordSecurityAggregate
2. **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…** - PasswordSecurityServiceã€PasswordComplianceService
3. **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»ãƒšãƒ¼ã‚¸ã®ãƒšã‚¢å®Ÿè£…** - UC1â†’UC4â†’UC3â†’UC2ã®é †åºã§æ®µéšçš„ã«
4. **çµ±åˆãƒ†ã‚¹ãƒˆ** - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼å…¨ä½“ã®æ¤œè¨¼ãƒ»è„†å¼±æ€§ãƒ†ã‚¹ãƒˆ

### å“è³ªãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
- [ ] å„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾å¿œã™ã‚‹ãƒšãƒ¼ã‚¸ãŒ1å¯¾1ã§å­˜åœ¨ã™ã‚‹
- [ ] ãƒ‘ãƒ©ã‚½ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³è¨€èªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒæ­£ã—ãæ“ä½œã•ã‚Œã‚‹
- [ ] ãƒ“ã‚¸ãƒã‚¹çŠ¶æ…‹é·ç§»ãŒã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£çŠ¶æ…‹ã¨ä¸€è‡´ã™ã‚‹
- [ ] ä»£æ›¿ãƒ»ä¾‹å¤–ãƒ•ãƒ­ãƒ¼ã«ã‚‚é©åˆ‡ãªãƒšãƒ¼ã‚¸ãŒç”¨æ„ã•ã‚Œã‚‹
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ãŒã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§é©ç”¨ã•ã‚Œã‚‹
- [ ] ä»–ã‚µãƒ¼ãƒ“ã‚¹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ©ç”¨ãŒæ­£ã—ãå®Ÿè£…ã•ã‚Œã‚‹

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥**: bcryptï¼ˆã‚³ã‚¹ãƒˆ12ä»¥ä¸Šï¼‰
- **é€šä¿¡æš—å·åŒ–**: TLS 1.3å¿…é ˆ
- **ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†**: JWTã€æœ‰åŠ¹æœŸé™1æ™‚é–“
- **ç›£æŸ»ãƒ­ã‚°**: å…¨æ“ä½œã®è¨˜éŒ²ã€æ”¹ã–ã‚“é˜²æ­¢

---
*ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»ãƒšãƒ¼ã‚¸åˆ†è§£ã¨ãƒ‘ãƒ©ã‚½ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³è¨€èªé€£æºã‚’å¼·åŒ–ã—ãŸãƒ“ã‚¸ãƒã‚¹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆæŒ‡é‡v2.0ã«åŸºã¥ã„ã¦ã„ã¾ã™*