# ユースケース: メンバーを検索・フィルタリングする

## 基本情報
- **ユースケースID**: UC-TALENT-05
- **アクター**: リソースマネージャー、チームリーダー、メンバー、HR管理者、PMO
- **概要**: 組織内メンバーを多様な条件で検索・フィルタリングし、プロジェクト配置やチーム編成、スキル活用に必要な人材情報を効率的に特定する

## 事前条件
- 検索実行権限が確認されている
- メンバーデータベースが利用可能である
- 検索対象スコープが定義されている（組織・部門・プロジェクト）
- アクセス権限レベルが確認されている
- 検索インデックスが最新状態である

## 事後条件
### 成功時
- 検索条件に合致するメンバー一覧が表示されている
- フィルタリング結果が適切にソートされている
- 検索履歴が記録されている（プライバシー配慮）
- 検索結果の詳細情報へのアクセスが可能である
- 検索統計が更新されている

### 失敗時
- 検索失敗の詳細理由がユーザーに表示されている
- 検索条件エラーの修正方法が提示されている
- 権限不足の場合は適切なガイダンスが表示されている
- システムエラー時の代替検索方法が案内されている

## 基本フロー
1. **アクターがメンバー検索プロセスを開始する**
   - 検索目的の明確化・検索範囲の設定
   - 基本検索条件の入力・フィルタ条件の選択

2. **システムが検索環境と権限確認を実行する**
   - → UC-AUTH-02: メンバー検索権限を検証する
   - 検索スコープの確認・アクセス可能データの特定
   - 検索インターフェースの初期化

3. **システムが多次元検索とフィルタリングを実行する**
   - 基本情報・スキル・経験による検索・部門・プロジェクト・ロール別フィルタ
   - 可用性・稼働状況による絞り込み・複合条件での精密検索

4. **システムが検索結果の最適化と表示を実行する**
   - 検索結果のランキング・関連度による順序付け
   - ページネーション・無限スクロール・結果統計の表示

5. **システムが検索完了と利用促進を完了する**
   - 検索履歴の保存・推奨検索の提案
   - → UC-NOTIFY-01: 検索結果共有通知を配信する（必要時）
   - → UC-AUTH-03: 検索活動ログを記録する

## 代替フロー
### 代替フロー1: 高度検索
- 3a. 複雑な検索条件で高度検索が必要な場合
  - 3a1. クエリビルダーの起動・複合条件の構築
  - 3a2. 保存済み検索の利用・カスタム検索式の入力
  - 3a3. 基本フロー4（結果最適化・表示）に進む

### 代替フロー2: リアルタイム検索
- 3b. 入力中のリアルタイム検索が有効な場合
  - 3b1. 検索候補の即座表示・オートコンプリート
  - 3b2. 部分一致・あいまい検索・検索支援
  - 3b3. 基本フロー4に戻る

## 例外フロー
### 例外1: 検索結果過多
- *a. 検索結果が大量で処理負荷が高い場合
  - *a1. → UC-AUTH-03: 大量検索ログを記録する
  - *a2. 検索条件の絞り込み提案・結果制限の実行
  - *a3. 条件調整後、基本フロー3に復帰

### 例外2: アクセス権限不足
- *b. 特定メンバー情報への権限が不足している場合
  - *b1. 権限不足の記録・表示可能項目のマスキング
  - *b2. 部分情報の表示・詳細情報アクセス申請案内
  - *b3. 基本フロー4に復帰

### 例外3: 検索インデックス不整合
- *c. 検索インデックスの不整合でエラーが発生した場合
  - *c1. インデックスエラーの記録・代替検索手法の提供
  - *c2. 直接データベース検索・結果品質の注意喚起
  - *c3. インデックス復旧後、基本フロー3に復帰

## 特別要件
- **性能**: 基本検索1秒以内、高度検索5秒以内、大量検索30秒以内
- **可用性**: 検索システム稼働率99.5%以上、24時間365日利用可能
- **セキュリティ**: 検索ログ暗号化、アクセス制御、個人情報保護、検索履歴管理
- **精度**: 検索精度95%以上、関連度ランキング精度90%以上、あいまい検索対応
- **スケーラビリティ**: 万人規模対応、同時検索100セッション、レスポンス時間一定

## 関連ユースケース
- **包含**: UC-AUTH-02（権限検証）、UC-AUTH-03（ログ記録）、UC-NOTIFY-01（通知配信）
- **前提**: メンバー登録・プロフィール更新完了必須
- **後続**: メンバー詳細表示、プロジェクト配置、チーム編成、スキル分析

---
*このユースケースは パラソル設計v2.0仕様 に基づいて作成されました*
