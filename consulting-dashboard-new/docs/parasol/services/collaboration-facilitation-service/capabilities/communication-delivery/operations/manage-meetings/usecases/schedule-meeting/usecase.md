# ユースケース: 会議をスケジュールする

## 基本情報
- **ユースケースID**: UC-MEET-01
- **アクター**: 会議ホスト、会議オーガナイザー
- **概要**: 効果的な会議の計画と調整を行い、参加者全員の都合に配慮した最適なスケジュールを設定する

## 事前条件
- ユーザーが会議作成権限を持っている
- 参加予定者がシステムに登録されている
- 会議室・リソースが利用可能である
- カレンダーシステムとの連携が設定済み

## 事後条件
### 成功時
- 会議スケジュールが確定され、システムに登録されている
- 参加者全員に会議招待が送信されている
- 会議室・リソースが予約確保されている
- 会議アジェンダが共有されている
- 参加者のカレンダーが更新されている

### 失敗時
- スケジューリング試行履歴が記録されている
- 予約済みリソースが適切に解放されている
- 参加者に失敗通知と代替案が送信されている

## 基本フロー
1. 会議ホストが会議作成画面にアクセスする
2. システムが会議作成フォームとテンプレートを表示する
3. 会議ホストが会議基本情報（件名・目的・種類・重要度）を入力する
4. 会議ホストが会議日時・期間・タイムゾーンを設定する
5. 会議ホストが参加者を選択し、必須・任意を指定する
6. 会議ホストが会議室・場所・オンラインツールを選択する
7. 会議ホストがアジェンダ・準備事項・資料を設定する
8. システムが参加者の空き時間をチェックし、競合を検証する
9. システムが会議スケジュールを確定し、リソースを確保する
10. システムが参加者に招待を送信し、カレンダーを更新する

## 代替フロー
### 代替フロー1: 自動最適スケジューリング
- 4a. 会議ホストがAI最適スケジューリング機能を選択する場合
  - 4a1. システムが参加者の空き時間を分析し、最適な候補日時を提示する
  - 4a2. 会議ホストが提案された日時から選択・調整する
  - 4a3. システムが選択された日時を自動設定する
  - 4a4. 基本フロー6に進む

### 代替フロー2: 繰り返し会議設定
- 3a. 会議ホストが定期・繰り返し会議を設定する場合
  - 3a1. システムが繰り返しパターン設定画面を表示する
  - 3a2. 会議ホストが繰り返しルール・例外・終了条件を設定する
  - 3a3. システムが繰り返し会議を一括スケジュール予約する
  - 3a4. 基本フロー8に進む

## 例外フロー
### 例外1: リソース予約競合エラー
- *a. 会議室・設備の予約競合が発生した場合
  - *a1. システムが競合詳細と代替リソース候補を表示する
  - *a2. システムが代替会議室・設備・時間調整を提案する
  - *a3. 会議ホストが代替リソースを選択または時間変更を決定する
  - *a4. 代替リソース確定後は基本フロー9に戻る

### 例外2: 参加者スケジュール競合エラー
- *b. 重要参加者のスケジュール競合が判明した場合
  - *b1. システムが参加者競合詳細と代替日時を提案する
  - *b2. システムが優先度調整・参加者変更・代替手段を提示する
  - *b3. 会議ホストが日時変更・参加者調整・会議延期を選択する
  - *b4. 調整完了後は基本フロー8に戻る

## パラソルドメイン連携
**操作エンティティ**: Meeting（新規作成）、MeetingAgenda、MeetingSettings
**集約**: MeetingAggregate - 会議ライフサイクル統合管理
**他サービス連携**:
- UC-AUTH-02: 権限を検証する → POST /api/auth/validate-permission
- UC-NOTIFY-02: 会議招待を送信する → POST /api/notifications/send-invitation

## 特別要件
- **性能**: 会議スケジューリング処理完了時間2分以内
- **可用性**: スケジューリング機能99.5%以上の高可用性
- **セキュリティ**: 会議情報・参加者データの暗号化とプライバシー保護
- **拡張性**: 大規模参加者・複数会議の同時処理対応

## 関連ユースケース
- **後続**: UC-MEET-02: 会議を実施する
- **関連**: UC-MEET-03: 会議フォローアップを実行する
- **統合**: 外部カレンダー・会議ツール連携