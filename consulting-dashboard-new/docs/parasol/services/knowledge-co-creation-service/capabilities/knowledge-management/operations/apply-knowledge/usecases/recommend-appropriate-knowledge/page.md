# ページ定義: 知識推奨・選択ページ

**バージョン**: 2.0.0
**更新日**: 2025-10-21
**設計方針**: 直感的選択・信頼性表示・個人化支援

## 画面の目的
文脈分析結果に基づいてAIが推奨した知識セットを、適合度・信頼性・実用性の各指標とともに表示し、コンサルタントが最適な知識を効率的に選択・活用できる意思決定支援環境を提供する。

## 利用者
- **主要利用者**: コンサルタント（知識選択・活用の実行者）
- **副次利用者**: プロジェクトマネージャー（チーム学習リソース管理者）、ナレッジマネージャー（推奨精度分析者）

## 画面構成

### 🎯 文脈サマリーセクション（ページ上部）

#### 分析された活用文脈の要約
- **課題・目標の明確化**:
  - 📝 課題要約: 「プロジェクト遅延リスクの早期発見・対応」
  - 🎯 目標設定: 「2週間以内にリスク管理プロセスを構築」
  - ⏰ 実施期限: カウントダウン表示「あと12日」
  - 🔍 複雑度指標: 「中級レベル」「チーム適用」

#### 推奨処理結果サマリー
- **推奨品質指標**:
  - 📊 適合度スコア: 「平均85%」（高品質推奨）
  - 🎲 多様性指数: 「74%」（十分な選択肢）
  - 🆕 新鮮性: 「91%」（最新知識中心）
  - 👤 個人化度: 「67%」（過去履歴反映）

---

### 📋 推奨知識リストセクション（メイン）

#### 推奨知識カード表示
各知識の詳細情報を視覚的に整理したカード形式:

**カード1: 最高推奨知識**
- **知識タイトル**: 「プロジェクト課題解決手法v3.2」
- **適合度表示**: 🌟🌟🌟🌟🌟 92% （プログレスバー付き）
- **知識分類**: 📋「手順・プロセス」| 🏷️「中級レベル」| 👥「チーム適用」
- **実績データ**:
  - 成功率: 85% (過去20件の活用実績)
  - 更新日: 2024-09-15（フレッシュネス○）
  - 活用時間: 2-3時間（見積もり）
- **キーワード**: #問題解決 #チーム協働 #デッドライン管理 #リスク対応
- **概要プレビュー**: 「類似プロジェクトでの課題解決実績。段階的アプローチによる確実な成果実現...」

**カード2-5: 追加推奨知識**
- 類似形式で4-8件の知識を表示
- 適合度順ソート、多様性バランス考慮
- 「さらに表示」ボタンで拡張表示

#### 知識詳細プレビュー機能
- **クイックプレビュー**: カードホバーで要約表示
- **詳細確認**: クリックで右側パネルに詳細表示
- **関連知識**: 選択知識に関連する補完的知識の提案

---

### 🎛️ フィルタ・調整セクション（左サイド）

#### 推奨結果の調整
- **重要度調整スライダー**:
  - 🎯 適合精度重視 ←→ 🎲 多様性重視
  - 📈 実績重視 ←→ 🆕 革新性重視
  - ⚡ 速習性重視 ←→ 🔬 深度重視

#### フィルタ条件
- **知識タイプ**:
  - ☑️ 手順・プロセス、☑️ テンプレート
  - ☐ 事例・ケース、☐ 原則・理論
- **実施時間**: 30分以内 | 1-3時間 | 半日以上
- **必要スキル**: 基礎 | 標準 | 高度
- **アクセス権限**: 公開 | 限定公開 | 機密

#### 個人化設定
- **学習スタイル**: 読む重視 | 見る重視 | 体験重視
- **過去成功パターン**: 「類似手法での成功経験を優先」
- **チーム適合性**: 「現在のチームスキルに適合」

---

### 🧠 推奨アルゴリズム解説セクション（右サイド）

#### 推奨理由の透明性
- **なぜこの知識が推奨されたか**:
  - 📊 「課題キーワード90%マッチ」
  - 👥 「同じチーム規模での実績豊富」
  - ⏰ 「期限内実現可能性が高い」
  - 📈 「あなたの過去活用パターンと一致」

#### 代替オプション提示
- **専門家コンサルテーション**:
  - 🧑‍💼 「リスク管理のエキスパートに相談」
  - 📅 空き状況と予約リンク
- **関連トレーニング**:
  - 🎓 「プロジェクト管理基礎講座」
  - 📚 「リスク分析実践ワークショップ」
- **知識作成提案**:
  - ✍️ 「新しい知識を作成することをお勧めします」
  - 💡 作成支援ツールへのリンク

---

### ⚡ アクション実行セクション（下部）

#### 主要アクション
- **知識選択・適用開始**:
  - 🚀 「選択した知識で開始」ボタン（大きく強調）
  - 📋 選択知識数表示「3件の知識を選択中」
  - ⏱️ 適用予定時間「合計4-6時間」

#### 支援アクション
- **組み合わせ活用**:
  - 🔗 「複数知識の組み合わせプランを作成」
  - 🧩 知識間の相互補完関係を視覚化
- **段階的適用**:
  - 📈 「段階別実施プランを提案」
  - 🗓️ タイムライン設定とマイルストーン

#### フィードバック収集
- **推奨品質評価**:
  - 👍👎 「この推奨は有用でしたか？」
  - ⭐ 5段階評価「推奨精度を評価」
  - 💬 「改善提案コメント」

---

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 更新頻度 | 説明 |
|-----------|---------|---------|------|
| 推奨知識リスト | カード形式 | 文脈分析完了時 | 適合度順ソート済み |
| 適合度スコア | プログレスバー + 数値 | リアルタイム | 0-100%表示 |
| 実績データ | アイコン + 数値 | 日次更新 | 過去活用成功率 |
| 個人化スコア | 円グラフ | ユーザー操作時 | 履歴適合度 |
| 推奨理由 | テキスト + アイコン | 即座 | AI分析結果 |

## 入力項目

### ユーザー選択・調整項目
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 知識選択 | 複数選択チェックボックス | ○ | 最低1件必須 | 活用する知識の選択 |
| 重要度調整 | スライダー | × | 0-100範囲 | 推奨基準の調整 |
| フィルタ条件 | チェックボックス | × | 論理的組み合わせ | 表示知識の絞り込み |
| 実施予定日 | 日付選択 | ○ | 未来日付 | 活用開始予定 |
| 推奨評価 | 5段階選択 | × | 1-5範囲 | 推奨品質フィードバック |

### インタラクション支援
- **ドラッグ&ドロップ**: 知識の優先順位調整
- **ライブフィルタ**: 入力と同時にリスト更新
- **比較機能**: 複数知識の並列比較表示
- **ブックマーク**: 後日検討用の保存機能

## アクション・操作

### 主要アクション
- **知識選択確定**:
  - トリガー: 「選択知識で開始」ボタンクリック
  - 処理: 選択知識の活用プロセス開始
  - 成功時: 知識適用画面（UC-APPLY-03）へ遷移
  - 失敗時: エラー詳細表示、選択見直し案内

- **推奨再実行**:
  - トリガー: 「再推奨」ボタンまたは条件変更
  - 処理: 調整された条件での推奨処理再実行
  - 結果: 更新された推奨リスト表示

### 分析・比較アクション
- **詳細比較**: 選択知識の詳細並列表示
- **適用シミュレーション**: 活用結果の予測表示
- **履歴参照**: 過去の類似活用事例表示
- **専門家推奨**: エキスパートによる追加推奨

### フィードバックアクション
- **推奨精度評価**: 推奨品質の5段階評価
- **改善提案**: 推奨アルゴリズムへの改善要求
- **知識品質報告**: 推奨知識の品質問題報告

## 画面の振る舞い

### 動的表示調整
- **適合度による表示**:
  - 高適合(80%+): 緑色ハイライト、詳細情報展開
  - 中適合(60-79%): 標準表示、要点サマリー
  - 低適合(60%未満): グレー表示、理由説明

- **ユーザー操作への反応**:
  - フィルタ変更: 即座にリスト更新（アニメーション付き）
  - 知識選択: 選択数表示更新、組み合わせ提案
  - 詳細表示: 右パネルスライドイン、関連情報展開

### 条件による表示変更
- **初回利用**: 推奨アルゴリズムの詳細説明表示
- **リピート利用**: 効率化されたコンパクト表示
- **エキスパート**: 高度な調整オプション表示
- **時間制約**: 速習向け知識を優先表示

## 画面遷移

### 遷移元画面
- **文脈特定画面**: 文脈分析完了時（UC-APPLY-01から）
- **知識検索画面**: 手動検索からの推奨切り替え
- **ダッシュボード**: 「知識推奨を再実行」リンクから

### 遷移先画面
- **知識適用画面**: 知識選択確定時（UC-APPLY-03へ）
- **文脈再設定画面**: 「文脈を見直す」リンクから
- **専門家相談画面**: 専門家推奨選択時

## エラーハンドリング

### エラー表示方法
- **推奨失敗**: 「推奨処理中に問題が発生しました。文脈情報を確認し、再実行してください。」
- **知識取得エラー**: 「知識ベースへのアクセスに失敗しました。しばらく待ってから再試行してください。」
- **選択不備**: 「知識を選択してください。最低1件の知識選択が必要です。」
- **権限エラー**: 「選択された知識へのアクセス権限がありません。管理者にお問い合わせください。」

### 復旧・対処機能
- **代替推奨**: 一部知識取得失敗時の利用可能知識での推奨
- **簡易版推奨**: 高度分析失敗時のキーワードベース推奨
- **キャッシュ利用**: ネットワーク障害時の過去推奨結果表示
- **手動選択**: システム推奨不可時の手動知識検索

## アクセシビリティ要件

### キーボードナビゲーション
- タブ順序: フィルタ → 推奨リスト → 詳細パネル → アクション
- ショートカット: Enter（選択）、Space（チェック）、↑↓（リスト移動）

### スクリーンリーダー対応
- 知識カード: 「プロジェクト課題解決手法、適合度92%、実績85%、推奨第1位」
- 選択状態: 「3件の知識を選択中、適用準備完了」
- 推奨理由: 「課題キーワード90%マッチ、過去活用パターン適合」

### 色覚障害への配慮
- 適合度表示: 色 + 数値 + アイコン（🌟）
- 実績表示: 色 + パーセンテージ + 記号（✓）
- 警告表示: 色 + アイコン + 明確なメッセージ

## レスポンシブ対応

### デスクトップ（1024px以上）
- 3カラムレイアウト: フィルタ | 推奨リスト | 詳細・理由
- 豊富な視覚的要素とホバー効果

### タブレット（768px-1023px）
- 2カラム + タブ切り替え: メインリスト | サイド情報
- タッチ最適化されたカード操作

### モバイル（767px以下）
- 1カラム縦積み: カードリスト形式
- スワイプで詳細表示、大きなタッチエリア

---
*このページ定義は、UC-APPLY-02「適切な知識を推奨する」と1対1対応し、AIによる高精度な知識マッチングと直感的な選択体験を実現しています*