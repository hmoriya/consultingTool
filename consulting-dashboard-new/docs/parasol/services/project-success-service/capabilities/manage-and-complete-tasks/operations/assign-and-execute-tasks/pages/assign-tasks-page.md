# ページ定義: タスク割り当て画面

## 画面の目的
定義されたタスクを適切なスキルと稼働状況を持つメンバーに効率的に割り当て、リソースの最適化とプロジェクト成功を実現する

## 利用者
- **PM**: タスク割り当ての最終決定・承認・全体調整
- **リソースマネージャー**: メンバーキャパシティ管理・スキルマッチング評価
- **コンサルタント**: 自身のタスク受入・辞退・稼働状況更新
- **マネージャー**: 割り当て方針決定・リソース競合解決

## 画面構成

### ヘッダー部
- 割り当て対象プロジェクト・フェーズ情報
- 割り当て待ちタスク数・緊急度別内訳
- メンバー総稼働率・利用可能リソース状況
- 自動割り当て・手動割り当て切り替え

### タスク一覧部
- **割り当て待ちタスク**:
  - タスク名・種別・優先度・緊急度
  - 必要スキル・推定工数・期限
  - 依存関係・前提条件・制約事項
- **進行中タスク**:
  - 現在の担当者・進捗状況
  - 予定完了日・遅延リスク
  - 再割り当て可能性の評価

### メンバー情報部
- **スキル・キャパシティ一覧**:
  - メンバー名・ロール・専門分野
  - 保有スキル・習熟度レベル
  - 現在稼働率・利用可能時間
- **適合度表示**:
  - タスク-メンバー適合スコア
  - スキルマッチング度・経験適合性
  - 稼働負荷・バランス評価

### 割り当て操作部
- **自動提案**:
  - AIによる最適割り当て候補
  - 複数パターンの比較・評価
  - 効率性・公平性・リスクの分析
- **手動調整**:
  - ドラッグ&ドロップによる割り当て
  - 割り当て理由・考慮事項の記録
  - 特別配慮・制約条件の設定

### 影響分析部
- **リソース影響**:
  - 割り当て後の稼働率変化
  - スケジュール・デッドラインへの影響
  - 他プロジェクトへの波及効果
- **リスク評価**:
  - スキル不足・キャパシティ超過リスク
  - 依存関係・ボトルネック分析
  - 代替案・緊急時対応の検討

### 承認・実行部
- **割り当て確認**:
  - 最終割り当て案の確認・検証
  - 関係者の合意・承認状況
  - 実行前の最終チェック
- **通知・実行**:
  - メンバーへの通知送信
  - リソース情報・スケジュールの更新
  - 開始可能状態への移行

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| タスク一覧 | 優先度別リスト | ○ | 割り当て対象の全タスク |
| メンバースキル | スキルマトリクス | ○ | 保有スキル・習熟度一覧 |
| 稼働状況 | 稼働率表示 | ○ | 現在・将来の稼働率 |
| 適合度スコア | マッチング度 | ○ | タスク-メンバー適合性 |
| 依存関係図 | ネットワーク表示 | × | タスク間の依存関係 |
| 負荷予測 | 予測グラフ | × | 将来の稼働負荷推移 |

### データの更新頻度
- **タスク情報**: タスク定義・変更時にリアルタイム更新
- **メンバー稼働率**: 日次更新・緊急時は即時更新
- **スキル情報**: 月次更新・資格取得時は即時反映

## 入力項目

### 割り当て条件設定
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 割り当て方針 | 単一選択 | ○ | 定義済み方針 | 効率優先・公平性優先・緊急対応 |
| 優先度基準 | 複数選択 | ○ | 重み付け設定 | スキル適合・稼働バランス・期限 |
| 制約条件 | チェックボックス | × | - | 特定メンバー指定・除外条件 |
| 調整理由 | テキストエリア | × | 最大500文字 | 手動調整の理由・背景 |

### タスク-メンバー指定
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 担当者選択 | 単一選択 | ○ | 利用可能メンバー | タスクの主担当者 |
| 副担当者 | 複数選択 | × | - | サポート・バックアップ要員 |
| 開始予定日 | 日付選択 | ○ | 未来日付 | タスク開始の予定日 |
| 完了期限 | 日付選択 | ○ | 開始日以降 | タスク完了の期限 |

## アクション・操作

### 主要アクション
- **自動割り当て実行**: AIアルゴリズムによる最適割り当て
- **手動割り当て確定**: 手動調整した割り当ての確定
- **割り当て通知送信**: メンバーへの正式な割り当て通知
- **リソース更新**: 稼働情報・スケジュールの一括更新

### 副次アクション
- **適合度再計算**: 条件変更時の適合性再評価
- **代替案生成**: 複数の割り当てパターン作成
- **影響度シミュレーション**: 割り当て変更の影響予測
- **履歴・根拠記録**: 割り当て判断の根拠保存

## 画面の振る舞い

### ユーザー操作への反応
- **タスク選択時**: 該当タスクの詳細情報・必要スキルを表示
- **メンバー選択時**: 選択メンバーのスキル・稼働状況を詳細表示
- **割り当て実行時**: リアルタイムで影響度・適合度を再計算
- **条件変更時**: 自動的に最適化候補を再生成・更新

### 条件による表示変更
- **緊急タスク発生時**: 警告表示・優先割り当てモードに切替
- **稼働率超過時**: 警告表示・代替リソース確保の提案
- **スキル不足時**: 不足スキルの明示・習得/調達方法の提案

## 画面遷移

### 遷移元画面
- タスク定義画面: タスク定義完了後の割り当て開始時
- プロジェクト計画画面: リソース計画後の実割り当て時
- リソース管理画面: メンバー稼働調整後の再割り当て時

### 遷移先画面
- タスク開始画面: 割り当て完了後のタスク開始準備時
- 進捗管理画面: 全割り当て完了後の進捗追跡時
- メンバー通知画面: 割り当て通知の個別確認時

## エラーハンドリング
- **スキル不足エラー**: 必要スキル不足時の代替案・習得方法提示
- **稼働超過エラー**: キャパシティ超過時の調整・延期オプション提示
- **依存関係エラー**: タスク依存関係違反時の順序調整案内
- **承認権限エラー**: 割り当て権限不足時の承認者案内

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動での割り当て操作）
- スクリーンリーダー対応（スキル・稼働情報の音声案内）
- 高コントラストモード対応（適合度・警告の明確な視認性）

## レスポンシブ対応
- **デスクトップ**: 3ペイン表示（タスク・メンバー・割り当て操作）
- **タブレット**: 2ペイン表示でタブ切り替え対応
- **モバイル**: カード形式での段階的割り当て操作

## 割り当て品質の保証
- **公平性確保**: メンバー間の稼働バランス・機会均等の維持
- **効率性追求**: スキルマッチング・工数最適化の実現
- **透明性保持**: 割り当て根拠・理由の明確な記録・共有
- **柔軟性維持**: 状況変化・緊急対応への迅速な対応能力