# ユースケース: WBS承認を実行する

## 基本情報
- **ユースケースID**: UC-TASK-04
- **アクター**: PM、上位管理者、品質管理者
- **概要**: 作成されたWBS（作業分解構造）の内容・品質・実現可能性を評価し、プロジェクト実行の基盤として正式承認する

## 事前条件
- WBSが作成され提出されている（WorkBreakdownStructure.status = "submitted"）
- 承認権限が確認されている
- 必要な資料・情報が整っている
- レビュー・検証が完了している
- 承認ワークフローが設定されている

## 事後条件
### 成功時
- WBSが正式承認されている（WorkBreakdownStructure.status = "approved"）
- 承認記録が保存されている（ApprovalRecord.status = "completed"）
- 関係者への承認通知が配信されている
- プロジェクト実行準備が整っている
- 次工程（タスクアサイン）の開始条件が満たされている

### 失敗時
- 承認却下の詳細理由が記録されている
- 修正指示が作成者に通知されている
- 再提出のプロセスが設定されている
- 承認却下ログが保存されている

## 基本フロー
1. **PMが承認申請を提出する**
   - WBS最終確認・承認申請書の作成
   - 必要資料の添付・品質チェック結果の確認

2. **システムが承認ワークフローを開始する**
   - → UC-AUTH-02: WBS承認権限を検証する
   - 承認者への通知配信・承認期限の設定
   - 承認プロセスの可視化

3. **承認者が包括的評価を実施する**
   - WBS構造・粒度の適切性確認・工数見積の妥当性評価
   - 実現可能性・リスクの評価・品質基準の確認

4. **システムが承認決定を処理する**
   - 承認・却下の判定記録・詳細理由の記録
   - 決定根拠の文書化・承認証跡の保存

5. **システムが承認結果の配信と手続きを完了する**
   - → UC-NOTIFY-01: 承認結果通知を配信する
   - → UC-AUTH-03: WBS承認ログを記録する
   - プロジェクト管理システムへの反映

## 代替フロー
### 代替フロー1: 条件付き承認
- 3a. 軽微な修正条件付きで承認可能な場合
  - 3a1. 修正条件の明確化・期限の設定
  - 3a2. 条件付き承認の記録・フォローアップ計画作成
  - 3a3. 基本フロー4（承認決定処理）に進む

### 代替フロー2: 段階的承認
- 3b. 部分的な承認が適切な場合
  - 3b1. 承認部分と保留部分の明確化
  - 3b2. 段階的承認計画の作成・次段階の要件定義
  - 3b3. 基本フロー4に戻る

## 例外フロー
### 例外1: 承認基準未達
- *a. WBSが品質基準や要件を満たしていない場合
  - *a1. → UC-AUTH-03: 承認却下ログを記録する
  - *a2. 詳細な却下理由の説明・修正指示の作成
  - *a3. 修正対応計画の提案・再承認プロセスの設定
  - *a4. 作成者・関係者への通知配信

### 例外2: 承認権限不足
- *b. 承認者の権限が不十分な場合
  - *b1. 上位承認者への権限確認・代理承認の検討
  - *b2. 必要権限取得または上位者への引き継ぎ
  - *b3. 権限確保後、基本フロー3に復帰

### 例外3: 承認期限超過
- *c. 承認期限を超過した場合
  - *c1. 期限超過の原因分析・影響評価の実施
  - *c2. 緊急承認または期限延長の検討
  - *c3. ステークホルダーとの調整・対応方針の決定
  - *c4. 対応完了後、基本フロー3に復帰

## 特別要件
- **性能**: 承認判定処理2秒以内、承認記録保存5秒以内
- **可用性**: 承認システム稼働率99.9%以上
- **セキュリティ**: 承認データ暗号化、電子署名、改ざん防止、監査証跡
- **精度**: 承認判定支援精度95%以上、誤承認率0.1%以下
- **ユーザビリティ**: 直感的な承認インターフェース、判断支援情報の充実

## 関連ユースケース
- **包含**: UC-AUTH-02（権限検証）、UC-AUTH-03（ログ記録）、UC-NOTIFY-01（通知配信）
- **前提**: WBS作成完了、品質チェック完了必須
- **後続**: タスクアサイン、プロジェクト実行開始、進捗管理開始

---
*このユースケースは パラソル設計v2.0仕様 に基づいて作成されました*
