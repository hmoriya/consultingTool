# ページ定義: 成果物作成画面

## 画面の目的
選択されたテンプレートを基に高品質な成果物を効率的に作成し、プロジェクトの要件を満たす完成品を生成する

## 利用者
- **コンサルタント**: 成果物の主要作成者として内容を記述する
- **PM**: 成果物の方向性確認と品質管理を行う
- **専門家**: 特定分野の専門的内容を作成・監修する

## 画面構成

### ヘッダー部
- 成果物名とプロジェクト名
- 作成状況インジケーター（完成度パーセンテージ）
- 自動保存状況表示
- 最終更新者・更新日時

### 左サイドパネル（構成ナビゲーション）
- **セクション一覧**:
  - 各セクションの作成状況（未着手・作成中・完了）
  - セクション間の依存関係表示
  - 推定作業時間と実際の経過時間
- **クイックナビゲーション**: セクション間の素早い移動
- **テンプレートガイド**: 各セクションの作成要点表示

### メインエディター部
- **リッチテキストエディター**:
  - 文書構造に対応した編集機能
  - 図表・画像の挿入機能
  - 数式・チャートの作成機能
  - コメント・注釈機能
- **セクション別編集モード**:
  - 現在編集中セクションのハイライト
  - セクション完了チェック機能
  - 文字数・語数カウンター

### 右サイドパネル（支援機能）
- **作成支援ツール**:
  - AI による文書校正提案
  - 類似成果物からの参考情報
  - 業界ベストプラクティス表示
- **協働機能**:
  - 共同編集者リスト
  - リアルタイムコメント
  - 変更履歴・差分表示

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 成果物タイトル | テキスト | ○ | 編集可能な成果物名 |
| 作成進捗率 | プログレスバー | ○ | セクション完了度の集計 |
| 文字数 | 数値 | ○ | 現在の総文字数 |
| 推定完成時期 | 日付 | ○ | 現在ペースでの完成予測 |
| 共同編集者 | アバター | × | 現在編集中のメンバー |
| 最終保存時刻 | 時刻 | ○ | 自動保存の最新時刻 |

### データの更新頻度
- **編集内容**: リアルタイム自動保存（30秒間隔）
- **進捗状況**: セクション完了時に更新
- **共同編集情報**: リアルタイム更新

## 入力項目

### 成果物基本情報
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 成果物タイトル | テキスト入力 | ○ | 最大200文字 | 成果物の正式名称 |
| 概要説明 | テキストエリア | ○ | 最大1000文字 | 成果物の目的と概要 |
| 対象読者 | 複数選択 | ○ | 事前定義リスト | 想定する読み手の属性 |
| 機密度設定 | 単一選択 | ○ | 4段階から選択 | アクセス制限レベル |

### セクション別入力内容
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| セクション内容 | リッチテキスト | ○ | セクション毎に設定 | 構造化された文書内容 |
| 図表・資料 | ファイルアップロード | × | 各種形式対応 | 補足資料の添付 |
| 参考文献 | 参照リンク | × | URL形式 | 根拠資料への参照 |

## アクション・操作

### 主要アクション
- **一時保存**: 現在の編集状況を保存
- **セクション完了**: 選択セクションを完成状態に設定
- **プレビュー生成**: 成果物全体の仕上がり確認
- **品質チェック実行**: 自動品質検証の開始

### 副次アクション
- **テンプレート変更**: 別テンプレートへの切り替え
- **共同編集招待**: 他メンバーの編集権限付与
- **バージョン保存**: 現在状況の明示的なバックアップ
- **エクスポート**: 外部形式での出力

## 画面の振る舞い

### ユーザー操作への反応
- **テキスト入力時**: リアルタイムでの自動保存とワードカウント更新
- **セクション切り替え時**: 編集箇所の自動保存と新セクションの読み込み
- **画像・図表挿入時**: サムネイル生成と配置調整機能表示
- **共同編集検出時**: 他者の編集箇所をリアルタイムハイライト

### 条件による表示変更
- **セクション未完了の場合**: ガイダンスメッセージと作成要点を表示
- **文字数不足の場合**: 最小要件との差分表示と作成支援提案
- **品質問題検出時**: 問題箇所のハイライトと改善案提示

## 画面遷移

### 遷移元画面
- テンプレート選択画面: テンプレート選択完了後
- 成果物一覧画面: 既存成果物の編集再開時
- セルフチェック画面: 修正指摘対応時

### 遷移先画面
- セルフチェック画面: 作成完了後の品質確認
- プレビュー画面: 仕上がり確認時
- 成果物一覧画面: 編集中断時

## エラーハンドリング
- **自動保存失敗**: ネットワーク問題時のローカル保存とアラート表示
- **同時編集競合**: 編集競合箇所の明示と手動マージ支援
- **大容量ファイル**: アップロード制限超過時の圧縮・分割提案

## アクセシビリティ要件
- キーボードショートカット対応（Ctrl+S保存、Ctrl+B太字等）
- 音声入力・読み上げ機能対応
- 高コントラストモード対応

## レスポンシブ対応
- **デスクトップ**: 3ペイン表示（ナビ・エディター・支援）
- **タブレット**: エディター中心の2ペイン表示
- **モバイル**: 全画面エディターとドロワー式ナビゲーション