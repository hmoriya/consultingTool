# ページ定義: バージョン作成画面

## 画面の目的
成果物の修正・改善が発生した際に新しいバージョンを適切に作成し、変更履歴を明確に記録・管理する

## 利用者
- **コンサルタント**: 成果物の修正版作成と変更内容の記録
- **PM**: バージョン管理ポリシーの適用と承認
- **品質管理者**: バージョン管理基準の適合性確認

## 画面構成

### ヘッダー部
- 対象成果物の基本情報
- 現在バージョンと新バージョン番号
- バージョン作成ステータス（準備中・作成中・完了）
- バージョン作成権限と承認要否

### ベースバージョン確認部
- **現在バージョン情報**:
  - バージョン番号・作成日・作成者
  - 最終更新内容と承認状況
  - 現バージョンの品質評価結果
- **バージョン履歴概要**:
  - 過去バージョンの一覧表示
  - 主要変更点のサマリー
  - 各バージョンの採用状況

### バージョン設定部
- **新バージョン番号設定**:
  - 自動採番とカスタム番号選択
  - バージョニングルール適用（Major.Minor.Patch）
  - 変更規模に応じた番号体系提案
- **バージョン分類設定**:
  - 変更種別（修正・改善・追加・削除）
  - 変更レベル（軽微・重要・重大）
  - 緊急度（通常・優先・緊急）

### 変更内容記録部
- **変更概要入力**:
  - 変更理由と背景説明
  - 主要変更点の概要記述
  - 変更による影響範囲分析
- **詳細変更ログ**:
  - セクション別変更内容
  - 追加・修正・削除の詳細
  - 変更前後の比較可能な記録

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 現在バージョン | バージョン表示 | ○ | ベースとなるバージョン情報 |
| 提案バージョン番号 | 自動生成表示 | ○ | システム推奨の新番号 |
| 変更影響度 | レベル表示 | ○ | 変更による影響の大きさ |
| 作成予定時間 | 時間表示 | ○ | バージョン作成の所要時間予測 |
| 関連バージョン | リンク表示 | × | 関連する他バージョンの情報 |
| 承認必要性 | フラグ表示 | × | 承認プロセスの要否 |

### データの更新頻度
- **バージョン情報**: ベース選択時に即時更新
- **変更履歴**: リアルタイム記録
- **影響度評価**: 変更内容入力時に自動計算

## 入力項目

### バージョン基本設定
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| バージョン番号 | テキスト入力 | ○ | 形式チェック | 新バージョンの識別番号 |
| 変更種別 | 単一選択 | ○ | 4択から選択 | 修正・改善・追加・削除 |
| 変更レベル | 3段階選択 | ○ | 軽微・重要・重大 | 変更の重要度 |
| ベースバージョン | 単一選択 | ○ | 既存バージョン | 変更元となるバージョン |

### 変更内容詳細
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 変更理由 | テキストエリア | ○ | 最大1000文字 | なぜ変更が必要か |
| 変更概要 | リッチテキスト | ○ | 最大2000文字 | 主要な変更内容 |
| 詳細変更ログ | テキストエリア | × | 最大5000文字 | セクション別の詳細変更 |
| 影響範囲 | 複数選択 | × | 事前定義リスト | 変更が影響する範囲 |

## アクション・操作

### 主要アクション
- **バージョン作成実行**: 設定完了後の新バージョン作成
- **変更内容保存**: 作業途中での一時保存
- **ベースバージョン変更**: 参照元バージョンの変更
- **バージョン作成中止**: 作成プロセスのキャンセル

### 副次アクション
- **変更差分確認**: ベースとの詳細比較表示
- **類似変更参照**: 過去の類似変更事例確認
- **承認依頼**: 承認が必要な場合の依頼送信
- **通知設定**: 関係者への通知配信設定

## 画面の振る舞い

### ユーザー操作への反応
- **ベースバージョン選択時**: 選択バージョンの詳細情報と変更差分を表示
- **変更種別選択時**: 選択に応じたバージョン番号の自動提案
- **変更内容入力時**: 影響度の自動評価と承認要否判定
- **バージョン番号変更時**: 既存番号との重複チェックと警告表示

### 条件による表示変更
- **重大変更の場合**: 承認プロセス必須の警告表示と承認者選択
- **緊急変更の場合**: 迅速承認ルートの提案と期限設定
- **軽微変更の場合**: 簡易作成フローの提供

## 画面遷移

### 遷移元画面
- 成果物編集画面: 変更完了後のバージョン作成時
- バージョン一覧画面: 新規バージョン作成開始時
- 変更要求画面: 変更依頼承認後

### 遷移先画面
- バージョン作成完了画面: 作成処理完了後
- バージョン比較画面: 作成後の差分確認時
- 承認依頼画面: 承認が必要な場合

## エラーハンドリング
- **バージョン番号重複エラー**: 既存番号検出時の代替番号提案
- **権限不足エラー**: バージョン作成権限不足時の権限要求手順
- **ベースバージョン変更エラー**: 参照バージョンの削除・移動時の対応

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動での全項目アクセス）
- スクリーンリーダー対応（バージョン情報の音声案内）
- 高コントラストモード対応（変更レベルの明確な視認性）

## レスポンシブ対応
- **デスクトップ**: 3カラムレイアウト（確認・設定・記録の並列表示）
- **タブレット**: 2カラム表示で変更内容記録を重視
- **モバイル**: タブ形式での段階的入力フロー