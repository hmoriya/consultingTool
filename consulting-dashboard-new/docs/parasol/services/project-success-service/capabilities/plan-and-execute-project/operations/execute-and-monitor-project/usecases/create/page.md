# ページ定義: 進捗レポート作成画面

## 画面の目的
収集された進捗データを分析・整理し、ステークホルダーに分かりやすく包括的な進捗レポートを効率的に作成する

## 利用者
- **PM**: プロジェクト全体の進捗レポート作成・承認
- **マネージャー**: 管理層向けサマリーレポート作成
- **営業担当**: クライアント向け進捗報告書作成
- **品質管理者**: 品質・リスク中心のレポート作成

## 画面構成

### ヘッダー部
- レポート基本情報（種別・対象期間・作成者）
- レポート作成ステータス（下書き・レビュー中・承認済み）
- 配信予定日・配信先情報
- テンプレート選択・カスタマイズ

### データ選択・集計部
- **対象データ選択**:
  - 対象期間・プロジェクト範囲
  - 対象タスク・フェーズ・メンバー
  - 成果物・マイルストーン
- **自動集計・分析**:
  - 進捗率・完了状況の自動計算
  - 工数・コスト・品質指標の集計
  - 傾向分析・予測値の算出

### レポート構成設計部
- **レポート構成**:
  - セクション構成・順序設定
  - 含める内容・除外する内容
  - 詳細レベル・表示形式
- **可視化設定**:
  - グラフ・チャートの種類選択
  - ダッシュボード・KPI表示
  - 色・フォーマット・レイアウト

### コンテンツ編集部
- **エグゼクティブサマリー**:
  - プロジェクト全体の状況概要
  - 主要達成事項・課題・リスク
  - 意思決定が必要な事項
- **詳細進捗セクション**:
  - フェーズ・タスク別詳細進捗
  - 工数・コスト・リソース状況
  - 品質・成果物・マイルストーン
- **分析・洞察セクション**:
  - 傾向分析・根本原因分析
  - リスク評価・対策効果
  - 改善提案・次期計画

### プレビュー・配信部
- **レポートプレビュー**:
  - 配信形式での表示確認
  - レイアウト・フォーマット確認
  - 印刷・PDF出力プレビュー
- **配信設定**:
  - 配信先・配信方法
  - 配信日時・頻度設定
  - アクセス権限・セキュリティ

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 進捗データ集計 | ダッシュボード | ○ | 期間中の進捗統計 |
| グラフ・チャート | 可視化 | ○ | 進捗・工数・品質の可視化 |
| 課題・リスク一覧 | 表形式 | ○ | 重要な課題・リスクの一覧 |
| 成果物状況 | ステータス表示 | ○ | 成果物別の完成・承認状況 |
| 工数・コスト分析 | 比較表 | × | 計画vs実績の詳細分析 |
| チーム生産性 | 指標表示 | × | メンバー・チームの生産性 |

### データの更新頻度
- **進捗データ**: レポート作成時に最新データを取得
- **分析結果**: データ更新時に自動再計算
- **予測値**: 日次で更新・レポート反映

## 入力項目

### レポート基本設定
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| レポート種別 | 単一選択 | ○ | 定義済み種別 | 週次・月次・フェーズ等 |
| 対象期間 | 日付範囲 | ○ | 開始≤終了 | レポート対象の期間 |
| 配信先 | 複数選択 | ○ | 関係者リスト | レポート受信者 |
| レポートタイトル | テキスト入力 | ○ | 最大200文字 | レポートの正式名称 |

### コンテンツ詳細
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| エグゼクティブサマリー | リッチテキスト | ○ | 最大1500文字 | 経営層向け要約 |
| 主要達成事項 | リッチテキスト | ○ | 最大1000文字 | 期間中の主要成果 |
| 課題・リスク状況 | リッチテキスト | ○ | 最大1000文字 | 重要課題の状況 |
| 次期計画・提案 | リッチテキスト | × | 最大800文字 | 今後の計画・改善提案 |

## アクション・操作

### 主要アクション
- **自動レポート生成**: データからの自動レポート作成
- **レポート保存**: 作成途中のレポート保存
- **レポート配信**: 完成レポートの配信実行
- **テンプレート保存**: レポート構成のテンプレート化

### 副次アクション
- **データ再取得**: 最新データでの再作成
- **カスタム分析追加**: 独自分析・チャートの追加
- **過去レポート比較**: 前回レポートとの比較表示
- **コメント・注釈追加**: 数値・グラフへの説明追加

## 画面の振る舞い

### ユーザー操作への反応
- **期間変更時**: 対象データの自動更新・再集計
- **テンプレート選択時**: 構成・フォーマットの自動適用
- **グラフ設定変更時**: リアルタイムでの表示更新
- **配信先選択時**: 配信形式・権限の自動調整

### 条件による表示変更
- **重要課題検出時**: 課題セクションの優先表示・警告
- **目標未達時**: 原因分析・対策案の自動提案
- **データ不足時**: 不足データの警告・補完提案

## 画面遷移

### 遷移元画面
- 進捗記録画面: 進捗記録完了後のレポート作成時
- プロジェクトダッシュボード: 定期レポート作成時
- レポート一覧画面: 既存レポートの編集・更新時

### 遷移先画面
- レポート承認画面: レポート完成後の承認依頼時
- レポート配信確認画面: 配信実行後の確認時
- 詳細分析画面: 深掘り分析・調査時

## エラーハンドリング
- **データ不整合エラー**: 進捗データの論理矛盾検出時の修正案内
- **レポート生成エラー**: 大量データ処理時のタイムアウト対応
- **配信エラー**: 受信者設定・権限問題時の修正案内
- **テンプレートエラー**: カスタムテンプレート適用時の互換性問題

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動でのレポート作成）
- スクリーンリーダー対応（データ・グラフ内容の音声案内）
- 高コントラストモード対応（グラフ・データの明確な視認性）

## レスポンシブ対応
- **デスクトップ**: 3ペイン表示（設定・編集・プレビューの並列）
- **タブレット**: 2ペイン表示でタブ切り替え対応
- **モバイル**: ステップ式フローでの段階的レポート作成

## レポートの品質保証
- **データ正確性**: 元データとの整合性自動チェック
- **完全性検証**: 必須セクション・項目の包含確認
- **書式統一**: 企業・プロジェクト標準への準拠確認
- **配信前確認**: 最終チェックリスト・承認フロー