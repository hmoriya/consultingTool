# ユースケース: 進捗を継続的に監視する

**バージョン**: 2.0.0
**ユースケースID**: UC-EXEC-02
**更新日**: 2025-10-23
**概要**: システムとPMがプロジェクト実行進捗をリアルタイムで継続監視し、早期逸脱発見・対処により計画通りの実行を保証する

## 🏗️ パラソルドメイン連携

### 📊 操作エンティティ
- **ProgressTrackingEntity**（自サービス管理・CRUD）: 進捗測定・分析データの統合管理
- **ProgressMonitoringEntity**（自サービス管理・状態更新: monitoring → alert → resolved）: 監視状態とアラート管理
- **ProjectExecutionEntity**（自サービス管理・参照）: プロジェクト実行状況の参照

### 🏢 パラソル集約
- **ProgressMonitoringAggregate** - 進捗監視統合管理
  - 集約ルート: ProgressMonitoring
  - 包含エンティティ: ProgressTracking, ProgressMetrics, AlertConfiguration
  - 不変条件: 進捗データの一貫性保証、監視設定の整合性維持、アラート条件の有効性確保

### ⚙️ ドメインサービス
- **ProgressVisualizationService**: enhance[ProgressVisibility]() - 進捗可視化の向上
- **EarlyWarningService**: strengthen[RiskDetection]() - 早期警告システムの強化
- **ContinuousImprovementService**: amplify[MonitoringEffectiveness]() - 監視効果の拡大

### 🔗 他サービスユースケース利用（ユースケース利用型）
**責務**: ❌ エンティティ知識不要 ✅ ユースケース利用のみ

[secure-access-service] ユースケース利用:
├── UC-AUTH-01: ユーザー認証を実行する → POST /api/auth/authenticate
├── UC-AUTH-02: 権限を検証する → POST /api/auth/validate-permission
└── UC-AUTH-03: アクセスログを記録する → POST /api/auth/log-access

[collaboration-facilitation-service] ユースケース利用:
├── UC-COMM-01: 進捗報告を配信する → POST /api/communications/send-notification
├── UC-COMM-02: 逸脱アラートを送信する → POST /api/communications/send-urgent-notification
└── UC-COMM-03: ステークホルダー会議を調整する → POST /api/communications/schedule-meeting

[knowledge-co-creation-service] ユースケース利用:
├── UC-KNOWLEDGE-01: 監視ベストプラクティスを記録する → POST /api/knowledge/capture
└── UC-KNOWLEDGE-02: 類似課題解決策を検索する → GET /api/knowledge/search-solutions

## 基本情報
- **主アクター**: システム（自動監視）、プロジェクトマネージャー（PM）
- **副アクター**: シニアコンサルタント、プロジェクトスポンサー、ステークホルダー
- **事前条件**:
  - プロジェクト実行が開始されている
  - 監視対象指標・閾値が設定されている
  - 進捗データ収集機能が稼働している
  - アラート配信設定が適切に構成されている
- **事後条件**:
  - 進捗状況がリアルタイムで可視化されている
  - 逸脱・リスクが早期に検出・通知されている
  - 継続的改善のための監視データが蓄積されている
  - ステークホルダーに適切に進捗が共有されている

## 基本フロー

1. **自動進捗データ収集**
   - システムが定期的（5分毎）に進捗データを自動収集する
   - ProgressTrackingEntity（CRUD）で進捗情報を更新・蓄積する
   - → UC-AUTH-03: アクセスログを記録する（監査用）
   - データ品質・完整性を自動検証する

2. **リアルタイム進捗分析**
   - システムが収集データをリアルタイム分析・処理する
   - 計画値との乖離度、トレンド、予測値を自動算出する
   - ProgressMonitoringEntity（状態更新: monitoring）で監視状況を記録
   - 進捗パターンの異常値検出・分類を実行する

3. **逸脱・リスク検出**
   - システムが設定閾値に基づき逸脱・リスクを自動検出する
   - 緊急度レベル（低・中・高・緊急）を自動判定・分類する
   - ProgressMonitoringEntity（状態更新: monitoring → alert）
   - → UC-KNOWLEDGE-02: 類似課題解決策を検索する

4. **自動アラート配信**
   - システムが検出した逸脱・リスクを関係者に即座通知する
   - → UC-COMM-02: 逸脱アラートを送信する（緊急度別配信）
   - PMが通知を確認・対応方針を決定する
   - 必要に応じて緊急会議を自動招集する

5. **進捗可視化・報告**
   - システムが進捗状況をダッシュボードでリアルタイム表示する
   - → UC-COMM-01: 進捗報告を配信する（定期報告）
   - PMが進捗状況を確認・分析・コメントする
   - ステークホルダー向けサマリーレポートを自動生成する

6. **監視改善・最適化**
   - PMが監視結果・効果を定期評価する
   - → UC-KNOWLEDGE-01: 監視ベストプラクティスを記録する
   - 監視パラメータ・閾値の継続的最適化を実施する
   - ProgressMonitoringEntity（状態更新: alert → resolved）

## 代替フロー

### 代替フロー1: 重大逸脱時の緊急対応
- 3a. 重大な進捗逸脱が検出された場合
  - 3a1. システムが緊急レベルアラートを即座発信する
  - 3a2. → UC-COMM-02: 緊急逸脱通知を全関係者に送信する
  - 3a3. → UC-COMM-03: 緊急対策会議を24時間以内に自動調整する
  - 3a4. PMが緊急対応チームを編成・対策実行する
  - 3a5. 基本フロー5（進捗可視化・報告）に戻る

### 代替フロー2: データ収集異常時の代替監視
- 1a. 自動データ収集に異常が発生した場合
  - 1a1. システムが収集異常を検出・警告する
  - 1a2. 手動データ入力モードに自動切り替えする
  - 1a3. PMがチームメンバーに手動進捗報告を依頼する
  - 1a4. データ収集機能の復旧作業を並行実施する
  - 1a5. 復旧完了後、基本フロー1に戻る

### 代替フロー3: 予測精度向上のための学習
- 2a. 進捗予測精度が低下した場合
  - 2a1. システムが予測精度の低下を検出する
  - 2a2. → UC-KNOWLEDGE-02: 過去の類似プロジェクトデータを検索する
  - 2a3. 機械学習モデルの再学習・パラメータ調整を実行する
  - 2a4. 改善された予測モデルで監視を再開する

## 例外フロー

### 例外1: 監視システム完全停止
- *a. 監視システムが完全停止した場合
  - *a1. システムが監視停止を検出・緊急通知を発信する
  - *a2. → UC-COMM-02: システム停止緊急通知を送信する
  - *a3. 手動監視体制に即座切り替える
  - *a4. システム復旧作業を最優先で実施する

### 例外2: 監視データの大幅な欠損
- *b. 監視データに大幅な欠損が発生した場合
  - *b1. データ欠損率を自動算出・評価する
  - *b2. 欠損期間の手動データ補完を実施する
  - *b3. データ品質保証プロセスを強化する
  - *b4. 補完完了後、通常監視に復帰する

### 例外3: アラート配信の完全停止
- *c. アラート配信機能が停止した場合
  - *c1. 代替通信手段（メール、電話等）で緊急連絡する
  - *c2. 手動での進捗確認・報告体制を確立する
  - *c3. 配信機能の緊急復旧を実施する
  - *c4. 復旧完了後、配信テストを実施して正常稼働を確認

## 特別要件

### パフォーマンス要件
- 進捗データ収集・更新: 5分以内
- 逸脱検出・アラート配信: 1分以内
- 大規模プロジェクト（200+タスク）での同時監視: 同時100プロジェクト

### 可用性要件
- 監視システム: 99.9%
- 24時間連続監視: 進捗データの継続収集

### セキュリティ要件
- 進捗データの暗号化保存
- 監視ログの改ざん防止
- アラート配信データのアクセス制御

### ユーザビリティ要件
- 進捗状況確認: リアルタイム表示
- アラート確認・対応: 3クリック以内
- カスタムダッシュボード設定: 5分以内

## パフォーマンス指標

### 効率性指標
- **逸脱早期検出率**: 95%以上（計画逸脱の事前検出）
- **アラート応答時間**: 平均5分以内
- **監視データ精度**: 98%以上

### 品質指標
- **予測精度**: 90%以上（進捗予測の正確性）
- **監視満足度**: 4.5/5.0以上（利用者評価）
- **監視効果**: 逸脱による影響30%削減

### ビジネス価値指標
- **リスク削減効果**: 早期検出による損失回避50%
- **意思決定迅速化**: 判断時間60%短縮
- **ステークホルダー信頼度**: 進捗透明性による信頼向上

## エンティティ関連

### ProgressTrackingEntity（主要）
- 進捗データの完全なライフサイクル管理
- リアルタイム進捗収集・分析・蓄積
- 監視指標・KPIの統合管理

### ProgressMonitoringEntity
- 監視設定・状態の管理
- アラート条件・閾値の設定
- 監視履歴・効果測定の記録

### ProjectExecutionEntity（参照）
- プロジェクト実行状況の参照
- 監視対象プロジェクトの特定
- 実行フェーズとの連携

## ビジネスルール

### BR-MONITOR-01: 監視データ品質保証
- 進捗データの欠損率は5%以下を維持
- データ収集間隔は最大5分以内

### BR-MONITOR-02: アラート配信基準
- 緊急レベル: 1分以内の即座配信
- 高レベル: 5分以内の迅速配信
- 中・低レベル: 定期報告に含めて配信

### BR-MONITOR-03: 監視継続性確保
- 監視システムの冗長化必須
- 手動監視への切り替え手順確立

## 用語集

- **継続監視**: プロジェクト実行期間中の切れ目ない進捗監視
- **早期逸脱検出**: 計画からの逸脱を事前に検出・警告する機能
- **リアルタイム可視化**: 進捗状況の即座的な表示・共有
- **予測分析**: 現在データから将来の進捗・リスクを予測する分析