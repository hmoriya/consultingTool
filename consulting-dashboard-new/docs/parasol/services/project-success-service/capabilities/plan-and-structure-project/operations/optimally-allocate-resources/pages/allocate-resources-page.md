# ページ定義: リソース配分画面

## 画面の目的
需要予測に基づいて利用可能なリソースを各プロジェクト・タスクに最適配分し、組織全体の生産性・効率性・目標達成を最大化する配分計画を策定・実行する

## 利用者
- **リソースマネージャー**: 組織全体のリソース配分戦略・最適化・調整・承認
- **プロジェクトマネージャー**: プロジェクト要件・優先度・スケジュールに基づく配分要求・調整
- **エグゼクティブ**: 戦略的リソース配分・投資判断・優先度設定・承認決定
- **チームリーダー**: チーム内配分・専門性活用・負荷調整・効率化

## 画面構成

### ヘッダー部
- 配分対象期間・範囲・制約条件・最適化目標・承認状況
- 配分効率性・目標達成度・制約充足度・リスク・改善余地
- 最適化アルゴリズム・パラメータ・重み付け・制約・前提条件
- 重要な警告・競合・制約違反・対応要求・承認待ち事項

### リソース在庫・可用性表示部
- **リソースプール**:
  - 利用可能なリソースの一覧・スキル・経験・可用期間・稼働率
  - スキル別・レベル別・部門別・地域別・コスト別の分類表示
  - 専任・兼任・外部・フリーランス・パートナーの区分・条件
- **可用性カレンダー**:
  - リソース別の可用性・予約状況・制約・休暇・研修・他業務
  - 時間単位・日単位・週単位・月単位での可用性詳細
  - 柔軟性・調整可能性・緊急対応・優先度変更の余地

### 配分要求・ニーズ表示部
- **プロジェクト要求**:
  - 各プロジェクトのリソース要求・スキル要件・期間・優先度
  - 必須要件・推奨要件・代替可能要件・柔軟性・調整余地
  - 開始日・終了日・マイルストーン・依存関係・制約条件
- **需要詳細分析**:
  - スキル別・期間別・重要度別・緊急度別の需要分布
  - ピーク需要・競合要求・ボトルネック・調整必要箇所
  - 代替案・分割可能性・前倒し・後倒し・柔軟対応オプション

### 最適化条件設定部
- **目標関数設定**:
  - 効率性最大化・コスト最小化・納期遵守・品質確保・顧客満足
  - 売上最大化・利益最大化・リスク最小化・成長機会・戦略適合
  - 複数目標・重み付け・優先順位・トレードオフ・バランス調整
- **制約条件設定**:
  - リソース容量・スキル適合・可用期間・コスト予算・品質基準
  - 法的制約・契約条件・組織方針・安全要件・コンプライアンス
  - 依存関係・前提条件・排他制約・相互依存・共有制約

### 配分シミュレーション部
- **自動最適配分**:
  - 線形計画法・整数計画法・遺伝的アルゴリズム・制約充足・ヒューリスティック
  - マルチ目標最適化・パレート最適・感度分析・ロバスト最適化
  - リアルタイム最適化・動的配分・適応配分・学習最適化
- **手動調整**:
  - ドラッグ&ドロップによる直感的配分・微調整・例外対応
  - 専門知識・経験・判断による配分・政治的配慮・関係性考慮
  - what-ifシナリオ・仮想配分・影響確認・取り消し・やり直し

### 配分結果可視化部
- **配分マトリクス**:
  - リソース×プロジェクトの配分マトリクス・稼働率・負荷状況
  - ガントチャート・タイムライン・カレンダー・負荷グラフ
  - 色分け・強調・警告・推奨・注意・確認事項の視覚表示
- **効果測定**:
  - 配分効率・目標達成予測・コスト効果・リスク評価・改善余地
  - KPI・メトリクス・ベンチマーク・比較分析・トレンド・予測
  - ROI・生産性・品質・顧客満足・チーム満足・成長・学習

### 制約・競合管理部
- **制約違反検出**:
  - リソース容量・スキル不適合・期間制約・予算超過・品質不足
  - 依存関係・排他制約・相互競合・資源競合・時間競合
  - 自動検出・警告・影響分析・対策提案・調整案・代替案
- **競合解決**:
  - 優先度・重要度・緊急度・戦略性・収益性による競合解決
  - 交渉・調整・妥協・代替・分割・延期・外部調達・創意工夫
  - ステークホルダー合意・承認・記録・透明性・公平性

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| リソース一覧 | 表・カード表示 | ○ | スキル・可用性・コスト |
| 配分マトリクス | マトリクス表示 | ○ | リソース×プロジェクト配分 |
| 負荷グラフ | ガントチャート表示 | ○ | 期間別リソース負荷 |
| 最適化結果 | ダッシュボード表示 | ○ | 効率・コスト・達成度 |
| 制約状況 | ステータス表示 | ○ | 制約充足・違反・警告 |
| 配分履歴 | タイムライン表示 | × | 過去の配分・変更履歴 |

### データの更新頻度
- **リソース可用性**: リアルタイム更新・予約・変更・キャンセル反映
- **配分結果**: 配分変更時に即座更新・再計算・影響分析
- **制約チェック**: 配分操作時にリアルタイム検証・警告表示

## 入力項目

### 最適化パラメータ
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 最適化目標 | 複数選択 | ○ | 目標一覧 | 効率・コスト・品質等 |
| 目標重み付け | 数値入力 | ○ | 合計100% | 各目標の重要度（%） |
| 最適化期間 | 日付範囲 | ○ | 有効な期間 | 配分対象期間 |
| 制約強度 | スライダー | ○ | 1-10の範囲 | 制約の厳格さレベル |

### 配分制約条件
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 最大稼働率 | 数値入力 | ○ | 0-150の範囲 | リソースの最大稼働率（%） |
| スキル適合度 | 単一選択 | ○ | 完全一致/部分一致/柔軟 | スキルマッチング厳格さ |
| 分割可能性 | チェックボックス | × | - | タスクの分割・並行実行可否 |
| 優先プロジェクト | 複数選択 | × | プロジェクト一覧 | 優先配分対象プロジェクト |

## アクション・操作

### 主要アクション
- **自動最適配分**: アルゴリズムによる全体最適・制約下最適配分実行
- **手動配分調整**: ドラッグ&ドロップ・直接編集による配分微調整
- **制約検証**: 配分案の制約充足・妥当性・実行可能性検証
- **配分確定**: 配分計画の承認・確定・実行・関係者通知

### 副次アクション
- **シナリオ比較**: 複数配分案・what-ifシナリオの比較・評価
- **配分テンプレート**: 配分パターン・ルールのテンプレート保存・適用
- **影響分析**: 配分変更・調整による影響・波及効果の分析
- **レポート生成**: 配分計画書・効果分析・承認資料の作成

## 画面の振る舞い

### ユーザー操作への反応
- **リソース選択時**: 利用可能期間・スキル・制約・適合プロジェクトの表示
- **配分変更時**: リアルタイム制約チェック・影響計算・警告・推奨表示
- **最適化実行時**: 進捗表示・中間結果・収束状況・調整提案の動的更新
- **制約調整時**: 配分可能性・選択肢・トレードオフ・代替案の即座表示

### 条件による表示変更
- **制約違反時**: 警告色・エラーメッセージ・修正案・影響範囲の強調表示
- **最適解発見時**: 推奨表示・効果予測・改善度・採用メリットの明示
- **競合発生時**: 競合内容・影響・調整必要性・解決オプションの表示

## 画面遷移

### 遷移元画面
- リソース需要予測画面: 需要分析完了後の具体的配分計画策定時
- プロジェクト詳細画面: プロジェクト要件確定後のリソース配分時
- リソース管理画面: リソース状況確認後の配分・活用計画時

### 遷移先画面
- 稼働率最適化画面: 配分確定後の稼働率調整・負荷平準化時
- スケジュール調整画面: リソース配分を反映したスケジュール調整時
- パフォーマンス監視画面: 配分実行後の効果測定・モニタリング時

## エラーハンドリング
- **最適化失敗エラー**: 解なし・収束不良時の制約緩和・目標調整案内
- **制約競合エラー**: 制約の矛盾・競合時の優先度設定・調整方法案内
- **リソース不足エラー**: 需要超過時の外部調達・スケジュール調整案内
- **権限エラー**: 配分権限不足時の承認者・手続き・代替手段案内

## アクセシビリティ要件
- キーボードナビゲーション対応（Tab移動での配分操作・最適化・調整）
- スクリーンリーダー対応（配分状況・制約・効果・警告の音声案内）
- 高コントラストモード対応（配分・制約・効率・警告の明確な視認性）

## レスポンシブ対応
- **デスクトップ**: 4ペイン表示（リソース・要求・配分・結果・制約管理）
- **タブレット**: 3ペイン表示でスワイプ・タブ切り替え・ピンチズーム対応
- **モバイル**: カード式表示での段階的配分・重要指標の優先表示

## 配分品質の保証
- **最適性**: アルゴリズム・ヒューリスティック・専門知識による最適配分
- **実行可能性**: 制約充足・現実性・調整可能性・リスク評価による検証
- **透明性**: 配分根拠・計算過程・トレードオフ・代替案の明確な説明
- **適応性**: 変更・調整・学習・改善による継続的な配分品質向上