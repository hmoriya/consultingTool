# ユースケース: 実行計画を作成する

## 基本情報
- **ユースケースID**: UC-COST-01
- **アクター**: 財務マネージャー、データアナリスト、PM
- **概要**: コスト削減機会の分析結果に基づき、具体的で実行可能な削減実行計画を作成し、確実な効果実現を支援する

## 事前条件
- 財務マネージャーが適切な実行計画作成権限を有している
- コスト分析が完了し削減機会が特定されている（CostAnalysisEntity: insights_generated状態）
- OptimizationProposalEntity（削減提案）が策定済みである
- 実行に必要なリソース情報が取得可能である

## 事後条件
### 成功時
- 精度95%以上の実行計画が作成されている
- ExecutionPlanEntity（状態変更: draft → planned → approved）
- 実行スケジュール・担当者・マイルストーンが明確化されている
- ステークホルダーへの実行計画共有通知が配信されている

### 失敗時
- 実行計画作成エラーが記録されている
- CostAnalysisEntity（状態: insights_generated）が維持されている
- エラー内容が関係者に通知されている

## 基本フロー
1. **財務マネージャーが実行計画作成プロセスを開始する**
   - → UC-AUTH-01: ユーザー認証を実行する
   - → UC-AUTH-02: 実行計画作成権限を検証する
   - ExecutionPlanEntity（状態初期化: draft）

2. **システムが削減提案・リソース情報を収集・統合する**
   - → UC-PROJECT-01: プロジェクト情報を取得する
   - → UC-PROJECT-02: コスト実績情報を確認する
   - OptimizationIntelligenceService による実行可能性評価

3. **財務マネージャーが実行計画を策定・最適化する**
   - ExecutionPlanningService による実行順序・リソース配分最適化
   - 担当者配分・スケジュール・マイルストーン設定
   - リスク評価・contingency plan策定

4. **システムが実行計画品質を検証・確定する**
   - ExecutionPlanningService による実行可能性98%評価
   - コスト削減効果予測・ROI 300%達成確認
   - ExecutionPlanEntity（状態変更: draft → planned）

5. **実行計画を承認・共有準備する**
   - OptimizationIntelligenceService（費用対効果最終確認）
   - → UC-COMM-01: 実行計画共有通知を配信する
   - ExecutionPlanEntity（状態変更: planned → approved）

## 代替フロー
### 代替フロー1: AI支援による実行計画最適化
- 3a. ExecutionPlanningService が実行効率最適化を提案した場合
  - 3a1. AI分析による最適実行順序・リソース配分の提案実行
  - 3a2. 類似成功事例の分析・学習適用
  - 3a3. OptimizationIntelligenceService による変更管理戦略適用
  - 3a4. 基本フロー4（品質検証）に戻る

### 代替フロー2: 緊急実行計画策定
- 1a. 緊急性が高いコスト削減要求の場合
  - 1a1. → UC-COMM-03: 緊急実行計画会議を調整する
  - 1a2. 24時間以内の短縮策定プロセス適用
  - 1a3. 緊急策定フロー（最小限品質確保）
  - 1a4. 基本フロー4（品質検証）に戻る

## 例外フロー
### 例外1: プロジェクト情報取得失敗
- *a. project-success-service連携エラーが発生した場合
  - *a1. → UC-COMM-01: データ取得障害アラートを配信する
  - *a2. 代替データソースからの情報取得
  - *a3. 手動情報補完モードへの切り替え
  - *a4. 情報取得完了後、基本フロー3から再開

### 例外2: 実行計画権限不足・競合
- *b. 実行計画権限が不足または競合している場合
  - *b1. → UC-AUTH-02: 上位権限者への承認依頼
  - *b2. 権限昇格または権限調整プロセス
  - *b3. 権限確定後、基本フロー1から再開

### 例外3: 実行可能性基準未達
- *c. ExecutionPlanningService が品質基準未達を検出した場合
  - *c1. 実行可能性向上のための追加分析実行
  - *c2. 専門データアナリスト支援要請
  - *c3. 実行計画見直しまたは段階的実行検討
  - *c4. 品質確保後、基本フロー4から再開

## 特別要件
- **性能**: 実行計画策定プロセス完了時間3営業日以内
- **可用性**: システム稼働率99.5%以上
- **セキュリティ**: 実行計画データの暗号化、アクセスログ記録
- **精度**: 実行可能性95%以上達成（ExecutionPlanningService評価）
- **ユーザビリティ**: 直感的UI、計画策定支援ガイド機能

## 関連ユースケース
- **包含**: UC-AUTH-01〜02, UC-PROJECT-01〜02, UC-COMM-01, UC-COMM-03
- **前提**: コスト分析完了・削減機会特定完了必須
- **後続**: 実行計画実行・効果測定

---
*このユースケースは パラソル設計v2.0仕様 に基づいて作成されました*
