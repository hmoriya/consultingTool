# ページ定義: マイルストーン型収益認識ページ

## 画面の目的
プロジェクトマイルストーンの達成状況に基づき、段階的に収益を認識し、契約に定められた成果物完了と収益認識のタイミングを適切に管理する。

## 利用者
- **PM**: マイルストーン完了報告・成果物確認・認識申請
- **財務マネージャー**: マイルストーン承認・収益認識実行・会計処理
- **クライアント**: 成果物確認・マイルストーン承認・検収処理

## 画面構成

### ヘッダー部
- **ページタイトル**: 「マイルストーン型収益認識」
- **プロジェクト選択**: マイルストーン契約プロジェクトの選択・切替
- **期間フィルター**: 認識対象期間・マイルストーン期限での絞り込み
- **進捗サマリー**: 全マイルストーンの完了率・認識率・残件数

### メインコンテンツ部

#### 1. マイルストーン一覧（上部）
- **マイルストーン情報**: 名称・期限・成果物・認識金額・現在ステータス
- **完了進捗**: 各マイルストーンの完了率・残作業・遅延リスク
- **収益配分**: マイルストーン別収益金額・累計認識額・残認識額
- **承認状況**: PM承認・クライアント承認・財務承認の段階表示

#### 2. 成果物管理パネル（左サイド）
- **成果物一覧**: マイルストーン対応成果物・品質・完成度
- **品質チェック**: 成果物品質・仕様適合・クライアント要求水準
- **納品状況**: 納品済み・修正中・承認待ち・検収済みの管理
- **関連文書**: 仕様書・設計書・テスト結果・承認書類

#### 3. 認識計算パネル（右サイド）
- **認識金額計算**: マイルストーン別金額・税務処理・為替換算
- **累積認識**: 累計認識済み金額・残り認識予定・契約総額対比
- **認識スケジュール**: 今後の認識予定・期限・リスク要因
- **調整項目**: 契約変更・仕様変更・追加作業の収益影響

### 詳細管理エリア（下部）

#### 4. マイルストーン詳細管理
- **作業詳細**: マイルストーン達成に必要な作業・進捗・品質
- **リスク管理**: 遅延リスク・品質リスク・承認リスク・対策状況
- **変更管理**: 仕様変更・スコープ変更・スケジュール変更の影響
- **コミュニケーション**: クライアント・チーム・ステークホルダーとの調整

#### 5. 承認・認識処理
- **段階承認**: PM→クライアント→財務の段階承認フロー
- **成果物検収**: クライアントによる成果物確認・承認・修正要求
- **収益認識**: 承認完了後の収益認識実行・仕訳生成・連携処理
- **例外処理**: 承認遅延・修正要求・契約変更・認識延期

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 更新頻度 | 説明 |
|-----------|---------|---------|------|
| マイルストーン名 | テキスト | 固定 | 契約で定められた成果物名称 |
| 完了率 | パーセンテージ | 日次 | マイルストーン達成進捗 |
| 認識金額 | 通貨表示 | 固定 | マイルストーン達成時認識額 |
| 承認状況 | ステータス | リアルタイム | 承認プロセスの現在段階 |

### マイルストーン管理
- **プロジェクト連携**: プロジェクト進捗・作業実績・品質指標との連携
- **契約管理**: 契約条件・変更履歴・追加契約との整合性管理
- **品質管理**: 成果物品質・テスト結果・レビュー結果の記録
- **承認履歴**: 承認・差戻し・修正・再承認の完全な履歴管理

## アクション・操作

### 主要認識アクション
- **完了申請**: PMによるマイルストーン完了申請・成果物提出
- **承認処理**: クライアント・財務による段階承認・条件確認
- **収益認識**: 承認完了後の自動・手動収益認識実行
- **一括処理**: 複数マイルストーンの同時承認・認識処理

### マイルストーン管理アクション
- **進捗更新**: マイルストーン進捗・完了予定・リスク情報更新
- **成果物管理**: 成果物アップロード・バージョン管理・品質確認
- **変更申請**: 仕様変更・期限変更・金額変更の申請・承認
- **リスク対応**: 遅延・品質・承認リスクの早期警告・対策実行

### 分析・レポートアクション
- **進捗分析**: マイルストーン達成率・遅延分析・効率性評価
- **収益分析**: 段階別収益認識・累計実績・予定との比較
- **品質分析**: 成果物品質・修正回数・承認期間の分析
- **リスク分析**: リスク要因・影響度・対策効果の評価

## 画面の振る舞い

### 動的ステータス管理
- **リアルタイム更新**: 作業進捗・承認状況・認識ステータスの即座反映
- **自動通知**: マイルストーン期限・承認期限・リスク発生の自動アラート
- **ワークフロー制御**: 承認段階に応じた操作権限・画面表示制御
- **連携同期**: プロジェクト管理・契約管理・財務システムとの自動同期

### 品質・進捗監視
- **進捗監視**: マイルストーン進捗・作業効率・品質指標の継続監視
- **品質チェック**: 成果物品質・仕様適合・クライアント満足度の評価
- **リスク検知**: 遅延・品質・承認・収益認識リスクの早期発見
- **パフォーマンス分析**: マイルストーン達成効率・収益性・改善機会

## 画面遷移

### 遷移元画面
- **プロジェクト管理**: プロジェクト進捗からマイルストーン詳細へ
- **契約管理**: 契約条件からマイルストーン設定・管理へ
- **収益ダッシュボード**: 収益概要からマイルストーン詳細認識へ

### 遷移先画面
- **成果物詳細**: マイルストーン成果物の詳細確認・品質管理
- **承認詳細**: 承認プロセス詳細・コメント・履歴確認
- **収益調整**: 認識済み収益の調整・修正・追加認識
- **プロジェクト分析**: マイルストーン実績・効率・改善分析

## エラーハンドリング
- **マイルストーン未達**: 期限内完了不可時の延期・分割・調整処理
- **承認遅延**: クライアント承認遅延時のエスカレーション・代替案
- **成果物不適合**: 品質・仕様不適合時の修正・再提出・認識延期
- **システムエラー**: 承認・認識・連携システムエラー時の復旧・代替処理

## アクセシビリティ要件
- **承認操作**: 承認・差戻し・コメント入力のキーボード・音声対応
- **進捗確認**: マイルストーン進捗・ステータスの音声読み上げ対応
- **成果物管理**: ファイルアップロード・確認操作の簡易・代替手段
- **色覚対応**: ステータス・進捗・リスクレベルを色以外でも識別

## レスポンシブ対応
- **デスクトップ**: 全機能・詳細管理・複雑承認・高精度分析対応
- **タブレット**: 主要管理・承認操作・進捗確認・タッチ最適化
- **モバイル**: ステータス確認・簡易承認・通知確認・外出先対応