# ページ定義: ログイン画面

## 画面の目的
システムへの安全なアクセスを提供するため、ユーザーの身元を確認し認証を行う画面

## 利用者
- **主要利用者**: すべてのシステムユーザー（Executive、PM、Consultant、Client）
- **副次利用者**: システム管理者（ログイン状況の監視）

## 画面構成

### ヘッダー部
- システムロゴ（左上）
- 言語切替メニュー（右上）
- ヘルプリンク（右上）

### メインコンテンツ部
- **ログインフォーム**: 中央配置、カード型デザイン
  - タイトル「ログイン」
  - メールアドレス入力フィールド
  - パスワード入力フィールド
  - 「ログインを保持する」チェックボックス
  - ログインボタン（プライマリ）
  - パスワードリセットリンク
  - 新規登録リンク（該当する場合）

- **MFA入力エリア**: 初回認証成功後に表示
  - 6桁コード入力フィールド
  - 確認ボタン
  - バックアップコード使用リンク

- **セキュリティ情報**: フォーム下部
  - セキュリティ証明書アイコン
  - 「このサイトは保護されています」メッセージ
  - プライバシーポリシーリンク

### サイドバー部
なし（ログイン画面では非表示）

### フッター部
- コピーライト表記
- 利用規約リンク
- プライバシーポリシーリンク
- お問い合わせリンク

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| システムロゴ | 画像 | ○ | ブランドアイデンティティ |
| エラーメッセージ | テキスト（赤） | × | 認証失敗時のみ表示 |
| ログイン試行残数 | テキスト | × | 3回失敗後に表示 |
| アカウントロック時間 | カウントダウン | × | ロック時のみ表示 |
| セキュリティアラート | バナー | × | 異常検知時に表示 |

### データの更新頻度
- **エラーメッセージ**: リアルタイム（認証試行時）
- **ロック時間**: 1秒ごと（カウントダウン）

## 入力項目

### フォーム一覧
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| メールアドレス | テキスト | ○ | メール形式 | ログインID |
| パスワード | パスワード | ○ | 8文字以上 | マスク表示/表示切替可能 |
| MFAコード | 数値 | △ | 6桁数値 | MFA有効時のみ必須 |
| ログイン保持 | チェックボックス | × | - | 30日間ログイン状態維持 |

## アクション・操作

### 主要アクション
- **ログイン**: 認証情報を送信し、システムにアクセス
- **パスワードリセット**: パスワード再設定画面へ遷移
- **MFA認証**: 多要素認証コードを検証

### 副次アクション
- **パスワード表示切替**: 入力中のパスワードを可視化
- **言語切替**: UIの表示言語を変更
- **ヘルプ表示**: ログイン方法のガイダンス表示

## 画面の振る舞い

### ユーザー操作への反応
- **メール入力時**: フォーマットチェック（リアルタイム）
- **パスワード入力時**: 強度インジケーター表示
- **ログインボタン押下時**:
  - ローディング表示
  - フィールドを無効化
  - 認証処理実行
- **認証成功時**:
  - MFA必要なら入力画面表示
  - 不要ならダッシュボードへ遷移
- **認証失敗時**:
  - エラーメッセージ表示
  - フィールドをクリア
  - フォーカスをメールフィールドへ

### 条件による表示変更
- **初回アクセス時**: ウェルカムメッセージ表示
- **連続失敗時**: キャプチャ表示（3回目以降）
- **アカウントロック時**: ロック解除までのカウントダウン
- **メンテナンス時**: メンテナンス告知バナー
- **セキュリティアラート時**: 警告バナーと詳細情報

## 画面遷移

### 遷移元画面
- ランディングページ: 未認証アクセス時
- セッションタイムアウト画面: 自動ログアウト後
- パスワードリセット完了画面: パスワード変更後
- ユーザー登録完了画面: 新規登録後

### 遷移先画面
- ダッシュボード: 認証成功時（デフォルト）
- MFA設定画面: 初回ログイン時（MFA未設定）
- パスワードリセット画面: リンククリック時
- 利用規約同意画面: 規約更新時
- プロファイル設定画面: 初回ログイン時

## エラーハンドリング
- **メール形式エラー**: 「正しいメールアドレスを入力してください」
- **認証失敗**: 「メールアドレスまたはパスワードが正しくありません」
- **アカウント無効**: 「このアカウントは無効です。管理者にお問い合わせください」
- **アカウントロック**: 「アカウントがロックされています。15分後に再試行してください」
- **MFA失敗**: 「認証コードが正しくありません」
- **ネットワークエラー**: 「接続エラーが発生しました。再試行してください」
- **サーバーエラー**: 「システムエラーが発生しました。しばらく待ってから再試行してください」

## アクセシビリティ要件
- キーボードナビゲーション: Tab/Shift+Tabでフォーカス移動
- Enterキーでログイン実行
- スクリーンリーダー対応: ARIAラベル付与
- 高コントラストモード対応
- フォントサイズ調整可能（最大200%）
- エラーメッセージの音声読み上げ
- フォーカス可視化（アウトライン表示）

## レスポンシブ対応
- **デスクトップ** (1024px以上):
  - 中央配置、最大幅480px
  - 左右にブランドイメージ表示
- **タブレット** (768px-1023px):
  - 中央配置、左右マージン32px
  - ブランドイメージ非表示
- **モバイル** (767px以下):
  - 全幅表示、マージン16px
  - 縦長レイアウト
  - タッチ操作最適化（ボタンサイズ44px以上）