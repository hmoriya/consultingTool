# ユースケース: チーム構成を承認する

## 基本情報
- **ユースケースID**: UC-TEAM-05
- **アクター**: エグゼクティブ、PMO、部門責任者、リソースマネージャー
- **概要**: 提案されたチーム構成案に対して包括的な評価・検証を行い、実行可否の判定から正式承認までを実行する

## 事前条件
- チーム構成提案が完成している（TeamCompositionProposal.status = "pending_approval"）
- 承認権限が確認されている
- 予算影響分析が完了している
- リソース確保可能性が検証されている
- 必要なステークホルダーが特定されている

## 事後条件
### 成功時
- チーム構成が正式承認されている（TeamComposition.status = "approved"）
- チームメンバーへの正式アサインが実行されている
- 予算配分が確定している
- 承認履歴が記録されている
- プロジェクト開始権限が付与されている

### 失敗時
- 承認拒否の詳細理由がログに記録されている
- 修正が必要な項目が明確化されている
- 再提案のガイダンスが提供されている
- ステークホルダーへの通知が配信されている

## 基本フロー
1. **承認者がチーム構成の承認審査を開始する**
   - 提案チーム構成の詳細確認・スキルバランスの評価
   - 予算・リソース影響の分析・プロジェクト成功可能性の判定

2. **システムが承認権限と審査環境を提供する**
   - → UC-AUTH-02: チーム構成承認権限を検証する
   - 承認審査フォームの表示・過去事例の参照
   - 評価基準とチェックリストの提示

3. **承認者が詳細評価と判定を実行する**
   - チームバランスの妥当性評価・スキル構成の適切性分析
   - 予算対効果の評価・リスク・実現可能性の検証

4. **システムが承認判定を処理・記録する**
   - 承認判定の確定・承認条件の設定
   - メンバーアサインの実行・予算配分の確定

5. **システムが承認結果の配信と記録を完了する**
   - チームメンバー・関係者への承認通知配信
   - → UC-NOTIFY-01: 承認完了通知を配信する
   - → UC-AUTH-03: 承認判定ログを記録する

## 代替フロー
### 代替フロー1: 条件付き承認
- 3a. 軽微な調整が必要な場合
  - 3a1. 条件付き承認の実行・調整要求事項の明確化
  - 3a2. 調整期限の設定・フォローアップ計画の作成
  - 3a3. 基本フロー4（承認判定処理）に進む

### 代替フロー2: 段階的承認
- 3b. 大規模チームで段階的承認が必要な場合
  - 3b1. 承認段階の決定・次段階承認者の特定
  - 3b2. 段階別承認フローの設定・承認履歴の管理
  - 3b3. 基本フロー4に戻る

## 例外フロー
### 例外1: 承認権限不足
- *a. 承認権限が不足している場合
  - *a1. → UC-AUTH-03: 権限不足ログを記録する
  - *a2. 必要権限の特定・上位承認者への引き継ぎ
  - *a3. 権限確認後、基本フロー2に復帰

### 例外2: 予算超過判定
- *b. チーム構成コストが予算を大幅に超過している場合
  - *b1. 予算影響分析の実行・代替案の検討要求
  - *b2. エグゼクティブへのエスカレーション・特別承認手続き
  - *b3. 予算調整完了後、基本フロー3に復帰

### 例外3: リソース確保不可能
- *c. 提案メンバーのアサインが不可能な場合
  - *c1. アサイン不可理由の詳細記録・代替メンバーの検討
  - *c2. チーム構成の抜本的見直し要求・構成策定段階への差し戻し
  - *c3. 再構成完了後、基本フロー1に復帰

## 特別要件
- **性能**: 承認判定処理1秒以内、通知配信3秒以内、承認画面表示2秒以内
- **可用性**: 承認システム稼働率99.9%以上、24時間365日利用可能
- **セキュリティ**: 承認データ暗号化、電子署名対応、アクセス制御、変更履歴保存
- **精度**: 承認判定の一貫性100%、承認権限チェック精度100%
- **ユーザビリティ**: 直感的な承認インターフェース、モバイル対応

## 関連ユースケース
- **包含**: UC-AUTH-02（権限検証）、UC-AUTH-03（ログ記録）、UC-NOTIFY-01（通知配信）
- **前提**: チーム構成提案策定完了必須
- **後続**: プロジェクト開始、チーム運営、パフォーマンス管理

---
*このユースケースは パラソル設計v2.0仕様 に基づいて作成されました*
