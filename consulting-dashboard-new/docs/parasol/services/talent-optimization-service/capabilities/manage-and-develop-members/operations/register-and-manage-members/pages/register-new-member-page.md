# ページ定義: メンバー新規登録画面

## 画面の目的
新入社員や新規参画メンバーの基本情報、スキル、経歴を効率的かつ正確に登録し、組織のメンバー情報データベースを最新に保つことで、プロジェクトアサインや人材活用の意思決定を支援する。

## 利用者
- **主要利用者**: 人事管理者
  - 役割: メンバー情報の登録責任者
  - 利用目的: 新規メンバーの迅速で正確な情報登録、組織の人材データベース更新
- **副次利用者**: 部門マネージャー
  - 役割: 登録内容の確認と承認
  - 利用目的: 所属メンバー情報の品質確保と承認業務

## 画面構成

### ヘッダー部
- メンバー新規登録タイトル
- 登録進捗インジケーター（ステップ1/4のような表示）
- 完成度メーター（必須項目の入力率をパーセンテージ表示）
- 自動保存状況インジケーター

### メインコンテンツ部
- **基本情報セクション**: 氏名、メールアドレス、所属部門、役職、入社日の必須項目
- **スキル情報セクション**: スキル名、レベル、取得日の動的追加フォーム（最低3つ）
- **経歴情報セクション**: プロジェクト履歴、役割、期間の履歴入力
- **資格情報セクション**: 資格名、取得日、有効期限の任意入力
- **添付ファイルセクション**: 証明書類、履歴書等のファイルアップロード

### サイドバー部
- 登録ガイダンス（必須項目チェックリスト）
- 重複チェック結果表示
- 類似プロファイル候補の表示
- 入力支援ツール（スキル辞書、部門一覧等）

### フッター部
- 下書き保存ボタン
- バリデーション実行ボタン
- 登録実行ボタン
- キャンセルボタン
- プレビューボタン

## データ表示

### 表示データ一覧
| データ項目 | 表示形式 | 必須 | 説明 |
|-----------|---------|------|------|
| 氏名 | テキスト入力 | ○ | 姓名分離またはフルネーム |
| メールアドレス | メール入力 | ○ | 組織ドメイン制限付き |
| 所属部門 | 選択リスト | ○ | 組織階層に基づく選択 |
| 役職 | 選択リスト | ○ | 役職マスターからの選択 |
| 入社日 | 日付選択 | ○ | カレンダーウィジェット |
| スキル名 | テキスト+候補 | ○ | 自動補完機能付き |
| スキルレベル | 5段階評価 | ○ | レーダーチャート表示 |
| プロジェクト履歴 | 動的テーブル | × | 期間と役割の記録 |
| 資格情報 | 動的リスト | × | 有効期限アラート機能 |
| 完成度スコア | プログレスバー | - | リアルタイム計算表示 |

### データの更新頻度
- **基本情報**: リアルタイム バリデーション（入力時）
- **重複チェック**: メールアドレス入力完了時に自動実行
- **完成度計算**: 各項目入力時にリアルタイム更新
- **自動保存**: 30秒間無操作後に実行

## 入力項目

### フォーム一覧
| 入力項目 | 入力形式 | 必須 | バリデーション | 説明 |
|---------|---------|------|---------------|------|
| 氏名 | テキスト（50文字以内） | ○ | 文字種制限、禁止文字チェック | 漢字・ひらがな・カタカナ・英字 |
| メールアドレス | メール形式 | ○ | RFC準拠・ドメイン制限・重複チェック | 組織ドメインのみ許可 |
| 所属部門 | 単一選択 | ○ | 有効部門チェック | 階層構造での部門選択 |
| 役職 | 単一選択 | ○ | 部門-役職整合性チェック | 部門に応じた役職候補 |
| 入社日 | 日付選択 | ○ | 未来日制限・妥当性チェック | 本日以前の日付 |
| スキル名 | テキスト（30文字以内） | ○ | 重複チェック・辞書照合 | スキル辞書からの候補表示 |
| スキルレベル | 1-5段階選択 | ○ | 数値範囲チェック | 1:初級〜5:エキスパート |
| 取得日 | 日付選択 | × | 入社日以前チェック | スキル取得の合理性確認 |
| プロジェクト名 | テキスト（100文字以内） | × | 文字数制限 | 過去参画プロジェクト |
| 役割 | テキスト（50文字以内） | × | 文字数制限 | プロジェクトでの担当役割 |
| 期間 | 日付範囲選択 | × | 開始≤終了チェック | プロジェクト参画期間 |

## アクション・操作

### 主要アクション
- **重複チェック実行**: メールアドレス入力後に既存メンバーとの重複を自動検証
- **スキル追加**: スキル情報の動的追加（最低3つ、上限なし）
- **バリデーション実行**: 全項目の整合性と必須項目充足を一括確認
- **下書き保存**: 入力途中での一時保存（自動・手動両対応）
- **登録実行**: 全バリデーション通過後の本登録とプロファイル作成

### 副次アクション
- **プレビュー表示**: 作成予定のプロファイルをプレビュー表示
- **テンプレート適用**: 類似ポジションのメンバーテンプレートを適用
- **ファイルアップロード**: 履歴書や証明書の添付
- **スキル辞書参照**: 組織標準スキル辞書の検索・参照
- **履歴インポート**: 外部システムからの経歴情報取り込み

## 画面の振る舞い

### ユーザー操作への反応
- **メールアドレス入力完了**時: 重複チェックを自動実行、結果をリアルタイム表示
- **所属部門選択**時: 対応する役職候補を動的フィルタリング、選択肢を更新
- **スキル入力開始**時: スキル辞書から候補を表示、自動補完機能を提供
- **必須項目入力完了**時: 完成度メーターを更新、次ステップボタンを活性化
- **バリデーションエラー発生**時: 該当項目をハイライト、具体的な修正指示を表示

### 条件による表示変更
- **管理職登録**の場合: 追加承認フロー項目を表示、部門長承認が必要な旨を通知
- **外部パートナー**の場合: 契約期間・契約区分の入力項目を追加表示
- **重複候補検出**時: 類似プロファイルを比較表示、統合オプションを提示
- **スキル不足**（3つ未満）の場合: スキル追加を促すガイダンスを強調表示
- **必須項目未入力**の場合: 登録ボタンを非活性化、不足項目リストを表示

## 画面遷移

### 遷移元画面
- メンバー一覧画面: 「新規メンバー追加」ボタンからの遷移
- ダッシュボード: 「メンバー登録」ウィジェットからの遷移
- 入社手続き完了画面: 人事手続き完了後の自動遷移

### 遷移先画面
- メンバー一覧画面: 登録完了時またはキャンセル時の遷移
- メンバー詳細画面: 登録完了後のプロファイル確認画面への遷移
- 承認ワークフロー画面: 管理職登録時の承認申請画面への遷移
- 通知確認画面: 登録完了通知の送信確認画面への遷移

## エラーハンドリング
- **バリデーションエラー**: 各入力項目の隣に具体的なエラーメッセージを表示、修正方法を明示
- **重複検出エラー**: 重複候補との比較画面を表示、統合・継続の選択肢を提供
- **ネットワークエラー**: 自動保存失敗時は警告表示、手動保存の推奨とローカル保存機能
- **権限エラー**: アクセス権限不足時は管理者連絡先を表示、権限申請手順を案内
- **添付ファイルエラー**: ファイルサイズ・形式制限違反時は制限内容と推奨形式を表示

## アクセシビリティ要件
- **キーボードナビゲーション**: タブキーでの順次移動、エンターキーでの次項目移動
- **スクリーンリーダー対応**: 全入力項目にaria-label設定、エラーメッセージの音声読み上げ
- **色覚障害への配慮**: エラー表示は色のみでなくアイコンと文字で明示
- **フォントサイズ対応**: ブラウザ設定による文字サイズ変更に柔軟対応

## レスポンシブ対応
- **デスクトップ**: 横並び2ペインレイアウトで効率的な入力環境
- **タブレット**: 縦スクロール単一カラム、タッチ操作に最適化されたUI
- **モバイル**: セクション毎の分割表示、スワイプによるセクション移動

## 特別要件

### パフォーマンス要件
- **初期表示**: 画面表示開始から2秒以内で入力可能状態
- **重複チェック**: メールアドレス入力から1秒以内で結果表示
- **自動保存**: 30秒無操作後の自動実行、保存完了まで3秒以内

### セキュリティ要件
- **アクセス制御**: 人事管理者権限の厳格な確認、セッション管理
- **データ保護**: 個人情報の暗号化送信、一時保存データの暗号化
- **監査ログ**: 全操作の詳細記録、データ変更履歴の完全追跡

### 品質要件
- **データ精度**: 必須項目100%入力の保証、データ形式の厳格チェック
- **操作性**: 新規利用者でも迷わない直感的UI、明確な操作ガイダンス
- **信頼性**: システムエラー時の安全なデータ保護、復旧手順の明示

### 運用要件
- **バックアップ**: 入力データの定期的な自動バックアップ
- **復旧**: システム障害時の入力データ復旧機能
- **監視**: システム利用状況とエラー発生の常時監視