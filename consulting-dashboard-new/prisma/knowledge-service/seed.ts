import { PrismaClient as KnowledgePrismaClient } from '@prisma/knowledge-client'

const knowledgeDb = new KnowledgePrismaClient({
  datasources: {
    db: {
      url: process.env.KNOWLEDGE_DATABASE_URL || 'file:./prisma/knowledge-service/data/knowledge.db'
    }
  }
})

async function seed() {
  console.log('ğŸŒ± Starting knowledge service seeding...')

  try {
    // æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢
    await knowledgeDb.searchLog.deleteMany()
    await knowledgeDb.expertReview.deleteMany()
    await knowledgeDb.expert.deleteMany()
    await knowledgeDb.fAQFeedback.deleteMany()
    await knowledgeDb.fAQ.deleteMany()
    await knowledgeDb.template.deleteMany()
    await knowledgeDb.articleAttachment.deleteMany()
    await knowledgeDb.articleView.deleteMany()
    await knowledgeDb.articleLike.deleteMany()
    await knowledgeDb.articleComment.deleteMany()
    await knowledgeDb.articleRevision.deleteMany()
    await knowledgeDb.article.deleteMany()
    await knowledgeDb.knowledgeCategory.deleteMany()

    // ã‚«ãƒ†ã‚´ãƒªã‚’ä½œæˆ
    const categories = await Promise.all([
      knowledgeDb.knowledgeCategory.create({
        data: {
          name: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†',
          description: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã«é–¢ã™ã‚‹ãƒŠãƒ¬ãƒƒã‚¸',
          icon: 'ğŸ“Š',
          color: 'blue',
          order: 1
        }
      }),
      knowledgeDb.knowledgeCategory.create({
        data: {
          name: 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼',
          description: 'æŠ€è¡“çš„ãªãƒŠãƒ¬ãƒƒã‚¸ã¨å®Ÿè£…ã‚¬ã‚¤ãƒ‰',
          icon: 'ğŸ’»',
          color: 'green',
          order: 2
        }
      }),
      knowledgeDb.knowledgeCategory.create({
        data: {
          name: 'ãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥',
          description: 'ãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥ã¨ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°æ‰‹æ³•',
          icon: 'ğŸ¯',
          color: 'purple',
          order: 3
        }
      }),
      knowledgeDb.knowledgeCategory.create({
        data: {
          name: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          description: 'ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå¯¾å¿œã¨ãƒãƒ¼ãƒ ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          icon: 'ğŸ’¬',
          color: 'orange',
          order: 4
        }
      }),
      knowledgeDb.knowledgeCategory.create({
        data: {
          name: 'ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹',
          description: 'æ¥­ç•Œã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨äº‹ä¾‹',
          icon: 'â­',
          color: 'yellow',
          order: 5
        }
      })
    ])

    console.log(`âœ… Created ${categories.length} categories`)

    // ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã‚’ä½œæˆ
    const articles = await Promise.all([
      // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
      knowledgeDb.article.create({
        data: {
          title: 'ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã®åŠ¹æœçš„ãªå°å…¥æ–¹æ³•',
          content: `# ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã®åŠ¹æœçš„ãªå°å…¥æ–¹æ³•

## æ¦‚è¦
ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã¯ã€å¤‰åŒ–ã«æŸ”è»Ÿã«å¯¾å¿œã—ãªãŒã‚‰ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚’é€²ã‚ã‚‹æ‰‹æ³•ã§ã™ã€‚æœ¬è¨˜äº‹ã§ã¯ã€ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã‚’çµ„ç¹”ã«åŠ¹æœçš„ã«å°å…¥ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚

## ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã¨ã¯

ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã¯ã€ä»¥ä¸‹ã®4ã¤ã®ä¾¡å€¤ã‚’é‡è¦–ã—ã¾ã™ï¼š

1. **ãƒ—ãƒ­ã‚»ã‚¹ã‚„ãƒ„ãƒ¼ãƒ«ã‚ˆã‚Šã‚‚å€‹äººã¨å¯¾è©±ã‚’**
2. **åŒ…æ‹¬çš„ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚ˆã‚Šã‚‚å‹•ãã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’**
3. **å¥‘ç´„äº¤æ¸‰ã‚ˆã‚Šã‚‚é¡§å®¢ã¨ã®å”èª¿ã‚’**
4. **è¨ˆç”»ã«å¾“ã†ã“ã¨ã‚ˆã‚Šã‚‚å¤‰åŒ–ã¸ã®å¯¾å¿œã‚’**

## å°å…¥ã‚¹ãƒ†ãƒƒãƒ—

### 1. çµ„ç¹”ã®ç¾çŠ¶åˆ†æ
- ç¾åœ¨ã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã®èª²é¡Œã‚’æ´—ã„å‡ºã™
- ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã®æœŸå¾…å€¤ã‚’ç¢ºèªã™ã‚‹
- ãƒãƒ¼ãƒ ã®ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ã‚’è©•ä¾¡ã™ã‚‹

### 2. ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é¸å®š
- å°è¦æ¨¡ã§å½±éŸ¿ç¯„å›²ãŒé™å®šçš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸ã¶
- æˆåŠŸã®å¯èƒ½æ€§ãŒé«˜ã„ãƒãƒ¼ãƒ ã‚’é¸å®šã™ã‚‹
- æ˜ç¢ºãªæˆåŠŸåŸºæº–ã‚’è¨­å®šã™ã‚‹

### 3. ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã¨æº–å‚™
- ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã¸ã®ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ç ”ä¿®ã‚’å®Ÿæ–½
- ã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ã‚„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼ã®è‚²æˆ
- å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã®å°å…¥ï¼ˆJiraã€Trelloç­‰ï¼‰

### 4. æ®µéšçš„ãªå°å…¥
- ã‚¹ãƒ—ãƒªãƒ³ãƒˆæœŸé–“ã‚’2é€±é–“ã‹ã‚‰é–‹å§‹
- ãƒ‡ã‚¤ãƒªãƒ¼ã‚¹ã‚¯ãƒ©ãƒ ã‚’å°å…¥
- ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã§ç¶™ç¶šçš„æ”¹å–„

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

- **é€æ˜æ€§ã‚’ä¿ã¤**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã‚’å¯è¦–åŒ–
- **ç¶™ç¶šçš„ãªæ”¹å–„**: å„ã‚¹ãƒ—ãƒªãƒ³ãƒˆã®æŒ¯ã‚Šè¿”ã‚Šã‚’é‡è¦–
- **é¡§å®¢ã¨ã®é »ç¹ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚’çŸ­ã

## ã‚ˆãã‚ã‚‹èª²é¡Œã¨å¯¾ç­–

### èª²é¡Œ1: çµ„ç¹”ã®æŠµæŠ—
**å¯¾ç­–**: æ®µéšçš„å°å…¥ã¨ãƒ¡ãƒªãƒƒãƒˆã®å¯è¦–åŒ–

### èª²é¡Œ2: ã‚¹ã‚­ãƒ«ä¸è¶³
**å¯¾ç­–**: ç¶™ç¶šçš„ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã¨å¤–éƒ¨ã‚³ãƒ¼ãƒã®æ´»ç”¨

### èª²é¡Œ3: ãƒ„ãƒ¼ãƒ«ã®ä¹±ç«‹
**å¯¾ç­–**: æœ€å°é™ã®ãƒ„ãƒ¼ãƒ«ã‹ã‚‰å§‹ã‚ã¦å¾ã€…ã«æ‹¡å¼µ

## ã¾ã¨ã‚

ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã®å°å…¥ã¯ä¸€æœä¸€å¤•ã«ã¯è¡Œãã¾ã›ã‚“ã€‚çµ„ç¹”ã®æ–‡åŒ–ã¨ç¾çŠ¶ã‚’ç†è§£ã—ã€æ®µéšçš„ã«å°å…¥ã™ã‚‹ã“ã¨ãŒæˆåŠŸã®éµã¨ãªã‚Šã¾ã™ã€‚`,
          summary: 'ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã‚’çµ„ç¹”ã«åŠ¹æœçš„ã«å°å…¥ã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹',
          categoryId: categories[0].id,
          authorId: 'pm-user-id',
          status: 'PUBLISHED',
          tags: JSON.stringify(['ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«', 'ã‚¹ã‚¯ãƒ©ãƒ ', 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†', 'å°å…¥æ–¹æ³•']),
          keywords: 'ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™º å°å…¥ ã‚¹ã‚¯ãƒ©ãƒ  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†',
          estimatedReadTime: 8,
          difficulty: 'INTERMEDIATE',
          viewCount: 342,
          likeCount: 45,
          publishedAt: new Date('2024-01-15')
        }
      }),

      // ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼
      knowledgeDb.article.create({
        data: {
          title: 'Next.js 14ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯',
          content: `# Next.js 14ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

## ã¯ã˜ã‚ã«
Next.js 14ã§ã¯ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®ãŸã‚ã®æ–°æ©Ÿèƒ½ãŒå¤šæ•°è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚æœ¬è¨˜äº‹ã§ã¯ã€å®Ÿè·µçš„ãªæœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## Server Componentsã®æ´»ç”¨

### åŸºæœ¬æ¦‚å¿µ
Server Componentsã¯ã€ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã•ã‚Œã‚‹JavaScriptã®é‡ã‚’å‰Šæ¸›ã—ã¾ã™ã€‚

\`\`\`typescript
// app/components/HeavyComponent.tsx
// ã“ã‚Œã¯Server Componentã¨ã—ã¦å‹•ä½œ
export default async function HeavyComponent() {
  const data = await fetchHeavyData()
  return <div>{/* ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° */}</div>
}
\`\`\`

## ç”»åƒæœ€é©åŒ–

### next/imageã®æ´»ç”¨
\`\`\`typescript
import Image from 'next/image'

export function OptimizedImage() {
  return (
    <Image
      src="/hero.jpg"
      alt="Hero"
      width={1200}
      height={600}
      priority
      placeholder="blur"
      blurDataURL={blurDataUrl}
    />
  )
}
\`\`\`

## ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®å‰Šæ¸›

### å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
\`\`\`typescript
const HeavyChart = dynamic(() => import('./HeavyChart'), {
  loading: () => <p>Loading chart...</p>,
  ssr: false
})
\`\`\`

## ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥

### ISRã®æ´»ç”¨
\`\`\`typescript
export const revalidate = 3600 // 1æ™‚é–“ã”ã¨ã«å†æ¤œè¨¼
\`\`\`

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

Core Web Vitalsã‚’å®šæœŸçš„ã«æ¸¬å®šã—ã€æ”¹å–„ã®åŠ¹æœã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚

## ã¾ã¨ã‚
Next.js 14ã®æ–°æ©Ÿèƒ½ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€å¤§å¹…ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ãŒå¯èƒ½ã§ã™ã€‚`,
          summary: 'Next.js 14ã®æ–°æ©Ÿèƒ½ã‚’æ´»ç”¨ã—ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æ‰‹æ³•',
          categoryId: categories[1].id,
          authorId: 'consultant-user-id',
          status: 'PUBLISHED',
          tags: JSON.stringify(['Next.js', 'React', 'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹', 'æœ€é©åŒ–']),
          keywords: 'Next.js 14 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ æœ€é©åŒ– Server Components',
          estimatedReadTime: 10,
          difficulty: 'ADVANCED',
          viewCount: 567,
          likeCount: 89,
          publishedAt: new Date('2024-02-10')
        }
      }),

      // ãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥
      knowledgeDb.article.create({
        data: {
          title: 'DXæ¨é€²ã«ãŠã‘ã‚‹çµ„ç¹”å¤‰é©ã®é€²ã‚æ–¹',
          content: `# DXæ¨é€²ã«ãŠã‘ã‚‹çµ„ç¹”å¤‰é©ã®é€²ã‚æ–¹

## DXã¨ã¯ä½•ã‹

ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆDXï¼‰ã¯ã€ãƒ‡ã‚¸ã‚¿ãƒ«æŠ€è¡“ã‚’æ´»ç”¨ã—ã¦ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã‚„çµ„ç¹”æ–‡åŒ–ã‚’å¤‰é©ã™ã‚‹ã“ã¨ã§ã™ã€‚

## çµ„ç¹”å¤‰é©ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

### 1. ãƒ“ã‚¸ãƒ§ãƒ³ã®ç­–å®š
- æ˜ç¢ºãªã‚´ãƒ¼ãƒ«è¨­å®š
- ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã®å·»ãè¾¼ã¿
- æˆåŠŸæŒ‡æ¨™ã®å®šç¾©

### 2. ç¾çŠ¶åˆ†æ
- ãƒ‡ã‚¸ã‚¿ãƒ«æˆç†Ÿåº¦ã®è©•ä¾¡
- ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
- ãƒªã‚½ãƒ¼ã‚¹ã®æ£šå¸ã—

### 3. ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã®ä½œæˆ
- çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã®ç›®æ¨™è¨­å®š
- ã‚¯ã‚¤ãƒƒã‚¯ã‚¦ã‚£ãƒ³ã®ç‰¹å®š
- ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®è¨­å®š

### 4. çµ„ç¹”ä½“åˆ¶ã®æ§‹ç¯‰
- DXæ¨é€²ãƒãƒ¼ãƒ ã®çµ„æˆ
- æ¨©é™ã¨è²¬ä»»ã®æ˜ç¢ºåŒ–
- éƒ¨é–€æ¨ªæ–­çš„ãªå”åŠ›ä½“åˆ¶

## æˆåŠŸã®ãƒã‚¤ãƒ³ãƒˆ

1. **çµŒå–¶å±¤ã®ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆ**
2. **å¾“æ¥­å“¡ã®æ„è­˜æ”¹é©**
3. **å¤±æ•—ã‚’è¨±å®¹ã™ã‚‹æ–‡åŒ–**
4. **ç¶™ç¶šçš„ãªå­¦ç¿’**

## ã¾ã¨ã‚

DXæ¨é€²ã¯æŠ€è¡“å°å…¥ã ã‘ã§ãªãã€çµ„ç¹”å…¨ä½“ã®å¤‰é©ãŒå¿…è¦ã§ã™ã€‚`,
          summary: 'DXæ¨é€²ã‚’æˆåŠŸã«å°ããŸã‚ã®çµ„ç¹”å¤‰é©ã®é€²ã‚æ–¹ã¨ãƒã‚¤ãƒ³ãƒˆ',
          categoryId: categories[2].id,
          authorId: 'exec-user-id',
          status: 'PUBLISHED',
          tags: JSON.stringify(['DX', 'çµ„ç¹”å¤‰é©', 'ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–', 'æˆ¦ç•¥']),
          keywords: 'DX ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ çµ„ç¹”å¤‰é© æ¨é€²',
          estimatedReadTime: 6,
          difficulty: 'INTERMEDIATE',
          viewCount: 892,
          likeCount: 156,
          publishedAt: new Date('2024-01-20')
        }
      }),

      // ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
      knowledgeDb.article.create({
        data: {
          title: 'åŠ¹æœçš„ãªã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ç®¡ç†ã®å®Ÿè·µ',
          content: `# åŠ¹æœçš„ãªã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ç®¡ç†ã®å®Ÿè·µ

## ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ç®¡ç†ã®é‡è¦æ€§

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæˆåŠŸã®éµã¯ã€ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã®è‰¯å¥½ãªé–¢ä¿‚æ§‹ç¯‰ã«ã‚ã‚Šã¾ã™ã€‚

## ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼åˆ†æ

### ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°
1. **ç‰¹å®š**: å…¨ã¦ã®ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—
2. **åˆ†é¡**: å½±éŸ¿åŠ›ã¨é–¢å¿ƒåº¦ã§ãƒãƒˆãƒªã‚¯ã‚¹åŒ–
3. **å„ªå…ˆé †ä½ä»˜ã‘**: ãƒªã‚½ãƒ¼ã‚¹é…åˆ†ã®æœ€é©åŒ–

## ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥

### 1. å®šæœŸçš„ãªæƒ…å ±å…±æœ‰
- é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ
- æœˆæ¬¡ã‚¹ãƒ†ã‚¢ãƒªãƒ³ã‚°ã‚³ãƒŸãƒƒãƒ†ã‚£
- å››åŠæœŸãƒ¬ãƒ“ãƒ¥ãƒ¼

### 2. ãƒãƒ£ãƒãƒ«ã®æœ€é©åŒ–
- ãƒ¡ãƒ¼ãƒ«: æ­£å¼ãªé€£çµ¡
- Slack: æ—¥å¸¸çš„ãªã‚„ã‚Šå–ã‚Š
- å¯¾é¢ä¼šè­°: é‡è¦ãªæ„æ€æ±ºå®š

### 3. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—
- ç©æ¥µçš„ãªæ„è¦‹åé›†
- è¿…é€Ÿãªå¯¾å¿œ
- æ”¹å–„ã®å¯è¦–åŒ–

## æœŸå¾…å€¤ç®¡ç†

### æœŸå¾…å€¤ã®èª¿æ•´
- ç¾å®Ÿçš„ãªç›®æ¨™è¨­å®š
- ãƒªã‚¹ã‚¯ã®äº‹å‰å…±æœ‰
- æˆæœã®å®šæœŸçš„ãªç¢ºèª

## ã¾ã¨ã‚

ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ç®¡ç†ã¯ç¶™ç¶šçš„ãªãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚`,
          summary: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæˆåŠŸã«æ¬ ã‹ã›ãªã„ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ç®¡ç†ã®å®Ÿè·µçš„æ‰‹æ³•',
          categoryId: categories[3].id,
          authorId: 'pm-user-id',
          status: 'PUBLISHED',
          tags: JSON.stringify(['ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼', 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³', 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†']),
          keywords: 'ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ç®¡ç† ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ æœŸå¾…å€¤èª¿æ•´',
          estimatedReadTime: 5,
          difficulty: 'BEGINNER',
          viewCount: 445,
          likeCount: 72,
          publishedAt: new Date('2024-02-05')
        }
      }),

      // ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
      knowledgeDb.article.create({
        data: {
          title: 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã§ã®ãƒãƒ¼ãƒ ç”Ÿç”£æ€§å‘ä¸Š',
          content: `# ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã§ã®ãƒãƒ¼ãƒ ç”Ÿç”£æ€§å‘ä¸Š

## ã¯ã˜ã‚ã«

ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãŒä¸€èˆ¬åŒ–ã—ãŸä»Šã€ãƒãƒ¼ãƒ ã®ç”Ÿç”£æ€§ã‚’ç¶­æŒãƒ»å‘ä¸Šã•ã›ã‚‹æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚

## ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æœ€é©åŒ–

### éåŒæœŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ´»ç”¨
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã®å¾¹åº•
- éŒ²ç”»ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æ´»ç”¨
- ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’è€ƒæ…®ã—ãŸé€£æº

### ãƒ„ãƒ¼ãƒ«ã®çµ±ä¸€
- Notion: ãƒŠãƒ¬ãƒƒã‚¸ç®¡ç†
- Slack: ãƒãƒ£ãƒƒãƒˆ
- Zoom: ãƒ“ãƒ‡ã‚ªä¼šè­°
- Miro: ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

## ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹

### å¢ƒç•Œç·šã®è¨­å®š
- å‹¤å‹™æ™‚é–“ã®æ˜ç¢ºåŒ–
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆç©ºé–“ã®ç¢ºä¿
- é€šçŸ¥ã®ç®¡ç†

## ãƒãƒ¼ãƒ ãƒ“ãƒ«ãƒ‡ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒãƒ£ãƒ«äº¤æµ
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ©ãƒ³ãƒ
- ãƒãƒ¼ãƒãƒ£ãƒ«ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ–ãƒ¬ã‚¤ã‚¯
- ãƒãƒ¼ãƒ ã‚²ãƒ¼ãƒ 

## ç”Ÿç”£æ€§ã®æ¸¬å®š

### KPIã®è¨­å®š
- ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆé‡è¦–
- å“è³ªæŒ‡æ¨™ã®å°å…¥
- å®šæœŸçš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

## ã¾ã¨ã‚

ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã§ã‚‚ã€é©åˆ‡ãªä»•çµ„ã¿ã¨ãƒ„ãƒ¼ãƒ«ã§ç”Ÿç”£æ€§ã¯å‘ä¸Šã§ãã¾ã™ã€‚`,
          summary: 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã§ãƒãƒ¼ãƒ ã®ç”Ÿç”£æ€§ã‚’å‘ä¸Šã•ã›ã‚‹å®Ÿè·µçš„ãªæ–¹æ³•',
          categoryId: categories[4].id,
          authorId: 'consultant-user-id',
          status: 'PUBLISHED',
          tags: JSON.stringify(['ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯', 'ç”Ÿç”£æ€§', 'ãƒãƒ¼ãƒ ç®¡ç†', 'ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹']),
          keywords: 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ ç”Ÿç”£æ€§ ãƒãƒ¼ãƒ ç®¡ç† ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
          estimatedReadTime: 7,
          difficulty: 'INTERMEDIATE',
          viewCount: 678,
          likeCount: 134,
          publishedAt: new Date('2024-02-15')
        }
      })
    ])

    console.log(`âœ… Created ${articles.length} articles`)

    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆ
    const templates = await Promise.all([
      knowledgeDb.template.create({
        data: {
          name: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆææ¡ˆæ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ',
          description: 'æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆææ¡ˆæ™‚ã«ä½¿ç”¨ã™ã‚‹æ¨™æº–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ',
          content: `# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆææ¡ˆæ›¸

## 1. ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼
[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚è¦ã‚’ç°¡æ½”ã«è¨˜è¼‰]

## 2. èƒŒæ™¯ã¨èª²é¡Œ
### 2.1 ç¾çŠ¶åˆ†æ
[ç¾åœ¨ã®çŠ¶æ³ã¨èª²é¡Œã‚’è¨˜è¼‰]

### 2.2 è§£æ±ºã™ã¹ãèª²é¡Œ
[å…·ä½“çš„ãªèª²é¡Œã‚’ãƒªã‚¹ãƒˆåŒ–]

## 3. ææ¡ˆå†…å®¹
### 3.1 ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ¦‚è¦
[ææ¡ˆã™ã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®æ¦‚è¦]

### 3.2 æœŸå¾…åŠ¹æœ
[å®šé‡çš„ãƒ»å®šæ€§çš„åŠ¹æœã‚’è¨˜è¼‰]

## 4. å®Ÿæ–½è¨ˆç”»
### 4.1 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
[ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã¨ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³]

### 4.2 ä½“åˆ¶
[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½“åˆ¶å›³]

## 5. äºˆç®—
[æ¦‚ç®—è²»ç”¨ã¨å†…è¨³]

## 6. ãƒªã‚¹ã‚¯ã¨å¯¾ç­–
[æƒ³å®šã•ã‚Œã‚‹ãƒªã‚¹ã‚¯ã¨ mitigation plan]`,
          categoryId: categories[0].id,
          authorId: 'pm-user-id',
          type: 'PROPOSAL',
          tags: JSON.stringify(['ææ¡ˆæ›¸', 'ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ', 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ']),
          variables: JSON.stringify({
            projectName: '',
            clientName: '',
            budget: '',
            duration: ''
          }),
          useCount: 23
        }
      }),
      knowledgeDb.template.create({
        data: {
          name: 'é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ',
          description: 'ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘é€±æ¬¡é€²æ—ãƒ¬ãƒãƒ¼ãƒˆ',
          content: `# é€±æ¬¡é€²æ—ãƒ¬ãƒãƒ¼ãƒˆ

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå]
**æœŸé–“**: [é–‹å§‹æ—¥] - [çµ‚äº†æ—¥]
**å ±å‘Šè€…**: [å ±å‘Šè€…å]

## ä»Šé€±ã®æˆæœ
- [æˆæœ1]
- [æˆæœ2]
- [æˆæœ3]

## é€²æ—çŠ¶æ³
| ã‚¿ã‚¹ã‚¯ | è¨ˆç”» | å®Ÿç¸¾ | é€²æ—ç‡ |
|--------|------|------|--------|
| [ã‚¿ã‚¹ã‚¯1] | [è¨ˆç”»] | [å®Ÿç¸¾] | [%] |

## èª²é¡Œã¨ãƒªã‚¹ã‚¯
| é …ç›® | å†…å®¹ | å¯¾å¿œç­– | æœŸé™ |
|------|------|--------|------|
| [èª²é¡Œ1] | [å†…å®¹] | [å¯¾ç­–] | [æœŸé™] |

## æ¥é€±ã®äºˆå®š
- [äºˆå®š1]
- [äºˆå®š2]
- [äºˆå®š3]

## ä¾é ¼äº‹é …
- [ä¾é ¼äº‹é …ãŒã‚ã‚‹å ´åˆã«è¨˜è¼‰]`,
          categoryId: categories[3].id,
          authorId: 'consultant-user-id',
          type: 'REPORT',
          tags: JSON.stringify(['ãƒ¬ãƒãƒ¼ãƒˆ', 'é€±æ¬¡', 'ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ']),
          useCount: 45
        }
      })
    ])

    console.log(`âœ… Created ${templates.length} templates`)

    // FAQã‚’ä½œæˆ
    const faqs = await Promise.all([
      knowledgeDb.fAQ.create({
        data: {
          question: 'ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã¨ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«é–‹ç™ºã®ä½¿ã„åˆ†ã‘ã¯ï¼Ÿ',
          answer: `ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã¨ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«é–‹ç™ºã®é¸æŠã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹æ€§ã«ã‚ˆã£ã¦æ±ºã¾ã‚Šã¾ã™ã€‚

**ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºãŒé©ã—ã¦ã„ã‚‹å ´åˆ**:
- è¦ä»¶ãŒä¸æ˜ç¢ºã¾ãŸã¯å¤‰æ›´ãŒå¤šã„
- æ—©æœŸã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å¾—ãŸã„
- å°è¦æ¨¡ã€œä¸­è¦æ¨¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- ã‚¤ãƒãƒ™ãƒ¼ãƒ†ã‚£ãƒ–ãªè£½å“é–‹ç™º

**ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«é–‹ç™ºãŒé©ã—ã¦ã„ã‚‹å ´åˆ**:
- è¦ä»¶ãŒæ˜ç¢ºã§å¤‰æ›´ãŒå°‘ãªã„
- è¦åˆ¶ã‚„ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ãŒå³ã—ã„
- å¤§è¦æ¨¡ãªåŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ é–‹ç™º
- äºˆç®—ã¨æœŸé™ãŒå›ºå®šã•ã‚Œã¦ã„ã‚‹

å¤šãã®å ´åˆã€ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚æ¤œè¨ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚`,
          categoryId: categories[0].id,
          authorId: 'pm-user-id',
          viewCount: 234,
          helpfulCount: 189
        }
      }),
      knowledgeDb.fAQ.create({
        data: {
          question: 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã§ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã¯ï¼Ÿ',
          answer: `ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã§ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã¨ã—ã¦ã€ä»¥ä¸‹ã‚’æ¨å¥¨ã—ã¾ã™ï¼š

1. **VPN ã®ä½¿ç”¨**: ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¸ã®å®‰å…¨ãªæ¥ç¶š
2. **2è¦ç´ èªè¨¼**: ã™ã¹ã¦ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§æœ‰åŠ¹åŒ–
3. **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¿è­·**: ã‚¦ã‚¤ãƒ«ã‚¹å¯¾ç­–ã‚½ãƒ•ãƒˆã®å°å…¥
4. **ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–**: é‡è¦ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–
5. **å®šæœŸçš„ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®æ´»ç”¨
6. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç ”ä¿®**: å¾“æ¥­å“¡ã®æ„è­˜å‘ä¸Š`,
          categoryId: categories[1].id,
          authorId: 'consultant-user-id',
          viewCount: 456,
          helpfulCount: 402
        }
      })
    ])

    console.log(`âœ… Created ${faqs.length} FAQs`)

    // ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆæƒ…å ±ã‚’ä½œæˆ
    const experts = await Promise.all([
      knowledgeDb.expert.create({
        data: {
          userId: 'exec-user-id',
          bio: 'çµŒå–¶æˆ¦ç•¥ã¨DXæ¨é€²ã®ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆã€‚15å¹´ä»¥ä¸Šã®ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°çµŒé¨“ã‚’æŒã¡ã€Fortune 500ä¼æ¥­ã®å¤‰é©ã‚’å¤šæ•°æ”¯æ´ã€‚',
          specialties: JSON.stringify(['çµŒå–¶æˆ¦ç•¥', 'DXæ¨é€²', 'çµ„ç¹”å¤‰é©', 'M&A']),
          certifications: JSON.stringify(['PMP', 'TOGAF', 'MBA']),
          experience: 'å¤§æ‰‹ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ãƒ¼ãƒ ã§ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã—ã¦10å¹´ã€ç‹¬ç«‹å¾Œ5å¹´',
          contactInfo: JSON.stringify({
            email: 'expert@example.com',
            availability: 'æœˆãƒ»æ°´ãƒ»é‡‘ã®åˆå¾Œ'
          }),
          rating: 4.8,
          reviewCount: 24
        }
      }),
      knowledgeDb.expert.create({
        data: {
          userId: 'pm-user-id',
          bio: 'ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã€‚CSMãŠã‚ˆã³PMPèªå®šä¿æŒè€…ã€‚',
          specialties: JSON.stringify(['ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«', 'ã‚¹ã‚¯ãƒ©ãƒ ', 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†', 'ãƒãƒ¼ãƒ è‚²æˆ']),
          certifications: JSON.stringify(['CSM', 'PMP', 'SAFe']),
          experience: '10å¹´ä»¥ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†çµŒé¨“ã€50ä»¥ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æˆåŠŸã«å°ã',
          rating: 4.6,
          reviewCount: 18
        }
      })
    ])

    console.log(`âœ… Created ${experts.length} experts`)

    console.log('âœ… Knowledge service seeding completed successfully!')
  } catch (error) {
    console.error('âŒ Error seeding knowledge service:', error)
    throw error
  } finally {
    await knowledgeDb.$disconnect()
  }
}

seed()
  .catch((error) => {
    console.error('Failed to seed knowledge service:', error)
    process.exit(1)
  })